window.__require=function t(e,n,i){function o(r,a){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({ActionHelper:[function(t,e,n){"use strict";cc._RF.push(e,"4047dIkOMxIsICIanjA/4bR","ActionHelper");var i=cc.ActionInterval.extend({_initial_x:0,_initial_y:0,_strength_x:0,_strength_y:0,ctor:function(t,e,n){this.initWithDuration(t,e,n)},initWithDuration:function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.call(this,t),this._strength_x=e,this._strength_y=n,!0},rangeRand:function(t,e){return Math.random()*(e-t)+t},update:function(){var t=this.rangeRand(-this._strength_x,this._strength_x),e=this.rangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},startWithTarget:function(t){cc.ActionInterval.prototype.startWithTarget.call(this,t),this._initial_x=t.x,this._initial_y=t.y},stop:function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.call(this)}});e.exports.shake=function(t,e,n){return new i(t,e,n)},e.exports.shakeEffect=function(t,e){var n=cc.v2(0,10);t.stopAllActions(),this.schedule&&clearTimeout(this.schedule),t.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.02,n.rotate(Math.PI/4*0%8)),cc.moveTo(.02,n.rotate(Math.PI/4*3%8)),cc.moveTo(.02,n.rotate(Math.PI/4*6%8)),cc.moveTo(.02,n.rotate(Math.PI/4*9%8)),cc.moveTo(.02,n.rotate(Math.PI/4*12%8)),cc.moveTo(.02,n.rotate(Math.PI/4*15%8)),cc.moveTo(.02,n.rotate(Math.PI/4*18%8)),cc.moveTo(.02,n.rotate(Math.PI/4*21%8)))));this.schedule=setTimeout(function(){t.stopAllActions(),t.setPosition(0,0)},1e3*e)},e.exports.getBatteryAction=function(t,e,n,i,o){var s=cc.cardinalSplineTo(t,n,.1),r=cc.cardinalSplineTo(e,i,.1),a=cc.callFunc(function(){o&&o()});return cc.sequence(s,r,a)},e.exports.getBigToSmall=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.4,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=cc.scaleTo(.5*t,e,e),o=cc.scaleTo(.5*t,n,n);return cc.sequence(i,o)},e.exports.getScaleTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return cc.scaleTo(t,e)},e.exports.getMJCardMovePool=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.35,s=cc.scaleTo(i,1.5),r=cc.moveTo(i,e),a=cc.spawn(s,r),c=cc.delayTime(o),l=cc.scaleTo(i,.5),u=cc.moveTo(i,n),h=cc.spawn(l,u),d=cc.callFunc(function(){t&&t()});return cc.sequence(a,c,h,d)},e.exports.getMJCardMovePool2=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1),n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.35,i=cc.scaleTo(e,1.35),o=cc.delayTime(n),s=cc.callFunc(function(){t&&t()});return cc.sequence(i,o,s)},e.exports.getDirection=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=cc.fadeIn(t),i=cc.fadeOut(t),o=cc.callFunc(function(){e&&e()});return cc.sequence(i,n,o)},e.exports.getFadeInToFadeOut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=cc.fadeIn(t),o=cc.fadeOut(t),s=cc.moveBy(t,cc.v2(0,40)),r=cc.spawn(i,s),a=cc.delayTime(e),c=cc.callFunc(function(){n&&n()});return cc.sequence(r,a,o,c)},e.exports.getDirectionUpdateAction=function(t){return t},e.exports.getArrowAction=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=cc.jumpBy(t,cc.v2(0,e),1,1),i=cc.jumpBy(t,cc.v2(0,-e),1,1),o=cc.sequence(n,i);return cc.repeatForever(o)},e.exports.getResultDelaytime=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5},e.exports.getMJActionStateShow=function(){return cc.sequence(e.exports.getBigToSmall(.3,1.5,1).easing(cc.easeIn(1)),cc.delayTime(.7))},e.exports.getDlgShow=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.15,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.exports.getBigToSmall(t,n,i).easing(cc.easeIn(1))},e.exports.getDlgHide=function(){return e.exports.getBigToSmall(.1,1.1,.75).easing(cc.easeOut(1))},e.exports.getFlip=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e||1;var n=cc.spawn(cc.scaleTo(.2,0,e),cc.skewTo(.2,0,20)),i=cc.skewTo(.016,0,-20),o=cc.callFunc(function(){t&&t()}),s=cc.spawn(cc.scaleTo(.2,e,e),cc.skewTo(.2,0,0));return cc.sequence(n,i,o,s)},cc._RF.pop()},{}],AudioHelper:[function(t,e,n){"use strict";var i;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cc._RF.push(e,"c1ea0v0UPhIk7E84kdGrt2o","AudioHelper");var s="audios",r=(o(i={bg0:s+"/bg0.mp3",bg1:s+"/bg1.mp3",bg2:s+"/bg2.mp3",bg3:s+"/bg3.mp3"},"bg3",s+"/bg3.mp3"),o(i,"blueBall",s+"/blueBall.mp3"),o(i,"bottomBtn",s+"/bottomBtn.mp3"),o(i,"flamthrower",s+"/flamthrower.mp3"),o(i,"gold",s+"/gold.mp3"),o(i,"lasser",s+"/lasser.mp3"),o(i,"lightning",s+"/lightning.mp3"),o(i,"setingBtn",s+"/setingBtn.mp3"),o(i,"upgrade",s+"/upgrade.mp3"),o(i,"uva",s+"/uva.mp3"),o(i,"wingmanBtn",s+"/wingmanBtn.mp3"),o(i,"vDie",s+"/vDie.mp3"),o(i,"planeDie",s+"/planeDie.mp3"),o(i,"fireSupportBulletDie",s+"/fireSupportBulletDie.mp3"),i);e.exports.audioVolume=.5,e.exports.loadMusics=function(t){var n=0;_.each(r,function(i,o){CCLoaderHelper.getRes(i,cc.AudioClip,function(i,s){++n>=_.size(r)&&t&&t(),e.exports[o]=s})})},e.exports.resumeAll=function(){cc.log("Audio resumeAll "),cc.audioEngine.resumeAll()},e.exports.pauseAll=function(){cc.log("Audio pauseAll "),cc.audioEngine.pauseAll()},e.exports.stopMusic=function(){cc.audioEngine.stopMusic()},e.exports.pauseMusic=function(){cc.audioEngine.pauseMusic()},e.exports.resumeMusic=function(){gLocalData.sysInfo.shouldMusic&&cc.audioEngine.resumeMusic()},e.exports.playButton=function(){},e.exports._playEffect=function(t){if(gLocalData.sysInfo.shouldEffect&&!$G.gCData.gIsVoiceRecordOrPlay&&e.exports[t]){var n=cc.audioEngine.play(e.exports[t],!1);return cc.audioEngine.setVolume(n,e.exports.audioVolume),n}},e.exports._stopEffect=function(t){cc.audioEngine.stopEffect(t)},e.exports._playMusic=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(gLocalData.sysInfo.shouldMusic&&e.exports[t]){var i=cc.audioEngine.playMusic(e.exports[t],n);return cc.audioEngine.setVolume(i,e.exports.audioVolume),gLocalData.sysInfo.shouldMusic||e.exports.pauseMusic(),i}},e.exports._playMusicWithoutLoop=function(t,n){var i=e.exports._playMusic(t,!1);i&&n&&cc.audioEngine.setFinishCallback(i,n)},cc._RF.pop()},{}],AudioMgr_Plane:[function(t,e,n){"use strict";cc._RF.push(e,"364c849/4pJjo4ebV+MOaCn","AudioMgr_Plane");e.exports=new function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.PATH="audios",this.playMusic=function(){var t="bg"+_.random(3);AudioHelper._playMusic(t)},this.stopMusic=function(){AudioHelper.stopMusic()},this._play=function(t){AudioHelper._playEffect(t)},this.gameGold=function(){var t=this;ButtonHelper.BtnThrottle("AudioMgr_Plane_gold",function(){t._play("gold")},1300)},this.gameBottomBtn=function(){this._play("bottomBtn")},this.gameBtn=function(){this._play("setingBtn")},this.gameWingmanBtn=function(){this._play("wingmanBtn")},this.gameVirusDie=function(){var t=this;ButtonHelper.BtnThrottle("AudioMgr_Plane_vDie",function(){t._play("vDie")},780)},this.gamePlaneDie=function(){this._play("planeDie")},this.gameFireSupportBulletDie=function(){this._play("fireSupportBulletDie")},this.gameUpgrade=function(){var t=this;ButtonHelper.BtnThrottle("AudioMgr_Plane_upgrade",function(){t._play("upgrade")},500)},this.gameUav=function(){this._play("uva")},this.gameBlueBall=function(){var t=this;ButtonHelper.BtnThrottle("AudioMgr_Plane_gameFire",function(){t._play("blueBall")},390)},this.gameFlamthrower=function(){var t=this;ButtonHelper.BtnThrottle("AudioMgr_Plane_flamthrower",function(){t._play("flamthrower")},800)},this.gameLasser=function(){var t=this;ButtonHelper.BtnThrottle("AudioMgr_Plane_lasser",function(){t._play("lasser")},60)},this.gameLightning=function(){var t=this;ButtonHelper.BtnThrottle("AudioMgr_Plane_lightning",function(){t._play("lightning")},240)}},cc._RF.pop()},{}],BaseDlg:[function(t,e,n){"use strict";cc._RF.push(e,"10f1adFQ8hJ3JjOo6B86L9h","BaseDlg"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.log("@Base Dlg onLoad")},onDestroy:function(){cc.log("@Base Dlg onDestroy"),PlatformHelper.bannerHide()},start:function(){cc.log("@BaseDlg start"),PlatformHelper.bannerShow(),this._maskNode=NPHelper.getNode("PbTouchMask"),this.node.addChild(this._maskNode,-1);var t=cc.instantiate(this._maskNode),e=t.opacity;t.opacity=0,this.node.addChild(t,1e4);var n=cc.sequence(ActionHelper.getDlgShow(),cc.callFunc(function(){t.opacity=e,NPHelper.putNode("PbTouchMask",t)}));this.node.runAction(n)},addComNodeStack:function(){this._ndStack||(this._ndStack=this.addComponent("ComNodeStack"))},pushStackFromParent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._ndStack||this.addComNodeStack(),this._ndStack.pushFromParent(t,e)},popStackFromParent:function(){this._ndStack&&this._ndStack.popFromParent()},onCloseDlg:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._maskNode){var n=cc.sequence(ActionHelper.getDlgHide(),cc.callFunc(_.isFunction(e)?e():function(){return t._removeSelf()}));this.node.runAction(n)}else this._removeSelf()},_removeSelf:function(){this._ndStack&&this.popStackFromParent(),NPHelper.putNode("PbTouchMask",this._maskNode),this._maskNode=null,this.node.destroy()}}),cc._RF.pop()},{}],ButtonHelper:[function(t,e,n){"use strict";cc._RF.push(e,"46172yBXDpKdqJy3LL1D+Hw","ButtonHelper"),e.exports.BtnThrottle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"func",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;(!this["BtnThrottle"+t]||_.now()-this["BtnThrottle"+t]>n)&&(this["BtnThrottle"+t]=_.now(),e&&e())},cc._RF.pop()},{}],CCLoaderHelper:[function(t,e,n){"use strict";cc._RF.push(e,"e3ac21jENNIt4alRHUTjSCk","CCLoaderHelper"),e.exports.getRes=function(t,e,n){null!=cc.loader.getRes(t)?n&&n():cc.loader.loadRes(t,e,n)},cc._RF.pop()},{}],ComAutoBoxCollider:[function(t,e,n){"use strict";cc._RF.push(e,"df91e9Y6CVA/7GMgp/xAqKz","ComAutoBoxCollider"),cc.Class({extends:cc.Component,properties:{isX:!1},onLoad:function(){this.resize()},resize:function(){var t=cc.find("Canvas").getComponent(cc.Canvas);this.isX?this.node.getComponent(cc.Collider).size.width=t.node.width:(this.node.getComponent(cc.Collider).size.height=t.node.height,this.node.x=0)}}),cc._RF.pop()},{}],ComAutoPosXIphoneX:[function(t,e,n){"use strict";cc._RF.push(e,"d13eeKVgopJxreGhB5Vacs6","ComAutoPosXIphoneX"),cc.Class({extends:cc.Component,properties:{offsetX:40,offsetY:40,isPortrait:!0},onLoad:function(){cc.log(this.node.parent.convertToWorldSpaceAR(this.node));var t=cc.view.getVisibleSize().width/cc.view.getVisibleSize().height;if(this.isPortrait&&(t=cc.view.getVisibleSize().height/cc.view.getVisibleSize().width),!(t<1.85))if(this.isPortrait){var e=this.node.parent.convertToWorldSpaceAR(this.node).y,n=.5*cc.view.getVisibleSize().height;this.node.y+=e<=n?this.offsetY:-this.offsetY}else{var i=this.node.parent.convertToWorldSpaceAR(this.node).x,o=.5*cc.view.getVisibleSize().width;this.node.x+=i<=o?this.offsetX:-this.offsetX}}}),cc._RF.pop()},{}],ComAutoScaleIphoneX:[function(t,e,n){"use strict";cc._RF.push(e,"bc2ccsrdCdCsohjhAbqk1uD","ComAutoScaleIphoneX"),cc.Class({extends:cc.Component,properties:{scale:""},onLoad:function(){this.defaultScale=this.node.scale;var t=cc.view.getVisibleSize().width/cc.view.getVisibleSize().height,e=this.scale&&_.size(this.scale)?this.scale:.83;this.node.scale=this.defaultScale*(t>=1.9?e:1)}}),cc._RF.pop()},{}],ComAuto:[function(t,e,n){"use strict";cc._RF.push(e,"c4994Zf/HJFs6+SLqRmvk1R","ComAuto"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.resize()},resize:function(){var t=cc.find("Canvas").getComponent(cc.Canvas);this.curDR||(this.curDR=t.designResolution);var e=this.curDR,n=cc.view.getFrameSize(),i=n.width,o=n.height,s=i,r=o;i/o>e.width/e.height?s=(r=e.height)*i/o:r=o/i*(s=e.width),t.designResolution=cc.size(s,r),t.node.width=s,t.node.height=r,t.node.emit("resize")}}),cc._RF.pop()},{}],ComButtonTouchMaster:[function(t,e,n){"use strict";cc._RF.push(e,"3f09cWNMqNDoaUDBOaK2unW","ComButtonTouchMaster"),cc.Class({extends:t("ComTouchMaster"),properties:{clickEvents:{default:[],type:cc.Component.EventHandler}},onLoad:function(){this.timeMax=1,this.touchIntervalMax=.1,this.isEnabled=!1,this.initTouch(this)},touchCb:function(t){var e=this;_.each(this.clickEvents,function(t){var n={};n.target=e.node,t.target.getComponent(t._componentName)[t.handler](n,t.customEventData)})},onTouchBegin:function(t,e,n){this._event=n,this.isEnabled=!0,this.startTime=0,this.touchInterval=0,this.touchIntervalMax=.1},onTouchMoved:function(t,e){},onTouchEnd:function(t,e,n){this._event=n,this.isEnabled=!1,this.touchCb(n)},update:function(t){this.isEnabled&&(this.startTime+=t,this.startTime>this.timeMax&&(this.touchInterval+=t,this.touchInterval>=this.touchIntervalMax&&(this.touchInterval=0,this.touchIntervalMax>.01&&(this.touchIntervalMax-=.001),this.touchCb(this._event))))}}),cc._RF.pop()},{ComTouchMaster:"ComTouchMaster"}],ComMoveMaster:[function(t,e,n){"use strict";cc._RF.push(e,"0650aa1ta9IMqeYGP94bWII","ComMoveMaster"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc.v2(0,0);this.isMoved=!1,this.setSpeed(t)},changeSpeedRate:function(t){var e=cc.v2(t.x*this.xSpeed,t.y*this.ySpeed);this.changeSpeedConstant(e)},changeSpeedConstant:function(t){this.setSpeedX(t.x),this.setSpeedY(t.y)},setSpeed:function(t){this.setSpeedX(t.x),this.setSpeedY(t.y)},setSpeedX:function(t){t!=this.xSpeed&&(this.xSpeed=t)},setSpeedY:function(t){t!=this.ySpeed&&(this.ySpeed=t)},setMoved:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isMoved=t},getMoved:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!!this.isMoved},updateCb:function(t){},update:function(t){if(this.isMoved){var e=this.xSpeed*t,n=this.ySpeed*t;this.node.x+=e,this.node.y+=n,this.updateCb(t)}}}),cc._RF.pop()},{}],ComNodePool:[function(t,e,n){"use strict";cc._RF.push(e,"e52c1nji4BFmLbJDVsFTnuL","ComNodePool"),cc.Class({extends:cc.Component,properties:{nodePool:null},onLoad:function(){cc.log("ComPagePool"),this._initPool()},onDestroy:function(){this.clearPool()},_initPool:function(){null==this.nodePool&&(this.nodePool=new cc.NodePool)},clearPool:function(){this.nodePool&&this.nodePool.clear()},putNode:function(t){this._initPool(),this.nodePool.put(t)},getNode:function(t){this._initPool();var e=this.nodePool.get();return null===e&&(this.nodePool.put(cc.instantiate(t)),e=this.nodePool.get()),e}}),cc._RF.pop()},{}],ComNotify:[function(t,e,n){"use strict";cc._RF.push(e,"e1735Vry3RF+olWMXzUgJYI","ComNotify"),cc.Class({extends:cc.Component,properties:{_notifys:[]},onLoad:function(){cc.log("@COMNTF onLoad")},onDestroy:function(){cc.log("@COMNTF DESTROY"),this._notifys.length<=0||(_.each(this._notifys,function(t){NotifyHelper.remove(t[0],t[1])}),this._notifys=null)},register:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._notifys.push([t,e]),NotifyHelper.register(t,e)}}),cc._RF.pop()},{}],ComScheduler:[function(t,e,n){"use strict";cc._RF.push(e,"e759aEYDNdHk69fcZi3zm5M","ComScheduler"),cc.Class({extends:cc.Component,properties:{_maxIndex:20},onLoad:function(){cc.log("@@ Scheduler onLoad"),this._items={}},onDestroy:function(){this.clearAll(),this._items=null},once:function(t,e,n){var i=this._addCb(t,e);this.scheduleOnce(i.cb,n)},clear:function(t){var e=this;null!==this._items[t]&&void 0!==this._items[t]&&(_.each(this._items[t].cbs,function(n,i){e._removeCb(t,i)}),this._items[t].current=0)},clearAll:function(){var t=this,e=_.keys(this._items);_.each(e,function(e){t.clear(e)})},_addItem:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i={max:e=e||this._maxIndex,current:n,cbs:[]};_.times(this._maxIndex,function(t){i.cbs[t]=null}),this._items[t]=i},_checkItemExist:function(t){null==this._items[t]&&this._addItem(t)},_addCb:function(t,e){var n=this;this._checkItemExist(t);var i=this._items[t];i.current===i.max&&(i.current=0);var o={index:i.current,cb:function(){e(),n._removeCb(t,o.index)}};return i.cbs[i.current]=o,i.current++,o},_removeCb:function(t,e){var n=this._items[t].cbs;null!==n[e]&&(this.unschedule(n[e].cb),n[e]=null)}}),cc._RF.pop()},{}],ComTailAfter:[function(t,e,n){"use strict";cc._RF.push(e,"e20118zKPJPnYjx80K6hrFL","ComTailAfter"),cc.Class({extends:t("ComMoveMaster"),properties:{},onLoad:function(){},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._super(),this.isRotation=e,this.isGoPosStop=n,this.pos=cc.v2(0,0),this.setTailAfterSpeed(t),this.setMoved(!0),this},setTailAfterSpeed:function(t){this.speed=t},setTailAfterByNode:function(t){if(t){var e=t.x,n=t.y,i=cc.v2(e,n);this.setTailAfterByPos(i)}},setTailAfterByPos:function(t,e){this.pos=t;var n=t.sub(this.node.getPosition()),i=Math.atan2(n.y,n.x),o=Math.cos(i)*this.speed,s=Math.sin(i)*this.speed,r=-i/Math.PI*180+90;this._setRotation(r),this.setSpeed(cc.v2(o,s)),this.cb=e},updateCb:function(t){if(this.isGoPosStop){var e=!1,n=!1;(Math.abs(this.node.x-this.pos.x)<10||Math.abs(this.node.y-this.pos.y)<10)&&(Math.abs(this.node.x-this.pos.x)<10&&(this.setSpeedX(0),e=!0),Math.abs(this.node.y-this.pos.y)<10&&(this.setSpeedY(0),n=!0)),e&&n&&this.cb&&this.cb()}},_setRotation:function(t){this.isRotation&&(this.node.rotation=t)}}),cc._RF.pop()},{ComMoveMaster:"ComMoveMaster"}],ComTouchMaster:[function(t,e,n){"use strict";cc._RF.push(e,"9b3829YvTRGGINsgaS7Tbc0","ComTouchMaster"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},initTouch:function(t){return this.beginLocation=cc.v2(0,0),this.moveLocation=cc.v2(0,0),this.endLocation=cc.v2(0,0),this.touchEnable=!0,this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegin,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this._target=t,this},setTouchEnable:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.touchEnable=t},onTouchBegin:function(t,e){},onTouchMoved:function(t,e){},onTouchEnd:function(t,e){},_onTouchBegin:function(t,e){if(this.node.active&&this.touchEnable){this.beginLocation=t.getLocation();var n=this.node.parent.convertToNodeSpaceAR(this.beginLocation);this.onTouchBegin(n,this.beginLocation,e)}},_onTouchMoved:function(t,e){if(this.node.active&&this.touchEnable){this.moveLocation=t.getLocation();var n=this.node.parent.convertToNodeSpaceAR(this.moveLocation);this.onTouchMoved(n,this.moveLocation,e)}},_onTouchEnd:function(t,e){if(this.node.active&&this.touchEnable){this.endLocation=t.getLocation();var n=this.node.parent.convertToNodeSpaceAR(this.endLocation);this.onTouchEnd(n,this.endLocation,e)}}}),cc._RF.pop()},{}],Configs:[function(t,e,n){"use strict";cc._RF.push(e,"6265d4g85VJCJVGRHdsUoRW","Configs");var i=e.exports;switch(i.PACKAGE_NAME_DEBUG="DEBUG",i.PACKAGE_NAME_DEBUGLOCAL="DEBUGLOCAL",i.PACKAGE_NAME_ONLINE="ONLINE",i.PACKAGE_NAME=i.PACKAGE_NAME_ONLINE,i.Version="3.0.12",i.Build=700601,i.FullPackageNo=10,i.RBuild=1,i.Http_Timeout=5e3,cc.log("-------------------------- LOAD MODE:\u3010 "+i.PACKAGE_NAME+" \u3011--------------------------"),cc.log("-------------------------- RBuild:\u3010 "+i.RBuild+" \u3011--------------------------"),i.APPName="\u6d88\u706d\u75c5\u6bd2",i.Params={},i.PATH_JSON_DEBUG="/debug/",i.PATH_JSON_ONLINE="/online/",i.PATH_JSON="",i.PACKAGE_NAME){case i.PACKAGE_NAME_ONLINE:i.PATH_JSON=i.PATH_JSON_ONLINE;break;case i.PACKAGE_NAME_DEBUG:default:i.PATH_JSON=i.PATH_JSON_DEBUG}i.JSON="JSON"+i.PATH_JSON+"cfg",cc._RF.pop()},{}],Constants:[function(t,e,n){"use strict";cc._RF.push(e,"f20a6PH3KlDzLMH040iOZuK","Constants");var i=e.exports={},o=t("underscore");i.GameState={},i.GameState.Start=o.constant("Start"),i.GameState.Game=o.constant("Game"),i.GameState.End=o.constant("End"),i.Group={},i.Group.groupPlaneBullet=o.constant("bullet_plane"),i.Group.groupPlaneHero=o.constant("hero_plane"),i.Group.groupPlaneVirus=o.constant("virus_plane"),i.Group.groupPlaneWall=o.constant("wall_plane"),i.Group.groupPlaneBuff=o.constant("buff_plane"),i.Group.groupPlaneBlueBall=o.constant("blue_Ball_plane"),i.Group.groupPlaneWingmanBullet=o.constant("wingman_bullet_plane"),i.PlaneBuffType={},i.PlaneBuffType.ADD_FIRING_RATE=o.constant(1),i.PlaneBuffType.ADD_FIREPOWER=o.constant(2),i.PlaneBuffType.FIRE_SUPPORT=o.constant(3),i.PlaneBuffType.HAND_OF_MIDAS=o.constant(4),i.PlaneBuffType.SPEED_CUT_FOR_PLANE=o.constant(5),i.PlaneBuffType.SPEED_CUT_FOR_VIRUS=o.constant(6),i.PlaneBuffType.SPEED_UP_FOR_VIRUS=o.constant(7),i.PlaneBuffType.FILL_OUT_FOR_VIRUS=o.constant(8),i.PlaneBuffType.REPEL_SHOOT=o.constant(9),i.VirusSkillsType={},i.VirusSkillsType.SPLIT=o.constant(0),i.VirusSkillsType.SPEED_UP_SELF=o.constant(1),i.VirusSkillsType.FILL_OUT_SELF=o.constant(2),i.VirusSkillsType.BOBM=o.constant(3),i.VirusSkillsType.CURE=o.constant(4),i.VirusSkillsType.TAIL_AFTER=o.constant(5),i.VirusSkillsType.SPEED_CUT_OTHER=o.constant(6),i.VirusSkillsType.GIVE_BIRTH_TO_1=o.constant(7),i.VirusSkillsType.GIVE_BIRTH_TO_2=o.constant(8),i.VirusSkillsType.CURE_SELF=o.constant(9),i.VirusSkillsType.COLLISION=o.constant(10),i.VirusSkillsType.INVINCIBLE=o.constant(11),i.WingmanType={},i.WingmanType.NORMAL=o.constant(0),i.WingmanType.BLUE_BALL=o.constant(1),i.WingmanType.FLAMTHROWER=o.constant(2),i.WingmanType.LASSER=o.constant(3),i.WingmanType.LIGHTNING=o.constant(4),i.WingmanType.UAV=o.constant(5),i.WingmanType.CRESCENT_BLADE=o.constant(6),i.WingmanType.SHIELD=o.constant(7),i.WingmanType.BLACK_HOLE=o.constant(8),i.AppID={},i.AppID.APP_1=o.constant("wxf5e83b5fbc02ec15"),i.AppID.APP_2=o.constant("wx286a6645e9310b61"),i.AppID.APP_3=o.constant("wx15e2a5946f200bf1"),i.AppID.APP_4=o.constant("wx9c52927179b8e730"),i.AppID.APP_5=o.constant("wx79ade44c39cefc7f"),i.AppPath={},i.AppPath.APP_1=o.constant("?chid=1966&subchid=cq_shenx01"),i.AppPath.APP_2=o.constant("?chid=1966&subchid=cq_shenx01"),i.AppPath.APP_3=o.constant("?chid=1966&subchid=cq_shenx01"),i.AppPath.APP_4=o.constant("?chid=1966&subchid=cq_shenx01"),i.AppPath.APP_5=o.constant("?chid=1966&subchid=cq_shenx01"),cc._RF.pop()},{underscore:"underscore"}],CryptUtil:[function(t,e,n){"use strict";cc._RF.push(e,"a1188d/aFtCh6/9G4u0P2dp","CryptUtil");var i={encodeBase64:function(t,e){t||(t="");var n,o,s,r,a,c,l,u,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[],p="";if((c=(l=(e=void 0!==e&&e)?i.encodeUTF8(t):t).length%3)>0)for(;c++<3;)p+="=",l+="\0";for(c=0;c<l.length;c+=3)o=(n=l.charCodeAt(c)<<16|l.charCodeAt(c+1)<<8|l.charCodeAt(c+2))>>18&63,s=n>>12&63,r=n>>6&63,a=63&n,d[c/3]=h.charAt(o)+h.charAt(s)+h.charAt(r)+h.charAt(a);return u=(u=d.join("")).slice(0,u.length-p.length)+p},decodeBase64:function(t,e){t||(t="");var n,o,s,r,a,c,l,u,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[];u=(e=void 0!==e&&e)?i.decodeUTF8(t):t;for(var p=0;p<u.length;p+=4)n=(c=h.indexOf(u.charAt(p))<<18|h.indexOf(u.charAt(p+1))<<12|(r=h.indexOf(u.charAt(p+2)))<<6|(a=h.indexOf(u.charAt(p+3))))>>>16&255,o=c>>>8&255,s=255&c,d[p/4]=String.fromCharCode(n,o,s),64==a&&(d[p/4]=String.fromCharCode(n,o)),64==r&&(d[p/4]=String.fromCharCode(n));return l=d.join(""),l=e?i.decodeUTF8(l):l},encodeUTF8:function(t){return t||(t=""),t=(t=t.replace(/[\u0080-\u07ff]/g,function(t){var e=t.charCodeAt(0);return String.fromCharCode(192|e>>6,128|63&e)})).replace(/[\u0800-\uffff]/g,function(t){var e=t.charCodeAt(0);return String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e)})},decodeUTF8:function(t){return t||(t=""),t=(t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(t){var e=(31&t.charCodeAt(0))<<6|63&t.charCodeAt(1);return String.fromCharCode(e)})).replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(t){var e=(15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2);return String.fromCharCode(e)})},convertToHex:function(t){t||(t="");for(var e="",n="",i=0;i<t.length;i++)e+=1==(n=t.charCodeAt(i).toString(16)).length?"0"+n:n;return e},convertFromHex:function(t){t||(t="");for(var e="",n=0;n<t.length;n+=2)e+=String.fromCharCode(parseInt(t.substring(n,n+2),16));return e},stripLineFeeds:function(t){t||(t="");return t.replace(/\n/g,"").replace(/\r/g,"")},toByteArray:function(t){t||(t="");for(var e=[],n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},fragment:function(t,e,n){if(t||(t=""),!e||e>=t.length)return t;n||(n="\n");for(var i="",o=0;o<t.length;o+=e)i+=t.substr(o,e)+n;return i},formatHex:function(t,e){t||(t=""),e||(e=45);for(var n="",i=t.toLowerCase(),o=0;o<i.length;o+=2)n+=i.substr(o,2)+":";return i=this.fragment(n,e)},byteArray2String:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}};e.exports={pidCryptUtil:i},cc._RF.pop()},{}],CustomMaterial:[function(t,e,n){"use strict";cc._RF.push(e,"7e83cNvIEFJGqSztRtceCSQ","CustomMaterial");var i=cc.renderer.renderEngine,o=i.renderer,s=i.gfx,r=function(t){function e(e,n,i){t.call(this,!1);var r=new o.Pass(e);r.setDepth(!1,!1),r.setCullMode(s.CULL_NONE),r.setBlend(s.BLEND_FUNC_ADD,s.BLEND_SRC_ALPHA,s.BLEND_ONE_MINUS_SRC_ALPHA,s.BLEND_FUNC_ADD,s.BLEND_SRC_ALPHA,s.BLEND_ONE_MINUS_SRC_ALPHA);var a=[{name:"texture",type:o.PARAM_TEXTURE_2D},{name:"color",type:o.PARAM_COLOR4}];n&&(a=a.concat(n));var c=new o.Technique(["transparent"],a,[r]);this.name=e,this._effect=new o.Effect([c],{},i),this._texture=null,this._color={r:1,g:1,b:1,a:1},this._mainTech=c}cc.js.extend(e,t);var n={effect:{configurable:!0},texture:{configurable:!0},color:{configurable:!0}};return n.effect.get=function(){return this._effect},n.texture.get=function(){return this._texture},n.texture.set=function(t){this._texture!==t&&(this._texture=t,this._effect.setProperty("texture",t.getImpl()),this._texIds.texture=t.getId())},n.color.get=function(){return this._color},n.color.set=function(t){var e=this._color;e.r=t.r/255,e.g=t.g/255,e.b=t.b/255,e.a=t.a/255,this._effect.setProperty("color",e)},e.prototype.clone=function(){var t=new e;return t.texture=this.texture,t.color=this.color,t.updateHash(),t},e.prototype.setParamValue=function(t,e){this._effect.setProperty(t,e)},e.prototype.getParamValue=function(t){return this._effect.getProperty(t)},e.prototype.setDefine=function(t,e){this._effect.define(t,e)},Object.defineProperties(e.prototype,n),e}(i.Material),a={};r.addShader=function(t){a[t.name]||(cc.renderer._forward?(cc.renderer._forward._programLib.define(t.name,t.vert,t.frag,t.defines||[]),a[t.name]=t):cc.game.once(cc.game.EVENT_ENGINE_INITED,function(){cc.renderer._forward._programLib.define(t.name,t.vert,t.frag,t.defines||[]),a[t.name]=t}))},r.getShader=function(t){return a[t]},r.getShaderByIndex=function(t){return Object.values(a)[t]},r.getAllName=function(){return Object.keys(a).map(function(t,e){return{name:t,value:e}})};var c=null;r.getShaderEnum=function(){if(c)return c;var t={};return Object.keys(a).forEach(function(e,n){return t[e]=n}),c=cc.Enum(t)},e.exports=r,cc._RF.pop()},{}],DataHelper:[function(t,e,n){"use strict";cc._RF.push(e,"83db6FeR3NHq7VveBlFG8AY","DataHelper");var i=t("CryptUtil").pidCryptUtil;function o(){cc.log("@@@@@@loadGlobalData"),window._=t("underscore"),window.Configs=t("Configs"),window.HttpRouters=t("HttpRouters"),window.Constants=t("Constants"),t("GlobalGameData").init(),window.ActionHelper=t("ActionHelper"),window.NPHelper=t("NPHelper"),window.PBHelper=t("PBHelper"),window.StringHelper=t("StringHelper"),window.TexHelper=t("TexHelper"),window.TimeHelper=t("TimeHelper"),window.GameHelper=t("GameHelper"),window.NotifyHelper=t("NotifyHelper"),window.CCLoaderHelper=t("CCLoaderHelper"),window.PlatformHelper=t("PlatformHelper"),window.ObjHelper=t("ObjHelper"),window.HttpHelper=t("HttpHelper"),window.AudioHelper=t("AudioHelper"),window.WXAudioHelper=t("WXAudioHelper"),window.ButtonHelper=t("ButtonHelper"),window.JsonMgr=t("JsonMgr"),window.AudioMgr_Plane=t("AudioMgr_Plane"),window.UserHandler=t("UserHandler"),window.PlaneGameHandler=t("PlaneGameHandler"),window.HttpHandler=t("HttpHandler"),window.HttpServer=t("HttpServer"),window.UserServer=t("UserServer"),window.GameMsgHandler=t("GameMsgLogic_Plane"),window.gLoginScene=null,window.gChooseScene=null,window.gHallScene=null,window.gGameScene=null}e.exports={initHelper:function(){return o(),function(){cc.log("@@@@@@loadLocalData");var t={dataVersion:1,userInfo:{wxCode:"",openid:"",token:"",gold:100,vigor:80,vigorStartTime:0,diamond:0,goldStartTime:0,hpStartTime:0,bulletHPDrop:1,bulletFreqTime:1,bulletSpeed:100,bulletNum:1,goldTime:1,goldValue:1,currentWingman:0,wingmanIntensity:1,wingmanHPDrop:1,currentCheckpoint:1},sysInfo:{shouldMusic:!0,shouldEffect:!0,shouldShake:!0}},e=null;e=PlatformHelper.isWX()?PlatformHelper.getStorageSync("GameLocalData"):cc.sys.localStorage.getItem("GameLocalData"),(e=i.decodeBase64(e,!0)).length>0&&null!=(e=JSON.parse(e))&&e.userInfo&&e.userInfo.gold||(e=t),cc.log(e),window.gLocalData=e}(),e.exports},saveAllData:function(){var t=JSON.stringify(gLocalData);t=i.encodeBase64(t,!0),PlatformHelper.isWX()?PlatformHelper.setStorageSync("GameLocalData",t):cc.sys.localStorage.setItem("GameLocalData",t)},reloadCache:function(){o()}},cc._RF.pop()},{ActionHelper:"ActionHelper",AudioHelper:"AudioHelper",AudioMgr_Plane:"AudioMgr_Plane",ButtonHelper:"ButtonHelper",CCLoaderHelper:"CCLoaderHelper",Configs:"Configs",Constants:"Constants",CryptUtil:"CryptUtil",GameHelper:"GameHelper",GameMsgLogic_Plane:"GameMsgLogic_Plane",GlobalGameData:"GlobalGameData",HttpHandler:"HttpHandler",HttpHelper:"HttpHelper",HttpRouters:"HttpRouters",HttpServer:"HttpServer",JsonMgr:"JsonMgr",NPHelper:"NPHelper",NotifyHelper:"NotifyHelper",ObjHelper:"ObjHelper",PBHelper:"PBHelper",PlaneGameHandler:"PlaneGameHandler",PlatformHelper:"PlatformHelper",StringHelper:"StringHelper",TexHelper:"TexHelper",TimeHelper:"TimeHelper",UserHandler:"UserHandler",UserServer:"UserServer",WXAudioHelper:"WXAudioHelper",underscore:"underscore"}],Dissolve:[function(t,e,n){"use strict";cc._RF.push(e,"2aa32FrWNRFYItSateJXEyi","Dissolve");var i=cc.renderer.renderEngine.renderer,o=t("CustomMaterial"),s={name:"Dissolve",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0}],start:function(){this.time=0,this.flag=1},update:function(t,e,n){n/=3,this.flag?this.time+=n:this.time-=n,this.time>=1.2?this.flag=0:this.time<=-.2&&(this.flag=1),e.setParamValue("time",this.time)},defines:[],vert:"\n        uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }",frag:"\n        uniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 c = color * texture2D(texture,uv0);\n    float height = c.g;\n    if(height < time)\n    {\n        discard;\n    }\n    if(height < time+0.04)\n    {\n        // \u6eb6\u89e3\u989c\u8272\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\n        c = vec4(1, 0, 0, c.a);\n    }\n    gl_FragColor = c;\n}"};o.addShader(s),e.exports=s,cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],DlgSetting:[function(t,e,n){"use strict";cc._RF.push(e,"3f892QDSAlLEar0GBxSfycY","DlgSetting"),cc.Class({extends:t("BaseDlg"),properties:{ndMusicOpen:cc.Node,ndMusicClose:cc.Node,ndEffectOpen:cc.Node,ndEffectClose:cc.Node},onLoad:function(){this.updateMusic(),this.updateEffect()},start:function(){},onButtonClicked:function(t,e){switch(AudioMgr_Plane.gameBtn(),e){case"music":gLocalData.sysInfo.shouldMusic=!gLocalData.sysInfo.shouldMusic,gLocalData.sysInfo.shouldMusic?AudioMgr_Plane.playMusic():AudioMgr_Plane.stopMusic(),gLocalData.sysInfo.shouldEffect=!gLocalData.sysInfo.shouldEffect,this.updateEffect();break;case"effect":gLocalData.sysInfo.shouldShake=!gLocalData.sysInfo.shouldShake,this.updateMusic()}},updateMusic:function(){this.ndMusicOpen.active=!!gLocalData.sysInfo.shouldShake,this.ndMusicClose.active=!this.ndMusicOpen.active,DataHelper.saveAllData()},updateEffect:function(){this.ndEffectOpen.active=!!gLocalData.sysInfo.shouldMusic,this.ndEffectClose.active=!this.ndEffectOpen.active,DataHelper.saveAllData()}}),cc._RF.pop()},{BaseDlg:"BaseDlg"}],DynamicBlurTransfer:[function(t,e,n){"use strict";cc._RF.push(e,"080b1dJgEdKF6g4XAKVOaGc","DynamicBlurTransfer");var i={name:"DynamicBlurTransfer",params:[{name:"time",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT,defaultValue:0}],time:0,update:function(t,e){this.time<2.25&&(this.time+=.01,e.setParamValue("time",this.time))},defines:[],vert:"\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",frag:"\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    uniform float time;\n\n    #define SAMPLES 10\n    #define SHARPNESS 4.0    \n    #define SAMPLES_F float(SAMPLES)\n    #define TAU  6.28318530718\n    #define HASHSCALE1 443.8975\n\n    float hash13(vec3 p3)\n    {\n        p3  = fract(p3 * HASHSCALE1);\n        p3 += dot(p3, p3.yzx + 19.19);\n        return fract((p3.x + p3.y) * p3.z);\n    }\n\n    void main()\n    {\n        float r = 0.05 + 0.05 * sin(time*.2*TAU+4.3);\n\n        float d = (r * 2.0 * uv0.x) / SAMPLES_F;\n        float lod = log2(max(d / SHARPNESS, 1.0));\n        \n        vec4 color = vec4(0.0, 0.0, 0.0, 0.0);    \n        for (int i = 0; i < SAMPLES; ++i)\n        {\n            float fi = float(i);\n            float rnd = hash13(vec3(uv0.xy, fi));\n            float f = (fi + rnd) / SAMPLES_F;\n            f = (f * 2.0 - 1.0) * r;\n            color += texture2D(texture, uv0 + vec2(f, 0.0), lod);\n        }\n        color = color / SAMPLES_F;\n        gl_FragColor = color;\n\n        gl_FragColor.w = 2.25 - time;\n\n    }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],FluxaySuper:[function(t,e,n){"use strict";cc._RF.push(e,"b230czwdKZEGq8EHfPLvRUQ","FluxaySuper");var i=cc.renderer.renderEngine.renderer,o=t("CustomMaterial"),s={name:"FluxaySuper",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0}],start:function(){this._start=Date.now()},update:function(t,e){var n=(Date.now()-this._start)/1e3;e.setParamValue("time",n)},defines:[],vert:"\n        uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }",frag:"#define TAU 6.12\n        #define MAX_ITER 5\n        uniform sampler2D texture;\n        uniform vec4 color;\n        uniform float time;\n        varying vec2 uv0;\n        \n        void main()\n        {\n            float time = time * .5+5.;\n            // uv should be the 0-1 uv of texture...\n            vec2 uv = uv0.xy;//fragCoord.xy / iResolution.xy;\n            \n            vec2 p = mod(uv*TAU, TAU)-250.0;\n        \n            vec2 i = vec2(p);\n            float c = 1.0;\n            float inten = .0045;\n        \n            for (int n = 0; n < MAX_ITER; n++) \n            {\n                float t =  time * (1.0 - (3.5 / float(n+1)));\n                i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(1.5*t + i.x));\n                c += 1.0/length(vec2(p.x / (cos(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n            }\n            c /= float(MAX_ITER);\n            c = 1.17-pow(c, 1.4);\n            vec4 tex = texture2D(texture,uv);\n            vec3 colour = vec3(pow(abs(c), 20.0));\n            colour = clamp(colour + vec3(0.0, 0.0, .0), 0.0, tex.a);\n        \n            // \u6df7\u5408\u6ce2\u5149\n            float alpha = c*tex[3];  \n            tex[0] = tex[0] + colour[0]*alpha; \n            tex[1] = tex[1] + colour[1]*alpha; \n            tex[2] = tex[2] + colour[2]*alpha; \n            gl_FragColor = color * tex;\n        }"};o.addShader(s),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],Fluxay:[function(t,e,n){"use strict";cc._RF.push(e,"171dbC86gROD6RR7m2W91iS","Fluxay");var i=cc.renderer.renderEngine.renderer,o=t("CustomMaterial"),s={name:"Fluxay",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0}],start:function(){this._start=Date.now()},update:function(t,e){var n=Date.now(),i=(n-this._start)/1e3;i>=1.414&&(i=0,this._start=n),e.setParamValue("time",i)},defines:[],vert:"\n        uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }",frag:"uniform sampler2D texture;\n        uniform vec4 color;\n        uniform float time;\n        varying vec2 uv0;\n        \n        void main()\n        {\n            vec4 src_color = color * texture2D(texture, uv0).rgba;\n        \n            float width = 0.03;       //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n            float start = tan(time/1.414);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n            float strength = 0.05;   //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n            float offset = 0.5;      //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n            if(uv0.x < (start - offset * uv0.y) &&  uv0.x > (start - offset * uv0.y - width))\n            {\n                vec3 improve = strength * vec3(255, 255, 255);\n                vec3 result = improve * vec3( src_color.r, src_color.g, src_color.b);\n                gl_FragColor = vec4(result, src_color.a);\n        \n            }else{\n                gl_FragColor = src_color;\n            }\n        }"};o.addShader(s),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],GameHelper:[function(t,e,n){"use strict";cc._RF.push(e,"b29a6+znLBEqKunwn6tOJHK","GameHelper");var i=e.exports;i.GameScene_Plane=function(t){cc.director.loadScene("GameScene_Plane",function(){t&&t()})},i.PreloadGameScene_Plane=function(t,e){i.PreloadScene("GameScene_Plane",t,e)},i.PreloadScene=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;cc.director.preloadScene(t,e,n)},cc._RF.pop()},{}],GameMsgLogic_Plane:[function(t,e,n){"use strict";cc._RF.push(e,"5d8fbfnGkVKF4ABPFJVozQ2","GameMsgLogic_Plane");var i=e.exports;i.onHandleMsg=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i._onHandleMsg_Data(t,e),NotifyHelper.notify(t,e)},i._onHandleMsg_Data=function(t,e){var n=t;n!==Constants.GameState.Start()?n!==Constants.GameState.Game()?n!==Constants.GameState.End()||UserHandler.setState(Constants.GameState.End()):UserHandler.setState(Constants.GameState.Game()):UserHandler.setState(Constants.GameState.Start())},cc._RF.pop()},{}],GameScene_Plane:[function(t,e,n){"use strict";cc._RF.push(e,"93d44gdJiRFHYx8DCe2hMYj","GameScene_Plane"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.gGameScene=this;var e=cc.sys.os==cc.sys.OS_IOS?60:45;cc.game.setFrameRate(e),UserHandler.setData({}),this._ui=this.getComponent("Plane_UI"),this._ctl=this.addComponent("Plane_Ctl"),this._ntf=this.addComponent("ComNotify"),this.Plane_Logic=t("Plane_Logic"),this.Plane_Logic.init(),this._ctl.initStart(),PlatformHelper.showShareMenu(),PlatformHelper.onShareAppMessage("\u5feb\u6765\u6d88\u706d\u5927\u773c\u602a\u7269","https://shenxingnet.com/Public/Game/res/share.png"),AudioMgr_Plane.playMusic(),cc.log("@onLoad -   GameScene_Plane"),this._ctl.initNotifys()},start:function(){},onButtonClicked:function(t,e){switch(cc.log(e),e){case"1btn":case"2btn":case"3btn":case"wingman":case"topBtn":case"bottomBtn":default:AudioMgr_Plane.gameBtn()}switch(e){case"gameStart1":this._ctl.gameStart();break;case"gameStart2":this._ctl.gameStart(2);break;case"back":PBHelper.addNode("DlgDetereExit");break;case"goDesktop":PBHelper.addNode("DlgGoDesktop");break;case"commonRank":this.updateRank(0);break;case"challengeRank":this.updateRank(3);break;case"friendRank":this.updateRank(1);break;case"yesterdayRank":this.updateRank(2);break;case"share":PlatformHelper.shareAppMessage();break;case"redPackets":PBHelper.addNode("DlgRedPacket");break;case"tickets":PBHelper.addNode("DlgTicket");break;case"1goOtherGame":case"2goOtherGame":case"3goOtherGame":case"4goOtherGame":case"5goOtherGame":var n=parseInt(e),i=Constants.AppID["APP_"+n](),o=Constants.AppPath["APP_"+n]();5==n?PlatformHelper.navigateToiProgram(i,o):PlatformHelper.navigateToiProgram(i);break;case"bannerAdvertising":this.banner&&this.banner.show();break;case"videoAdvertising":this.showVideoAd();break;case"shareAdvertising":this.showShareAd();break;case"hideOpenDataNode":PlatformHelper.sendMsgTyOpenDataContext({type:1e3,data:{}}),this._ui.hideOpenDataNd();break;case"setting":PBHelper.addNode("DlgSetting");break;case"guideHide":this._ui.guideHide();break;case"debugBtn":gGameScene._ctl.gameContinue();break;case"addGoldTime":this._ui.resetGoldTime();break;case"1btn":case"2btn":case"3btn":AudioMgr_Plane.gameBottomBtn();var s=parseInt(e);s-=1,this._ui.updateStartNodeUpdateList(s);break;case"closeUpdateList":this._ui.closeStartNodeBottom();break;case"1getOverGold":case"2getOverGold":GameMsgHandler.onHandleMsg(Constants.GameState.Start()),1==parseInt(e)?this._over(e):this.showShareAdOver();break;case"1getGoldTime":case"2getGoldTime":1==parseInt(e)?this._getTime(e):this.showShareAdGetTime();break;case"resurgence":this.showShareAdResurgence();break;case"topBtn":case"bottomBtn":var r="topBtn"==e?"ndItem1":"ndItem2";this._ui.upgradeByName(r);break;case"wingman":AudioMgr_Plane.gameWingmanBtn(),this._ui.updateWingmanBtns(t.target.wingmanIndex);break;case"powerList":this._ui.showPowerList();break;case"powerListHide":this._ui.hidePowerList();break;case"1exchange":case"2exchange":this._ui.showExchange(parseInt(e));break;case"exchangeHide":this._ui.hideExchange();break;case"exchange":this._ctl.sendExchange();break;case"goldTime":this._ui.showGoldTimeTure();break;case"goldTimeHide":this._ui.hideGoldTimeTure();break;case"minusExchange":this._ui.minusExchange();break;case"addExchange":this._ui.addExchange();break;case"addExchangeAll":this._ui.addExchangeAll()}},updateRank:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._ui.showOpenDataNd(),this._ui.updateRankBtns(t),this._ctl.updateOpenDataNode(t)},showBanner:function(){this.banner&&this.banner.show()},showVideoAd:function(){var t=this;this._buttonThrottle("showVideoAd",function(){var e=PlaneGameHandler.getVideoAddPlaneNum();e>0?PlatformHelper.videoAdShow(function(){PlaneGameHandler.setVideoAddPlaneNum(e-1),t._ctl.addPlaneNum(),PlatformHelper.showToast("\u589e\u52a0\u5c0f\u7403\u6210\u529f")},function(){PlatformHelper.showToast("\u589e\u52a0\u5c0f\u7403\u5931\u8d25")}):PlatformHelper.showToast("\u89c2\u770b\u89c6\u9891\u8fbe\u5230\u4e0a\u9650")})},showShareAdResurgence:function(t){var e=this;this._buttonThrottle("showShareAd",function(){PlatformHelper.shareAppMessage("\u5feb\u6765\u5e2e\u6211\u590d\u6d3b",function(){t&&t(),e._ctl.gameResurgence(),PlatformHelper.showToast("\u590d\u6d3b\u6210\u529f")},function(){PlatformHelper.showToast("\u590d\u6d3b\u5931\u8d25")})})},showShareAdOver:function(t){var e=this;this._buttonThrottle("showShareAd",function(){PlatformHelper.shareAppMessage("\u5feb\u6765\u5e2e\u6211\u52a0\u94b1",function(){e._over(t),PlatformHelper.showToast("\u52a0\u94b1\u6210\u529f")},function(){PlatformHelper.showToast("\u52a0\u94b1\u5931\u8d25")})})},showShareAdGetTime:function(t){var e=this;this._buttonThrottle("showShareAdGetTime",function(){PlatformHelper.shareAppMessage("\u5feb\u6765\u5e2e\u6211\u52a0\u94b1",function(){e._getTime(t),PlatformHelper.showToast("\u52a0\u94b1\u6210\u529f")},function(){PlatformHelper.showToast("\u52a0\u94b1\u5931\u8d25")})})},_getTime:function(t){this._ui.resetGoldTime2(t),this._ui.hideGoldTimeTure()},_over:function(t){var e=this;this._buttonThrottle("_over",function(){e._ctl.sendScore(parseInt(t),function(){e._ctl._resetAll(),e._ui.showStartNode(),e._ui.showRankBtn(),e._ctl._schedule.clear("getOverGold"),e._ctl.init()})},2e3)},_buttonThrottle:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;ButtonHelper.BtnThrottle("GameScene_Plane_OnButtonClicke_"+t,function(){e&&e()},n)}}),cc._RF.pop()},{Plane_Logic:"Plane_Logic"}],GaussBlurs:[function(t,e,n){"use strict";cc._RF.push(e,"d7e5cbuz39HRouF7THghiPR","GaussBlurs");var i={name:"GaussBlurs",defines:[],params:[{name:"bluramount",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT,defaultValue:.5}],vert:"uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }\n        ",frag:"uniform sampler2D texture;\n    varying vec2 uv0;\n    uniform float bluramount;\n\n    vec4 draw(vec2 uv) {\n        return texture2D(texture, uv).rgba; \n    }\n\n    float grid(float var, float size) {\n        return floor(var*size)/size;\n    }\n\n    float rand(vec2 co){\n        return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n\n    void mainImage( out vec4 fragColor, in vec2 uv0 )\n    {\n        vec2 uv = uv0.xy;\n        vec4 blurred_image = vec4(0.);\n        #define repeats 5.\n        for (float i = 0.; i < repeats; i++) { \n            vec2 q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i,uv.x+uv.y))+bluramount); \n            vec2 uv2 = uv+(q*bluramount);\n            blurred_image += draw(uv2)/2.;\n            q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i+2.,uv.x+uv.y+24.))+bluramount); \n            uv2 = uv+(q*bluramount);\n            blurred_image += draw(uv2)/2.;\n        }\n        blurred_image /= repeats;\n        fragColor = vec4(blurred_image);\n    }\n\n    void main()\n    {\n        mainImage(gl_FragColor, uv0.xy);\n    }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],GlobalGameData:[function(t,e,n){"use strict";cc._RF.push(e,"6e3afUGzaNL6ZzMIHKGbsjN","GlobalGameData");var i=e.exports;i.init=function(){window.$G||(window.$G={}),i._initNtfs(),i._initCData(),i._initSData()},i._initSData=function(){$G.gSData={}},i._initCData=function(){$G.gCData={}},i._initNtfs=function(){window.NOTIFY_UPDATE_MONEY="NOTIFY_UPDATE_MONEY"},cc._RF.pop()},{}],Glowing:[function(t,e,n){"use strict";cc._RF.push(e,"d292d64nDxCtrLbcRSL02dz","Glowing");var i={name:"Glowing",params:[{name:"iResolution",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT3}],defines:[],start:function(t,e){t.node.color=cc.color("#1A7ADC");var n=new cc.Vec3(t.node.width,t.node.height,0);e.setParamValue("iResolution",n),this._start=Date.now()},update:function(t,e){var n=(Date.now()-this._start)/1e3;e.setParamValue("iTime",n)},vert:"uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }\n        ",frag:"uniform sampler2D texture;\n    uniform vec3 iResolution;\n    uniform float iTime;\n    uniform vec4 color;\n    varying vec2 uv0;\n\n    const float radius = 4.0;\n\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n    {\n        vec2 uv = fragCoord.xy;\n        vec2 unit = 1.0 / iResolution.xy;\n        vec4 texel = texture2D(texture, uv);\n        vec4 finalColor = vec4(0.0);\n        float density = 0.0;\n\n        if(texel.a >= 1.0)\n        {\n            finalColor = texel;\n        }\n        else\n        {\n            for(int i = 0; i < int(radius); ++i)\n            {\n                density += texture2D(texture, vec2(uv.x + unit.x * float(i), uv.y + unit.y * float(i))).a;\n                density += texture2D(texture, vec2(uv.x - unit.x * float(i), uv.y + unit.y * float(i))).a;\n                density += texture2D(texture, vec2(uv.x - unit.x * float(i), uv.y - unit.y * float(i))).a;\n                density += texture2D(texture, vec2(uv.x + unit.x * float(i), uv.y - unit.y * float(i))).a;\n            }\n            density = density / radius;\n            finalColor = vec4(color.rgb * density, density);\n            finalColor += vec4(texel.rgb * texel.a, texel.a);\n        }\n        fragColor = finalColor;\n    }\n\n    void main()\n    {\n        mainImage(gl_FragColor, uv0.xy);\n    }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],HttpHandler:[function(t,e,n){"use strict";cc._RF.push(e,"53cb0Ld4shOi5MFaqze5njs","HttpHandler");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t)}return i(t,[{key:"setConfigs",value:function(t){var e=this;this._configs?_.each(t,function(t,n){e._configs[n]=t}):this._configs=t}},{key:"getConfigs",value:function(){return this._configs}},{key:"getConfig",value:function(t){var e=this.getConfigs()[t];return e||""}}]),t}();e.exports=new o,cc._RF.pop()},{}],HttpHelper:[function(t,e,n){"use strict";cc._RF.push(e,"ccf88Tfn1tPA5gYq5LAkdQa","HttpHelper");var i={INITED:1,REQUESTING:2,FINISH:3,CANCEL:4,TIMEOUT:5};function o(){this.state=i.INITED,this.host=null,this.port=null,this.router=null,this.params=null}e.exports=new o,o.prototype.initNet=function(){this.state=i.INITED,this.serverList=HttpHandler.getConfig("HttpList"),this.serverListWX=HttpHandler.getConfig("WXHttpList"),this.setAServer()},o.prototype.setAServer=function(){var t=_.random(0,_.size(this.serverList)-1);this.host=this.serverList[t].host,this.port=this.serverList[t].port;var e=_.random(0,_.size(this.serverListWX)-1);this.hostWX=this.serverListWX[e].host,this.portWX=this.serverListWX[e].port},o.prototype.getAServer=function(){return{host:this.host,port:this.port,hostWX:this.host,portWX:this.port}},o.prototype.getUrl=function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=t+(e&&_.size(e)>0?":"+e:e)+"/"+n;if(o)return r;if(s)return r+"/"+encodeURIComponent(i);var a="";return _.each(i,function(t,e){_.isEmpty(a)||(a+="&"),a+=e+"="+encodeURIComponent(t)}),r+=_.isEmpty(a)?"":"?"+a},o.prototype.getDefaultUrl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.getUrl(this.host,this.port,t,e,n,i)},o.prototype.request=function(t,e,n,o){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.state<i.INITED)cc.error("Error: http not inited");else{r=null==gLoadingScene&&r;var u=n;r&&(u=function(){n&&n()});var h=null,d=null;_.isString(t)?h=t:l?(h=this.getUrl(this.hostWX,this.portWX,t.router,t.params,s,c),d=t.params):(h=this.getUrl(this.host,this.port,t.router,t.params,s,c),d=t.params),this.state=i.REQUESTING;var p=Configs.Http_Timeout,g=!1,f="HttpRequest : "+(s?"Post : ":"Get : ")+h;if(cc.log(f),l){var m=setTimeout(function(){cc.log("timeout :"+h),g=!0,u&&u()},p);wx.request({url:h,data:d,method:"POST",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if(clearTimeout(m),this.state=i.FINISH,200==t.statusCode){var n=t.data;e&&e(n),u&&u(),cc.log(n)}else u&&u(),o&&o()},fail:function(t){this.onError(o)},complete:function(t){cc.log("\u8bf7\u6c42\u7ed3\u675f")}})}else{var v=new XMLHttpRequest,C=setTimeout(function(){cc.log("timeout :"+h),g=!0,v.abort(),u&&u()},p);v.onerror=function(){return a.onError(o)},v.onreadystatechange=function(){if(4==v.readyState&&!g)if(clearTimeout(C),this.state=i.FINISH,200==v.status){var t=c?v.response:JSON.parse(v.response);e&&e(t),u&&u(),cc.log(t)}else u&&u(),o&&o()},s?(v.open("POST",h,!0),c?(v.responseType="text",v.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),v.send(d)):(v.setRequestHeader("Content-Type","application/json"),v.send(d))):(v.open("GET",h,!0),v.send())}}},o.prototype.onError=function(t){this.state===i.REQUESTING&&(cc.log("\u8bf7\u6c42\u9519\u8bef"),t&&t())},cc._RF.pop()},{}],HttpRouters:[function(t,e,n){"use strict";cc._RF.push(e,"67a5chK8hZBzq1hqlA7pRMS","HttpRouters"),e.exports.RqLogin={},e.exports.RqLogin.fkBallLogin={router:"Game/Index/onLogin.html",params:{code:"ssjshhs",type:6,api_version:1,sign:""}},e.exports.RqLogin.getUserInfo={router:"Game/Virus/getUserInfo.html",params:{type:6,openid:"",api_version:1,sign:""}},e.exports.RqRank={},e.exports.RqRank.getChallengeScoreInfo={router:"Game/Level/getChallengeScoreInfo.html",params:{date_type:1,type:6,openid:"",api_version:1,sign:""}},e.exports.RqRank.getScoreInfo={router:"Game/Level/getScoreInfo.html",params:{type:6,openid:"",api_version:1,sign:""}},e.exports.RqSend={},e.exports.RqSend.saveScoreInfo={router:"Game/Score/saveScoreInfo.html",params:{nickname:"",head_portrait:"",score:0,type:6,openid:"",api_version:1,sign:""}},e.exports.RqSend.saveChallengeScore={router:"Game/Score/saveChallengeScore.html",params:{score:0,nickname:"",head_portrait:"",type:6,openid:"",api_version:1,token:"",sign:""}},e.exports.RqSend.getChallengeCardNums={router:"Game/Prop/getChallengeCardInfo.html",params:{openid:"",option:2,api_version:1,sign:""}},e.exports.RqSend.applyChallenge={router:"Game/Prop/applyChallenge.html",params:{openid:"",type:6,api_version:1,sign:""}},e.exports.RqSend.addChallengeCardNums={router:"Game/Prop/saveChallengeCardInfo.html",params:{card_type:1,openid:"",option:1,api_version:1,sign:""}},e.exports.RqRedPacket={},e.exports.RqRedPacket.getRedPacket={router:"Game/RedPacket/getRedPacket.html",params:{openid:"",type:6,api_version:1,sign:""}},cc._RF.pop()},{}],HttpServer:[function(t,e,n){"use strict";cc._RF.push(e,"84dc92TX71AEbNNaGbpe6i9","HttpServer");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.getConfigs=function(t,e){HttpHelper.request(HttpHandler.getConfig("ConfigUrl"),t,e,null,!1,!1)}}return i(t,[{key:"requestWX",value:function(t,e,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];HttpHelper.request(t,e,n,i,!1,o,s,!0)}},{key:"requestPostWX",value:function(t,e,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];HttpHelper.request(t,e,n,i,!0,o,s,!0)}},{key:"request",value:function(t,e,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];HttpHelper.request(t,e,n,i,!1,o,s)}},{key:"requestPost",value:function(t,e,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];HttpHelper.request(t,e,n,i,!0,o,s)}},{key:"requestWithSecret",value:function(t,e,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t.params.secret=UserHandler.getSecret(),HttpHelper.request(t,e,n,i,!1,o,s)}},{key:"requestPostWithSecret",value:function(t,e,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t.params.secret=UserHandler.getSecret(),HttpHelper.request(t,e,n,i,!0,o,s)}}]),t}();e.exports=new o,cc._RF.pop()},{}],JsonMgr:[function(t,e,n){"use strict";cc._RF.push(e,"a113b4qHUVNn76nWroS2L9R","JsonMgr");var i=t("underscore"),o={UpgradeData:"C_UpgradeData",Wingman:"C_Wingman",Wingman_BlueBall:"C_Wingman_BlueBall",Wingman_Flamthrower:"C_Wingman_Flamthrower",Wingman_Lasser:"C_Wingman_Lasser",Wingman_Lightning:"C_Wingman_Lightning",Wingman_UAV:"C_Wingman_UAV"},s={1:"Wingman_BlueBall",2:"Wingman_Flamthrower",3:"Wingman_Lasser",4:"Wingman_Lightning",5:"Wingman_UAV"};function r(){this._currentLoaded=0,this._maxLoaded=i.size(o),this.data={}}e.exports=new r,r.prototype.load=function(t){var e=this;i.each(o,function(n,i){var o="JSON/data/"+n;CCLoaderHelper.getRes(o,cc.RawAsset,function(n,o){e._currentLoaded++,e.data[i]=o.json,e._currentLoaded>=e._maxLoaded&&t&&t()})})},r.prototype.getUpgradeData=function(){return this.data.UpgradeData},r.prototype.getWingman=function(){return this.data.Wingman},r.prototype.getWingman_BlueBall=function(){return this.data.Wingman_BlueBall},r.prototype.getWingman_Flamthrower=function(){return this.data.Wingman_Flamthrower},r.prototype.getWingman_Lasser=function(){return this.data.Wingman_Lasser},r.prototype.getWingman_Lightning=function(){return this.data.Wingman_Lightning},r.prototype.getWingman_UAV=function(){return this.data.Wingman_UAV},r.prototype.getWingmanByKey=function(t){return this.data[s[t]]},cc._RF.pop()},{underscore:"underscore"}],LoadingScene:[function(t,e,n){"use strict";cc._RF.push(e,"24ff9CNh/ZPEZ1bkRYsYovl","LoadingScene"),cc.Class({extends:cc.Component,properties:{loadingLabel:cc.Label,ndLogin:cc.Node},onDestroy:function(){window.isLoadingScene=!1,window.gLoadingScene=null},onLoad:function(){var e=this;cc.log("@@loadingScene  - start"),this._comScheduler=this.addComponent("ComScheduler"),window.isLoadingScene=!0,window.gLoadingScene=this,window.DataHelper=t("DataHelper").initHelper(),this._loaded=0,this._loadMax=7,this.progressBar=this.node.getChildByName("progressBar").getComponent(cc.ProgressBar),this._updateLabel(),cc.loader.loadRes(Configs.JSON,cc.RawAsset,function(t,n){e._onLoadDone(),JsonMgr.load(function(){e._onLoadDone()}),NPHelper.initHelper(function(){e._onLoadDone()}),HttpHandler.setConfigs(n.json),HttpHelper.initNet(),e.loadAD()}),GameHelper.PreloadGameScene_Plane(this.onProgress.bind(this),this.onLoaded.bind(this)),AudioHelper.loadMusics(function(){e._onLoadDone()}),cc.log("@@loadingScene  - end")},loadAD:function(){var t=this;if("undefined"==typeof wx)return this._onLoadDone(),void this._onLoadDone();var e=HttpHandler.getConfigs();PlatformHelper.createBannerAd(e.BannerAdUnitId,function(){t._onLoadDone()},function(){t._onLoadDone()}),PlatformHelper.createRewardedVideoAd(e.VideoAdUnitId,function(){t._onLoadDone()},function(){t._onLoadDone()})},login:function(t,e,n){PlatformHelper.checkSession(function(){},PlatformHelper.login(t,e))},onProgress:function(t,e,n){},onLoaded:function(){this._onLoadDone()},_onLoadDone:function(t){this._loaded++,cc.log(this._loaded),this._updateLabel(),this._loaded>=this._loadMax&&this.onLoadAll()},_updateLabel:function(){var t=this._loaded/this._loadMax;this.progressBar.progress=t,this.loadingLabel.string="\u52a0\u8f7d\u4e2d...                                        \uff08"+parseInt(100*t).toString()+"%\uff09",this._loaded==this._loadMax&&(this.loadingLabel.string="\u52a0\u8f7d\u5b8c\u6210                                        \uff08100%\uff09")},onLoadAll:function(){var t=this;isLoadingScene=!1,"undefined"!=typeof wx?(UserServer.login(function(){PlatformHelper.getStorageSync("userInfo")?t._goGameScene():PlatformHelper.showModal("\u63d0\u793a","\u8bf7\u5148\u767b\u5f55",function(){PlatformHelper.createUserInfoButton(t.ndLogin,function(e){t._comScheduler.clear("loading"),PlatformHelper.setStorageSync("userInfo",e.userInfo),t._goGameScene()})})}),this._comScheduler.once("loading",function(){PlatformHelper.buttonHide(),GameHelper.GameScene_Plane(function(){})},7)):GameHelper.GameScene_Plane(function(){})},_goGameScene:function(){this.checkWXSDKVersion(function(){GameHelper.GameScene_Plane(function(){})})},checkWXSDKVersion:function(t){var e=PlatformHelper.getSystemInfoSync().SDKVersion;StringHelper.compareVersion(e,"2.3.0")>=0?t&&t():wx.showModal({title:"\u63d0\u793a",content:"\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5\u3002"})}}),cc._RF.pop()},{DataHelper:"DataHelper"}],MD5:[function(t,e,n){"use strict";cc._RF.push(e,"a1151EThsVG05pWbtX7J1jU","MD5");var i=0,o=8;function s(t){return g(r(p(t),t.length*o))}function r(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,i=-271733879,o=-1732584194,s=271733878,r=0;r<t.length;r+=16){var a=n,p=i,g=o,f=s;i=h(i=h(i=h(i=h(i=u(i=u(i=u(i=u(i=l(i=l(i=l(i=l(i=c(i=c(i=c(i=c(i,o=c(o,s=c(s,n=c(n,i,o,s,t[r+0],7,-680876936),i,o,t[r+1],12,-389564586),n,i,t[r+2],17,606105819),s,n,t[r+3],22,-1044525330),o=c(o,s=c(s,n=c(n,i,o,s,t[r+4],7,-176418897),i,o,t[r+5],12,1200080426),n,i,t[r+6],17,-1473231341),s,n,t[r+7],22,-45705983),o=c(o,s=c(s,n=c(n,i,o,s,t[r+8],7,1770035416),i,o,t[r+9],12,-1958414417),n,i,t[r+10],17,-42063),s,n,t[r+11],22,-1990404162),o=c(o,s=c(s,n=c(n,i,o,s,t[r+12],7,1804603682),i,o,t[r+13],12,-40341101),n,i,t[r+14],17,-1502002290),s,n,t[r+15],22,1236535329),o=l(o,s=l(s,n=l(n,i,o,s,t[r+1],5,-165796510),i,o,t[r+6],9,-1069501632),n,i,t[r+11],14,643717713),s,n,t[r+0],20,-373897302),o=l(o,s=l(s,n=l(n,i,o,s,t[r+5],5,-701558691),i,o,t[r+10],9,38016083),n,i,t[r+15],14,-660478335),s,n,t[r+4],20,-405537848),o=l(o,s=l(s,n=l(n,i,o,s,t[r+9],5,568446438),i,o,t[r+14],9,-1019803690),n,i,t[r+3],14,-187363961),s,n,t[r+8],20,1163531501),o=l(o,s=l(s,n=l(n,i,o,s,t[r+13],5,-1444681467),i,o,t[r+2],9,-51403784),n,i,t[r+7],14,1735328473),s,n,t[r+12],20,-1926607734),o=u(o,s=u(s,n=u(n,i,o,s,t[r+5],4,-378558),i,o,t[r+8],11,-2022574463),n,i,t[r+11],16,1839030562),s,n,t[r+14],23,-35309556),o=u(o,s=u(s,n=u(n,i,o,s,t[r+1],4,-1530992060),i,o,t[r+4],11,1272893353),n,i,t[r+7],16,-155497632),s,n,t[r+10],23,-1094730640),o=u(o,s=u(s,n=u(n,i,o,s,t[r+13],4,681279174),i,o,t[r+0],11,-358537222),n,i,t[r+3],16,-722521979),s,n,t[r+6],23,76029189),o=u(o,s=u(s,n=u(n,i,o,s,t[r+9],4,-640364487),i,o,t[r+12],11,-421815835),n,i,t[r+15],16,530742520),s,n,t[r+2],23,-995338651),o=h(o,s=h(s,n=h(n,i,o,s,t[r+0],6,-198630844),i,o,t[r+7],10,1126891415),n,i,t[r+14],15,-1416354905),s,n,t[r+5],21,-57434055),o=h(o,s=h(s,n=h(n,i,o,s,t[r+12],6,1700485571),i,o,t[r+3],10,-1894986606),n,i,t[r+10],15,-1051523),s,n,t[r+1],21,-2054922799),o=h(o,s=h(s,n=h(n,i,o,s,t[r+8],6,1873313359),i,o,t[r+15],10,-30611744),n,i,t[r+6],15,-1560198380),s,n,t[r+13],21,1309151649),o=h(o,s=h(s,n=h(n,i,o,s,t[r+4],6,-145523070),i,o,t[r+11],10,-1120210379),n,i,t[r+2],15,718787259),s,n,t[r+9],21,-343485551),n=d(n,a),i=d(i,p),o=d(o,g),s=d(s,f)}return Array(n,i,o,s)}function a(t,e,n,i,o,s){return d(function(t,e){return t<<e|t>>>32-e}(d(d(e,t),d(i,s)),o),n)}function c(t,e,n,i,o,s,r){return a(e&n|~e&i,t,e,o,s,r)}function l(t,e,n,i,o,s,r){return a(e&i|n&~i,t,e,o,s,r)}function u(t,e,n,i,o,s,r){return a(e^n^i,t,e,o,s,r)}function h(t,e,n,i,o,s,r){return a(n^(e|~i),t,e,o,s,r)}function d(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function p(t){for(var e=Array(),n=(1<<o)-1,i=0;i<t.length*o;i+=o)e[i>>5]|=(t.charCodeAt(i/o)&n)<<i%32;return e}function g(t){for(var e=i?"0123456789ABCDEF":"0123456789abcdef",n="",o=0;o<4*t.length;o++)n+=e.charAt(t[o>>2]>>o%4*8+4&15)+e.charAt(t[o>>2]>>o%4*8&15);return n}e.exports={hex_md5_32bit:s,hex_md5_16bit:function(t){return s(t).substr(8,16)}},cc._RF.pop()},{}],MaskShader:[function(t,e,n){"use strict";cc._RF.push(e,"fb115/OdB1NgqOtlJU3kvMj","MaskShader");var i=cc.renderer.renderEngine.renderer,o=t("CustomMaterial"),s={name:"Mask",params:[{name:"u_edge",type:i.PARAM_FLOAT,defaultValue:.5}],defines:[],vert:"\n        uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }",frag:"\n        uniform sampler2D texture;\n        varying vec2 uv0;\n    \n        uniform float u_edge;\n    \n        void main()\n        {\n            float edge = u_edge;\n            float dis = 0.0;\n            vec2 texCoord = uv0;\n            if ( texCoord.x < edge )\n            {\n                if ( texCoord.y < edge )\n                {\n                    dis = distance( texCoord, vec2(edge, edge) );\n                }\n                if ( texCoord.y > (1.0 - edge) )\n                {\n                    dis = distance( texCoord, vec2(edge, (1.0 - edge)) );\n                }\n            }\n            else if ( texCoord.x > (1.0 - edge) )\n            {\n                if ( texCoord.y < edge )\n                {\n                    dis = distance( texCoord, vec2((1.0 - edge), edge ) );\n                }\n                if ( texCoord.y > (1.0 - edge) )\n                {\n                    dis = distance( texCoord, vec2((1.0 - edge), (1.0 - edge) ) );\n                }\n            }\n      \n            if(dis > 0.001)\n            {\n                // \u5916\u5708\u6c9f\n                float gap = edge * 0.02;\n                if(dis <= edge - gap)\n                {\n                    gl_FragColor = texture2D( texture,texCoord);\n                }\n                else if(dis <= edge)\n                {\n                    // \u5e73\u6ed1\u8fc7\u6e21\n                    float t = smoothstep(0.,gap,edge-dis);\n                    vec4 color = texture2D( texture,texCoord);\n                    gl_FragColor = vec4(color.rgb,t);\n                }else{\n                    gl_FragColor = vec4(0.,0.,0.,0.);\n                }\n            }\n            else\n            {\n                gl_FragColor = texture2D( texture,texCoord);\n            }\n        }\n        "};o.addShader(s),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],Mosaic:[function(t,e,n){"use strict";cc._RF.push(e,"5688dfDOcZAxJ4WXSLKr6hI","Mosaic");var i=cc.renderer.renderEngine.renderer,o={name:"Mosaic",params:[{name:"iResolution",type:i.PARAM_FLOAT3},{name:"mosaicSize",type:i.PARAM_FLOAT}],defines:[],start:function(t,e){var n=new cc.Vec3(t.node.width,t.node.height,0);e.setParamValue("iResolution",n),e.setParamValue("mosaicSize",16)},vert:"uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }\n        ",frag:"uniform sampler2D texture;\n    uniform vec3 iResolution;\n    uniform float mosaicSize;\n    varying vec2 uv0;\n     \n    void main(void)\n    {\n        vec4 color;\n        vec2 xy = vec2(uv0.x * iResolution.x, uv0.y * iResolution.y);\n        vec2 xyMosaic = vec2(floor(xy.x / mosaicSize) * mosaicSize, floor(xy.y / mosaicSize) * mosaicSize);\n        vec2 xyFloor = vec2(floor(mod(xy.x, mosaicSize)), floor(mod(xy.y, mosaicSize)));\n        vec2 uvMosaic = vec2(xyMosaic.x / iResolution.x, xyMosaic.y / iResolution.y);\n        color = texture2D( texture, uvMosaic);\n        gl_FragColor = color; \n    }"};t("CustomMaterial").addShader(o),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],NPHelper:[function(t,e,n){"use strict";cc._RF.push(e,"843adnOcrJMZ5/svR4evuEZ","NPHelper");var i={PbTouchMask:"prefabs/NodePools/pbTouchMask"},o={},s={};function r(){var t="";_.each(o,function(e,n){t+=n+" :",t+=e._pool.length,t+=" "}),t="@@ POOL: "+t,cc.log(t)}function a(t){var e=o[t];if(null!==e){var n=e._pool.length;if(!(n<=1)){for(var i=1;i<n;++i)e._pool[i].destroy();e._pool.length=1}}}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PbCard";r();try{var n=o[t].get();return n||(n=cc.instantiate(s[t])),n.x=0,n.y=0,n.scale=1,n.skewY=0,n.skewX=0,n}catch(n){return cc.log("@ NPHelper Error! err : "+t),cc.log(n),e.exports.getNode(t)}}e.exports={testLog:r,initHelper:function(t){var e=0;_.each(i,function(n,r){CCLoaderHelper.getRes(n,cc.Prefab,function(n,a){if(cc.log("@ NPHelper: <"+r+"> is loaded"),e++,s[r]=cc.instantiate(a),e>=_.size(i))return function(){for(var t in i)o[t]=new cc.NodePool(t),o[t].put(c(t))}(),void(t&&t())})})},getNode:c,putNode:function(t,e){o[t].put(e)},clearPool:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t)for(var e in i)a(e);else a(t)}},cc._RF.pop()},{}],NotifyHelper:[function(t,e,n){"use strict";function i(){cc.log("NotifyHelper constructor"),this.emitter=new cc.EventTarget,this.dirtyList={},this.dirtyTime=300,this.dirtyInterval=50,this.dirtyIntervalId=0}cc._RF.push(e,"583b062e6lNdrFJv0TWsWzC","NotifyHelper"),e.exports=new i,i.prototype.clearAll=function(){},i.prototype.register=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emitter.on(t,e)},i.prototype.registerOnce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emitter.once(t,e)},i.prototype.notify=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emitter.emit(t,e)},i.prototype.notifyDirty=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.dirtyList[t]={name:t,detail:e,time:TimeHelper.getCTime()},this.update()},i.prototype.update=function(){var t=this;if(cc.log("update"),0==_.size(this.dirtyList))return window.clearInterval(this.dirtyIntervalId),void(this.dirtyIntervalId=0);0==this.dirtyIntervalId&&(this.dirtyIntervalId=window.setInterval(function(){t.update()},this.dirtyInterval));var e=TimeHelper.getCTime();_.each(this.dirtyList,function(n,i){e-n.time>t.dirtyTime&&(cc.log("EMIT: "+n.name),t.emitter.emit(n.name,n.detail),t.dirtyList[i]=null,delete t.dirtyList[i])})},i.prototype.remove=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.emitter.off(t,e)},cc._RF.pop()},{}],ObjHelper:[function(t,e,n){"use strict";cc._RF.push(e,"05d29oLGWNHmq9X/dRX7B1Q","ObjHelper"),e.exports.deepClone=function(t){var n=_.isArray(t)?[]:{};for(var i in t)t.hasOwnProperty(i)&&(_.isObject(t[i])?n[i]=e.exports.deepClone(t[i]):n[i]=t[i]);return n},cc._RF.pop()},{}],Outline:[function(t,e,n){"use strict";cc._RF.push(e,"fc18a0fBrNGarFRjkii8NLm","Outline");var i={name:"Outline",params:[{name:"iResolution",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT3}],defines:[],start:function(t,e){var n=new cc.Vec3(t.node.width,t.node.height,0);e.setParamValue("iResolution",n)},vert:"uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }\n        ",frag:"uniform sampler2D texture;\n    varying vec2 uv0;\n    uniform vec3 iResolution;\n\n    void main()\n    {\n        vec2 onePixel = vec2(1.0 / iResolution.x, 1.0 / iResolution.y);\n\n        vec4 color = texture2D(texture, uv0.xy);\n        vec4 colorRight = texture2D(texture, uv0.xy + vec2(0,onePixel.t));\n        vec4 colorBottom = texture2D(texture, uv0.xy + vec2(onePixel.s,0));\n\n        color.r = 3.0* sqrt( (color.r - colorRight.r) * (color.r - colorRight.r) + (color.r - colorBottom.r) * (color.r - colorBottom.r) );\n        color.g = 3.0* sqrt( (color.g - colorRight.g) * (color.g - colorRight.g) + (color.g - colorBottom.g) * (color.g - colorBottom.g) );\n        color.b = 3.0* sqrt( (color.b - colorRight.b) * (color.b - colorRight.b) + (color.b - colorBottom.b) * (color.b - colorBottom.b) );\n\n        color.r >1.0 ? 1.0 : color.r;\n        color.g >1.0 ? 1.0 : color.g;\n        color.b >1.0 ? 1.0 : color.b;\n        gl_FragColor = vec4(color.rgb, 1);\n    }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],OverlayShader:[function(t,e,n){"use strict";cc._RF.push(e,"91e3eyp6AdPSaaJel4O5naE","OverlayShader");var i={name:"overlay",defines:[],start:function(t){t.node.color=cc.color("#FBC00C")},vert:"uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }\n        ",frag:"uniform sampler2D texture;\n        varying vec2 uv0;\n        uniform vec4 color;\n        void main() \n        { \n            vec4 texColor = texture2D(texture, uv0);  \n            if (texColor.r <= 0.5)\n            gl_FragColor.r = 2.0 * texColor.r * color.r;\n            else\n            gl_FragColor.r = 1.0 - 2.0 * (1.0 - texColor.r) * (1.0 - color.r);\n            if (texColor.g <= 0.5)\n            gl_FragColor.g = 2.0 * texColor.g * color.g;\n            else\n            gl_FragColor.g = 1.0 - 2.0 * (1.0 - texColor.g) * (1.0 - color.g);\n            if (texColor.b <= 0.5)\n            gl_FragColor.b = 2.0 * texColor.b * color.b;\n            else\n            gl_FragColor.b = 1.0 - 2.0 * (1.0 - texColor.b) * (1.0 - color.b);\n            gl_FragColor.a = texColor.a * color.a;\n        }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],PBHelper:[function(t,e,n){"use strict";cc._RF.push(e,"42868sIiPZFkKanvkUVjXUr","PBHelper");var i="prefabs/Dlgs/",o={DlgGoDesktop:i+"DlgGoDesktop",DlgDetermineExit:i+"DlgDetermineExit",DlgRedPacket:i+"DlgRedPacket",DlgResult:i+"DlgResult",DlgRule:i+"DlgRule",DlgSetting:i+"DlgSetting",DlgTicket:i+"DlgTicket"};e.exports.addNode=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:9999;e.exports.getNode(t,function(t){null===n&&(n=cc.director.getScene().getChildByName("Canvas")),n.getChildByName(o)&&n.getChildByName(o).destroy(),n.addChild(t,o),i&&i(t)})},e.exports.getNode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null==n?null==gLoadingScene:n,s=e;i&&(s=function(t){e&&e(t)}),CCLoaderHelper.getRes(o[t],cc.Prefab,function(e,n){var i=cc.instantiate(cc.loader.getRes(o[t]));return s&&s(i),i})},e.exports.releaseNode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=function(t){cc.log("@Release:"+t);var e=cc.loader.getDependsRecursively(o[t]);cc.loader.release(e)};if(null===t)for(var n in o)e(n);else e(t)},cc._RF.pop()},{}],PbBlueBall:[function(t,e,n){"use strict";cc._RF.push(e,"c7720Y6whZE+64ovYZVXMF6","PbBlueBall"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.parent=t;var e=2+gLocalData.userInfo.wingmanIntensity/100*8;this.index=parseInt(e>10?10:e),this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.hpDrop=this.data.hpDrop;var n=.2+gLocalData.userInfo.wingmanHPDrop/100*.8;this.node.scale=n>1?1:n},onCollisionEnter:function(t,e){if(t.node.group==Constants.Group.groupPlaneVirus()){var n=t.node.getComponent("PbVirus");n&&n.hP>0&&(this.checkDied(),n.bruise(this.hpDrop))}},checkDied:function(){this.index--,this.index<=0&&(this.parent.enemyeBlueBallDied(this.node),this.node.group="default")}}),cc._RF.pop()},{}],PbBuffGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"ed908FPn1lFyJaVtyF2PHXR","PbBuffGroupCtl");var i=cc.Class({name:"buff",properties:{name:"",initPollCount:0,prefab:cc.Prefab}});cc.Class({extends:cc.Component,properties:function(){return{buff:{default:[],type:i}}},onLoad:function(){},init:function(t){var e=this;this._target=t,_.each(this.buff,function(t,n){e[t.prefab.name+"_buff_Pool"]=e.addComponent("ComNodePool"),_.times(t.initPollCount,function(){e[t.prefab.name+"_buff_Pool"].getNode(t.prefab)})})},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_.each(this.node.children,function(e){e.getComponent("PbBuff").setIsEnabled(t)})},getBuffer:function(t){var e=this.buff[_.random(8)],n=this[e.prefab.name+"_buff_Pool"].getNode(e.prefab);n.parent=this.node,n.getComponent("PbBuff").init(this,t)},buffDied:function(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var e=t.getComponent("PbBuff"),n=e.buffType,i=e.effectiveTime;this._target.buffListCtl.getBufferHint(n,i)}this[t.name+"_buff_Pool"].putNode(t)},resetAll:function(){for(;this.node.children.length>0;)this[this.node.children[0].name+"_buff_Pool"].putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbBuffHintListCtl:[function(t,e,n){"use strict";cc._RF.push(e,"4c899r3KjRMtZBbkprWPswZ","PbBuffHintListCtl");var i=cc.Class({name:"buffHint",properties:{name:"",initPollCount:0,prefab:cc.Prefab}});cc.Class({extends:cc.Component,properties:{buffHint:{default:[],type:i}},onLoad:function(){},init:function(t){var e=this;this._target=t,_.times(9,function(t){var n=e.buffHint[0],i=t+1;e[n.prefab.name+i+"_buff_Hint_Pool"]=e.addComponent("ComNodePool"),_.times(n.initPollCount,function(){e[n.prefab.name+i+"_buff_Hint_Pool"].getNode(n.prefab)})})},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_.each(this.node.children,function(e){e.getComponent("PbBuffHint").setIsEnabled(t)})},getBufferHint:function(t,e){var n=_.find(this.node.children,function(e){return e.buffType==t});if(n)n.getComponent("PbBuffHint").addTime(e);else{var i=this["PbBuffHint"+t+"_buff_Hint_Pool"].getNode(this.buffHint[0].prefab);switch(i.parent=this.node,i.getComponent("PbBuffHint").init(this,e,t),t){case Constants.PlaneBuffType.ADD_FIRING_RATE():case Constants.PlaneBuffType.ADD_FIREPOWER():this._target.bulletGroupCtl.changeBullet(t);break;case Constants.PlaneBuffType.FIRE_SUPPORT():this._target.fireSupportCtl.showFireSupportCtl();break;case Constants.PlaneBuffType.HAND_OF_MIDAS():this._target.bulletGroupCtl.changeBullet(t);break;case Constants.PlaneBuffType.SPEED_CUT_FOR_PLANE():this._target.planeCtl.setSpeedCut(!0);break;case Constants.PlaneBuffType.SPEED_CUT_FOR_VIRUS():this._target.virusGroupCtl.setSpeedCut(!0);break;case Constants.PlaneBuffType.SPEED_UP_FOR_VIRUS():this._target.virusGroupCtl.setSpeedUp(!0);break;case Constants.PlaneBuffType.FILL_OUT_FOR_VIRUS():this._target.virusGroupCtl.virusFillOut(!0);break;case Constants.PlaneBuffType.REPEL_SHOOT():this._target.bulletGroupCtl.changeBullet(t)}this._target.planeCtl.addPlaneBufferType(t)}},buffDiedHint:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.buffType;if(!e){switch(n){case Constants.PlaneBuffType.ADD_FIRING_RATE():case Constants.PlaneBuffType.ADD_FIREPOWER():this._target.bulletGroupCtl.changeBullet(n);break;case Constants.PlaneBuffType.FIRE_SUPPORT():this._target.fireSupportCtl.hideFireSupportCtl();break;case Constants.PlaneBuffType.HAND_OF_MIDAS():this._target.bulletGroupCtl.changeBullet(n);break;case Constants.PlaneBuffType.SPEED_CUT_FOR_PLANE():this._target.planeCtl.setSpeedCut(!1);break;case Constants.PlaneBuffType.SPEED_CUT_FOR_VIRUS():this._target.virusGroupCtl.setSpeedCut(!1);break;case Constants.PlaneBuffType.SPEED_UP_FOR_VIRUS():this._target.virusGroupCtl.setSpeedUp(!1);break;case Constants.PlaneBuffType.FILL_OUT_FOR_VIRUS():this._target.virusGroupCtl.virusFillOut(!1);break;case Constants.PlaneBuffType.REPEL_SHOOT():this._target.bulletGroupCtl.changeBullet(n)}this._target.planeCtl.removePlaneBufferType(n)}this[t.name+n+"_buff_Hint_Pool"].putNode(t)},resetAll:function(){for(;this.node.children.length>0;)this[this.node.children[0].name+this.node.children[0].buffType+"_buff_Hint_Pool"].putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbBuffHint:[function(t,e,n){"use strict";cc._RF.push(e,"b69cbBdyN9Pk6GYUpLVMLnI","PbBuffHint");var i=t("Constants"),o=cc.Enum({ADD_FIRING_RATE:i.PlaneBuffType.ADD_FIRING_RATE(),ADD_FIREPOWER:i.PlaneBuffType.ADD_FIREPOWER(),FIRE_SUPPORT:i.PlaneBuffType.FIRE_SUPPORT(),HAND_OF_MIDAS:i.PlaneBuffType.HAND_OF_MIDAS(),SPEED_CUT_FOR_PLANE:i.PlaneBuffType.SPEED_CUT_FOR_PLANE(),SPEED_CUT_FOR_VIRUS:i.PlaneBuffType.SPEED_CUT_FOR_VIRUS(),SPEED_UP_FOR_VIRUS:i.PlaneBuffType.SPEED_UP_FOR_VIRUS(),FILL_OUT_FOR_VIRUS:i.PlaneBuffType.FILL_OUT_FOR_VIRUS()});cc.Class({extends:cc.Component,properties:{buffType:{type:o,default:o.ADD_FIRING_RATE},sfBuff:{type:cc.SpriteFrame,default:[]},ndItem:cc.Node},onLoad:function(){},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEnabled=t},init:function(t,e,n){return this._target=t,this.timeInt=parseInt(e),this.timeFloat=parseInt(e),this.ndItem.getComponent(cc.Sprite).fillRange=1,this.node.buffType=n,this.node.getComponent(cc.Sprite).spriteFrame=this.sfBuff[n-1],this.isEnabled=!0,this},addTime:function(t){this.isEnabled=!0,this.timeFloat=parseInt(t),this.timeInt=Math.ceil(this.timeFloat)},update:function(t){this.isEnabled&&(this._target._target.isTouched?this.timeFloat-t>=0?(this.timeFloat-=t,this.ndItem.getComponent(cc.Sprite).fillRange=this.timeFloat/this.timeInt):(this.ndItem.getComponent(cc.Sprite).fillRange=0,this.isEnabled=!1,this._target.buffDiedHint(this.node)):this.timeFloat-t>=0?(this.timeFloat-=.01*t,this.ndItem.getComponent(cc.Sprite).fillRange=this.timeFloat/this.timeInt):(this.ndItem.getComponent(cc.Sprite).fillRange=0,this.isEnabled=!1,this._target.buffDiedHint(this.node)))}}),cc._RF.pop()},{Constants:"Constants"}],PbBuff:[function(t,e,n){"use strict";cc._RF.push(e,"e91eddshgtNXL7R0Y0/MlBi","PbBuff");var i=t("Constants"),o=cc.Enum({ADD_FIRING_RATE:i.PlaneBuffType.ADD_FIRING_RATE(),ADD_FIREPOWER:i.PlaneBuffType.ADD_FIREPOWER(),FIRE_SUPPORT:i.PlaneBuffType.FIRE_SUPPORT(),HAND_OF_MIDAS:i.PlaneBuffType.HAND_OF_MIDAS(),SPEED_CUT_FOR_PLANE:i.PlaneBuffType.SPEED_CUT_FOR_PLANE(),SPEED_CUT_FOR_VIRUS:i.PlaneBuffType.SPEED_CUT_FOR_VIRUS(),SPEED_UP_FOR_VIRUS:i.PlaneBuffType.SPEED_UP_FOR_VIRUS(),FILL_OUT_FOR_VIRUS:i.PlaneBuffType.FILL_OUT_FOR_VIRUS(),REPEL_SHOOT:i.PlaneBuffType.REPEL_SHOOT()});cc.Class({extends:cc.Component,properties:{xSpeed:cc.Integer,ySpeed:cc.Integer,activeTime:cc.Integer,effectiveTime:cc.Integer,ndAnimation:{default:null,type:cc.Node,tooltip:"\u52a8\u753b\u8282\u70b9"},buffType:{type:o,default:o.ADD_FIRING_RATE},sfBuff:{type:cc.SpriteFrame,default:[]}},onLoad:function(){cc.director.getCollisionManager().enabled=!0},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEnabled=t,this.moveCtl.setMoved(t)},init:function(t,e){return this._target=t,this.isEnabled=!0,this._activeTime=0,this.node.group=Constants.Group.groupPlaneBuff(),this.node.x=e.x,this.node.y=e.y,this._animation(),this.isRunAction=!1,this.node.opacity=255,this.node.stopAllActions(),this.moveCtl=this.addComponent("SubMove_Plane"),this.moveCtl.init(),this.moveCtl.setMoved(!0),this},onCollisionEnter:function(t,e){"hero"==t.node.name&&(this.setIsEnabled(!1),this._target.buffDied(this.node,!1))},update:function(t){if(this.isEnabled){if(this._target._target.isTouched)this.moveCtl.setSpeed(cc.v2(this.xSpeed,this.ySpeed)),this._activeTime+=t;else{var e=0,n=0;this.ySpeed>0?n=this._target._target.noTouchedSPeed:this.ySpeed<0&&(n=-this._target._target.noTouchedSPeed),this.xSpeed>0?e=this._target._target.noTouchedSPeed:this.xSpeed<0&&(e=-this._target._target.noTouchedSPeed),this.moveCtl.setSpeed(cc.v2(e,n)),this._activeTime+=.01*t}this._activeTime>=this.activeTime-3&&!this.isRunAction&&(this.isRunAction=!0,this._runAction()),this._activeTime>=this.activeTime&&(this.setIsEnabled(!1),this._target.buffDied(this.node,!0))}},_animation:function(){var t=this.ndAnimation.getComponent(cc.Animation);this.ndAnimation.active=!0,t.play()},_runAction:function(){this.node.stopAllActions();var t=ActionHelper.getDirection(.2);t=cc.repeat(t,100),this.node.runAction(t)}}),cc._RF.pop()},{Constants:"Constants"}],PbBulletDieGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"3d3dagwoW9F5YGr9GZ4A6zb","PbBulletDieGroupCtl"),cc.Class({extends:cc.Component,properties:{ndBobm:cc.Node},onLoad:function(){},run:function(t){var e=this.comNodePool.getNode(this.ndBobm);e.x=t.x,e.y=t.y,e.parent=this.node,e.active=!0;var n=e.getComponent(cc.Animation);n.play(),n.on("finished",this.onFinished,this)},onFinished:function(){this.comNodePool.putNode(this.node.children[0])},init:function(t){var e=this;this._target=t,this.speed=800,this.comNodePool=this.addComponent("ComNodePool"),this.comNodePool.putNode(this.node.children[0]),_.times(100,function(){e.comNodePool.getNode(e.ndBobm)})},resetAll:function(){for(;this.node.children.length>0;)this.comNodePool.putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbBulletGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"3d2d93zegRMeaoaPHxucDMn","PbBulletGroupCtl");var i=cc.Class({name:"bPosition",properties:{xAxis:{default:"",tooltip:"\u521d\u59cbx\u8f74\uff0c\u76f8\u5bf9hero"},yAxis:{default:"",tooltip:"\u521d\u59cby\u8f74\uff0c\u76f8\u5bf9hero"}}}),o=cc.Class({name:"bulletInfinite",properties:{name:{default:"",tooltip:"\u5b50\u5f39\u540d\u5b57"},freqTime:{default:0,tooltip:"\u5b50\u5f39\u5c04\u901f"},initPollCount:{default:0,tooltip:"\u521d\u59cb\u5316\u5b50\u5f39\u6570\u91cf"},prefab:{default:null,type:cc.Prefab,tooltip:"\u5b50\u5f39\u9884\u5236\u4f53"},position:{default:[],type:i,tooltip:"\u6bcf\u6b21\u591a\u5c11\u6392\u5b50\u5f39"}}}),s=cc.Class({name:"bulletFiniteG",extends:o,properties:{finiteTime:{default:0,tooltip:"\u9650\u5b9a\u65f6\u95f4"},orginName:""}});cc.Class({extends:cc.Component,properties:function(){return{bulletInfinite:{default:[],type:o,tooltip:"\u65e0\u9650\u65f6\u957f\u5b50\u5f39\u7ec4"},bulletFiniteG:{default:[],type:s,tooltip:"\u6709\u9650\u65f6\u957f\u5b50\u5f39\u7ec4"},ndBullet:cc.Prefab,hero:cc.Node}},onLoad:function(){},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_.each(this.node.children,function(e){e.getComponent("PbBullet").setIsEnabled(t)})},init:function(t){this._target=t,this.isHandOfMidas=!1,this.isFirepower=!1,this.isRepelShoot=!1},initBullet:function(){var t=this;_.each(this.bulletInfinite,function(e,n){var o=parseInt(t._target.bulletNum),s=0==n?o:2*o>5?2*o:5;s=s>13?13:s;var r=t.getBulletXPostions(e,s);e.position.splice(0),_.each(r,function(t){var n=new i;n.xAxis=t,n.yAxis=100,e.position.push(n)}),t[e.prefab.name+"_Pool"]=t.addComponent("ComNodePool"),_.times(e.initPollCount,function(){t[e.prefab.name+"_Pool"].getNode(e.prefab)})}),_.each(this.bulletFiniteG,function(e){t[e.prefab.name+"_Pool"]=t.addComponent("ComNodePool"),_.times(e.initPollCount,function(){t[e.prefab.name+"_Pool"].getNode(e.prefab)})})},startAction:function(){this.initBullet(),this._createBullet(this.bulletInfinite[0],!0)},_createBullet:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.node.active&&(this.currentBullet=t,n&&this.getNewbullet(this.currentBullet),this.pauseAction(),this.bICallback=function(){e.getNewbullet(e.currentBullet)},n&&this.schedule(this.bICallback,.001*parseInt(this._target.bulletSpeed)))},pauseAction:function(){this.bICallback&&this.unschedule(this.bICallback)},resumeAction:function(t){if(t&&(this.hero=t),this.bICallback&&this.currentBullet){this.initBullet();var e=this.bulletInfinite[1];_.isEqual(this.bulletInfinite[0],this.currentBullet)&&(e=this.bulletInfinite[0]),this._createBullet(e,!1),this.schedule(this.bICallback,.001*parseInt(this._target.bulletSpeed))}else this.startAction()},changeBullet:function(t){switch(t){case Constants.PlaneBuffType.ADD_FIRING_RATE():this.unschedule(this.bICallback),_.isEqual(this.bulletInfinite[0],this.currentBullet)?this._createBullet(this.bulletInfinite[1],this._target.isTouched):this._createBullet(this.bulletInfinite[0],this._target.isTouched);break;case Constants.PlaneBuffType.ADD_FIREPOWER():this.isFirepower=!this.isFirepower;break;case Constants.PlaneBuffType.FIRE_SUPPORT():break;case Constants.PlaneBuffType.HAND_OF_MIDAS():this.isHandOfMidas=!this.isHandOfMidas;break;case Constants.PlaneBuffType.SPEED_CUT_FOR_PLANE():case Constants.PlaneBuffType.SPEED_CUT_FOR_VIRUS():case Constants.PlaneBuffType.SPEED_UP_FOR_VIRUS():case Constants.PlaneBuffType.FILL_OUT_FOR_VIRUS():break;case Constants.PlaneBuffType.REPEL_SHOOT():this.isRepelShoot=!this.isRepelShoot}},getNewbullet:function(t){for(var e=t.name+"_Pool",n=0;n<t.position.length;n++){var i=this[""+e].getNode(t.prefab);i.group=Constants.Group.groupPlaneBullet(),i.active=!0;var o=this.getBulletPostion(t.position[n]);i.setPosition(cc.v2(o.x-t.position[n].xAxis,o.y));var s=i.getComponent("PbBullet");i.parent=this.node,s.init(this._target.bulletHPDrop,this._target.bulletFreqTime,this,this.isRepelShoot),s.changeFirepower(this.isFirepower),s.changendHandOfMidas(this.isHandOfMidas),s.changendRepelShoot(this.isRepelShoot),s.showSP(!this.isFirepower&&!this.isHandOfMidas&&!this.isRepelShoot),s.runAction(t.position[n].xAxis)}},getBulletPostion:function(t){var e=this.hero.getPosition(),n=e.x+t.xAxis,i=e.y+t.yAxis;return cc.v2(n,i)},bulletDied:function(t,e){var n=this;if(!(t.group==Constants.Group.groupPlaneVirus()&&t.getComponent("PbVirus").hP<=0)){if(e&&this.isHandOfMidas){var i=this._target._target._ui.getGoldCurrentPos();this._target.goldGroupCtl.runAction(t.getPosition(),i,function(){var t=gGameScene.Plane_Logic.getHandOfMidasGold(n._target.goldValue);n._target._target._ui.addGoldCurrent(t)})}this[t.name+"_Pool"].putNode(t)}},getBulletXPostions:function(t,e){var n=[],i=t.prefab.data.width*t.prefab.data.scaleX+1.5;return e%2==0?_.times(e,function(t){var o=(parseInt(e/2)-1)*i+i/2;n.push(t*i-o)}):_.times(e,function(t){var o=parseInt(e/2)*i;n.push(t*i-o)}),n},resetAll:function(){for(this.pauseAction(),this.isHandOfMidas=!1,this.isFirepower=!1,this.isRepelShoot=!1,this._createBullet(this.bulletInfinite[0],this._target.isTouched),this.pauseAction();this.node.children.length>0;)this[this.node.children[0].name+"_Pool"].putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbBullet:[function(t,e,n){"use strict";cc._RF.push(e,"81be82YwS9L1LZYufVXSrCP","PbBullet"),cc.Class({extends:cc.Component,properties:{xSpeed:cc.Integer,ySpeed:cc.Integer,hpDrop:cc.Integer,sfblueBullet:cc.SpriteFrame,sfRedBullet:cc.SpriteFrame,ndFirepower:cc.Node,ndHandOfMidas:cc.Node,ndRepelShoot:cc.Node},onLoad:function(){},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEnabled=t,this.moveCtl.setMoved(t)},init:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.oldHP=t,this.ySpeed=e,this.isEnabled=!0,this.xAxis=0,this.moveCtl||(this.moveCtl=this.addComponent("SubMove_Plane")),this.moveCtl.init(),this.moveCtl.setMoved(!0),this.isRepelShoot=i,this.bulletGroup=n},runAction:function(t){this.xAxis=t,this.oldX=this.node.x},changeRedBullet:function(){this.hpDrop=2*this.oldHP},changeBlueBullet:function(){this.hpDrop=this.oldHP},changeFirepower:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndFirepower&&(this.ndFirepower.active=t),this.hpDrop=t?this.oldHP:2*this.oldHP},changendHandOfMidas:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndHandOfMidas.active=t},changendRepelShoot:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndRepelShoot.active=t},showSP:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.getComponent(cc.Sprite).spriteFrame=t?this.sfblueBullet:""},onCollisionEnter:function(t,e){if("hero"!=t.node.name&&(this.oldHP=null,"ndAnimation"!=t.node.name)){this.isRepelShoot&&t.node.getComponent("PbVirus").repelShoot(),this.bulletGroup.bulletDied(e.node,!0);var n=cc.v2(0,0);n.x=e.node.getPosition().x+e.node.width/2,n.y=e.node.getPosition().y+e.node.height/2,gGameScene._ctl.bulletDieGroupCtl.run(e.node.getPosition())}},update:function(t){if(this.isEnabled){if(this.moveCtl.setSpeed(cc.v2(this.xSpeed,this.ySpeed)),0!=this.xAxis){var e=Math.abs(this.xAxis)/.28;this.xAxis<0&&(e=-e),this.moveCtl.setSpeedX(e),this.xAxis<0&&this.oldX+this.xAxis>=this.node.x?(this.node.x=this.oldX+this.xAxis,this.xAxis=0,this.moveCtl.setSpeedX(0)):this.xAxis>0&&this.oldX+this.xAxis<=this.node.x&&(this.node.x=this.oldX+this.xAxis,this.xAxis=0,this.moveCtl.setSpeedX(0))}this.node.y>this.node.parent.height&&(this.oldHP=null,this.bulletGroup.bulletDied(this.node,!1))}}}),cc._RF.pop()},{}],PbCheckpoint:[function(t,e,n){"use strict";cc._RF.push(e,"baef13CG21PzJQm5kv438uf","PbCheckpoint"),cc.Class({extends:cc.Component,properties:{ndPreviousCheckpoint:cc.Node,ndCurrentCheckpoint:cc.Node,ndNextCheckpoint:cc.Node},updateCheckpoint:function(){var t=this.ndPreviousCheckpoint.getChildByName("lb"),e=this.ndCurrentCheckpoint.getChildByName("lb"),n=this.ndNextCheckpoint.getChildByName("lb"),i=this.ndPreviousCheckpoint.getChildByName("boss"),o=this.ndCurrentCheckpoint.getChildByName("boss"),s=this.ndNextCheckpoint.getChildByName("boss"),r=t.getComponent(cc.Label),a=e.getComponent(cc.Label),c=n.getComponent(cc.Label);r.string=gLocalData.userInfo.currentCheckpoint-1,a.string=gLocalData.userInfo.currentCheckpoint,c.string=gLocalData.userInfo.currentCheckpoint+1,r.fontSize=this._getFontSizeByStr(r.string),a.fontSize=this._getFontSizeByStr(a.string),c.fontSize=this._getFontSizeByStr(c.string),i.active=t.getComponent(cc.Label).string%50==0&&0!=t.getComponent(cc.Label).string,o.active=e.getComponent(cc.Label).string%50==0,s.active=n.getComponent(cc.Label).string%50==0,this.ndPreviousCheckpoint.active=gLocalData.userInfo.currentCheckpoint-1!=0,this.node.getChildByName("gqian").active=this.ndPreviousCheckpoint.active,this.ndNextCheckpoint.active=gLocalData.userInfo.currentCheckpoint+1<=gGameScene.Plane_Logic.getVirusSum(),this.node.getChildByName("gxia").active=this.ndNextCheckpoint.active},_getFontSizeByStr:function(t){return parseInt(t)/100<0?60:parseInt(t)/100>=1&&parseInt(t)/100<10?50:40}}),cc._RF.pop()},{}],PbFireDieGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"092dfjeVUZGAol+T3q13tpw","PbFireDieGroupCtl"),cc.Class({extends:cc.Component,properties:{ndBobm:cc.Node},onLoad:function(){},run:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.comNodePool.getNode(this.ndBobm);n.scale=e,n.x=t.x,n.y=t.y,n.parent=this.node,n.active=!0;var i=n.getComponent(cc.Animation);i.play(),i.on("finished",this.onFinished,this)},onFinished:function(){this.comNodePool.putNode(this.node.children[0])},init:function(t){var e=this;this._target=t,this.speed=800,this.comNodePool=this.addComponent("ComNodePool"),this.comNodePool.putNode(this.node.children[0]),_.times(100,function(){e.comNodePool.getNode(e.ndBobm)})},resetAll:function(){for(;this.node.children.length>0;)this.comNodePool.putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbFireSupportBullet:[function(t,e,n){"use strict";cc._RF.push(e,"a059duzmINKjLoIMQG92i4J","PbFireSupportBullet"),cc.Class({extends:cc.Component,properties:{xSpeed:cc.Integer,ySpeed:cc.Integer,hpDrop:cc.Integer,ndDie:cc.Node,ndBullet:cc.Node},onLoad:function(){},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEnabled=t,this.moveCtl&&this.moveCtl.setMoved(t)},init:function(t,e,n){this.oldHP=t,this.hpDrop=t,this.ySpeed=e,this.xSpeed=0,this.isEnabled=!0,this.xAxis=0,this.moveCtl||(this.moveCtl=this.addComponent("SubMove_Plane")),this.moveCtl.init(),this.moveCtl.setMoved(!0),this.bulletGroup=n,this.ndDie.active=!1,this.ndBullet.active=!0},dieAnimation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setIsEnabled(!1),this.ndBullet.active=!1,this.ndDie.active=!0;var e=this.ndDie.getComponent(cc.Animation);AudioMgr_Plane.gameFireSupportBulletDie(),e.play(),e.on("finished",t,this)},runAction:function(t){this.xAxis=t,this.oldX=this.node.x},showSP:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.node.getComponent(cc.Sprite).spriteFrame=t?this.sfblueBullet:""},onCollisionEnter:function(t,e){var n=this;"hero"!=t.node.name&&(this.oldHP=null,"ndAnimation"!=t.node.name&&this.dieAnimation(function(){n.bulletGroup.bulletDied(e.node,t.node,!0)}))},update:function(t){this.isEnabled&&(this.moveCtl.setSpeed(cc.v2(this.xSpeed,this.ySpeed)),this.node.y>this.node.parent.height&&(this.oldHP=null,this.bulletGroup.bulletDied(this.node,!1,!1)))}}),cc._RF.pop()},{}],PbFireSupportCtl:[function(t,e,n){"use strict";cc._RF.push(e,"7f17fLuikVLwYvlepRqKwmn","PbFireSupportCtl"),cc.Class({extends:cc.Component,properties:{ndBullet:cc.Node},init:function(t){this._target=t,this.ndBullet.active=!1,this.nodePool||(this.nodePool=this.addComponent("ComNodePool"))},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_.each(this.node.children,function(e){e.getComponent("PbFireSupportBullet").setIsEnabled(t)})},showFireSupportCtl:function(){var t=this;this.hideFireSupportCtl(),this.getNewbullet(),this.bICallback=function(){t.getNewbullet()},this.schedule(this.bICallback,.3)},hideFireSupportCtl:function(){this.bICallback&&this.unschedule(this.bICallback)},getNewbullet:function(){var t=this.nodePool.getNode(this.ndBullet);t.group=Constants.Group.groupPlaneWingmanBullet(),t.active=!0;var e=this.getBulletPostion();t.setPosition(e);var n=t.getComponent("PbFireSupportBullet");t.parent=this.node,n.init(10*this._target.bulletHPDrop,1e3,this)},getBulletPostion:function(){var t=cc.v2(0,0),e=-this.node.height/2-100,n=this.node.width/2-_.random(50,this.node.width-50);return t.x=n,t.y=e,t},bulletDied:function(t,e,n){if(!(t.group==Constants.Group.groupPlaneWingmanBullet()&&e&&e.getComponent("PbVirus").hP<=0)&&n&&e){this.nodePool.putNode(t);var i=e.getComponent("PbVirus"),o=t.getComponent("PbFireSupportBullet");i.bruise(o.hpDrop)}},resetAll:function(){for(this.hideFireSupportCtl();this.node.children.length>0;)this.nodePool.putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbFlamthrower:[function(t,e,n){"use strict";cc._RF.push(e,"f56b4SbXXREWJibSffUga4S","PbFlamthrower"),cc.Class({extends:cc.Component,properties:{},init:function(t){this._target=t;var e=.1+.4*(.5-gLocalData.userInfo.wingmanIntensity/100);this.frequency=e<.1?.1:e,this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.hpDrop=this.data.hpDrop,this.isCollision=!0,this.tempFrequency=0,this.node.group=Constants.Group.groupPlaneWingmanBullet();var n=2+gLocalData.userInfo.wingmanHPDrop/100;this.node.scaleY=n>3?3:n},start:function(){},onCollisionStay:function(t,e){if(t.node.group==Constants.Group.groupPlaneVirus()){var n=t.node.getComponent("PbVirus");n.hP>0&&this.isCollision&&(this.isCollision=!1,n.bruise(this.hpDrop),gGameScene._ctl.fireDieGroupCtl.run(cc.v2(t.world.position.x-gGameScene.node.width/2,t.world.position.y-gGameScene.node.height/2),.7*t.node.scale))}},update:function(t){this._target.isAttack&&(this.tempFrequency+=t,this.tempFrequency>=this.frequency&&(this.tempFrequency=0,this.isCollision=!0))}}),cc._RF.pop()},{}],PbGoldGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"81145bMmy5M3qW5vZN3vyVV","PbGoldGroupCtl"),cc.Class({extends:cc.Component,properties:{ndGold:cc.Node},onLoad:function(){},runActionGoldTime:function(t,e,n){var i=this,o=600,s=2*Math.PI/10;_.times(10,function(r){var a=s*(r+1);i.runAction(t,e,9==r?n:null,Math.cos(a)*o,Math.cos(a)*o,Math.sin(a)*o,Math.sin(a)*o)})},runActions:function(t,e,n,i){var o=this,s=300,r=2*Math.PI/t;_.times(t,function(a){var c=r*(a+1);t>3?o.runAction(e,n,i,Math.cos(c)*s,Math.cos(c)*s,Math.sin(c)*s,Math.sin(c)*s):o.runAction(e,n,i)})},runAction:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-100,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,s=this,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-100,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=this.comNodePool.getNode(this.ndGold);c.parent=this.node,c.active=!0,c.stopAllActions(),c.x=t.x,c.y=t.y;var l=cc.v2(t.x+_.random(i,o),t.y+_.random(r,a)),u=[];u.push(t),u.push(l),u.push(e);var h=cc.v2(e.x,e.y),d=t.sub(h).mag()/this.speed,p=cc.bezierTo(d,u),g=cc.callFunc(function(){s.comNodePool.putNode(c),AudioMgr_Plane.gameGold(),n&&n()}),f=cc.sequence(p,g);c.runAction(f)},init:function(t){var e=this;this._target=t,this.speed=1e3,this.comNodePool=this.addComponent("ComNodePool"),_.times(100,function(){e.comNodePool.getNode(e.ndGold)}),this.resetAll()},resetAll:function(){for(;this.node.children.length>0;)this.comNodePool.putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbLasser:[function(t,e,n){"use strict";cc._RF.push(e,"51e06awhUFMWIsEMHwVf2zK","PbLasser"),cc.Class({extends:cc.Component,properties:{},init:function(t){this._target=t,this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.hpDrop=this.data.hpDrop,this.isCollision=!0,this.node.group=Constants.Group.groupPlaneWingmanBullet();var e=2+gLocalData.userInfo.wingmanIntensity/100*4;this.node.scaleX=e>6?6:e},start:function(){},onCollisionEnter:function(t,e){if(t.node.group==Constants.Group.groupPlaneVirus()){var n=t.node.getComponent("PbVirus");cc.log("\u6fc0\u5149\u78b0\u649e\u5566"),n&&n.hP>0&&(n.bruise(this.hpDrop),gGameScene._ctl.bulletDieGroupCtl.run(t.node.getPosition()))}}}),cc._RF.pop()},{}],PbLightning:[function(t,e,n){"use strict";cc._RF.push(e,"6de36VsHblE1bKR1/RDxxpd","PbLightning"),cc.Class({extends:cc.Component,properties:{},init:function(t){this._target=t,this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.hpDrop=this.data.hpDrop,this.isCollision=!0;var e=.1+.2*(.3-gLocalData.userInfo.wingmanIntensity/100);this.frequency=e<.1?.1:e,this.tempFrequency=0},start:function(){},onCollisionEnter:function(t,e){if(t.node.group==Constants.Group.groupPlaneVirus()){var n=t.node.getComponent("PbVirus");cc.log("\u6fc0\u5149\u78b0\u649e\u5566"),n.hP>0&&n.bruise(this.hpDrop)}},update:function(t){if(this._target.isAttack){if(this.tempFrequency+=t,this.virus!=this._target.virus){if(this.virus=this._target.virus,!this.virus)return;this.virusCtl=this.virus.getComponent("PbVirus")}if(this.node.children.length>0&&(this.node.children[0].active=!!this.virus),this.virus){var e=this.virus.getPosition(),n=this._getEndPos(this.node),i=e.sub(n),o=i.mag(),s=-(Math.atan2(i.y,i.x)/Math.PI*180-90);this.node.height=o,this.node.rotation=s,this.scale=1/gGameScene._ui.ndPlane.scale,this.node.scale=this.scale,this.tempFrequency>=this.frequency&&(this.tempFrequency=0,this.virusCtl.hP>0&&(AudioMgr_Plane.gameLightning(),this.virusCtl.bruise(this.hpDrop)))}else this.node.height=0}},_getEndPos:function(t){var e=t,n=e.parent.convertToWorldSpaceAR(e.getPosition());return gGameScene._ctl.virusGroupCtl.node.convertToNodeSpaceAR(n)}}),cc._RF.pop()},{}],PbLoading:[function(t,e,n){"use strict";cc._RF.push(e,"a11edzRJuBDgZFz6uIKG/IN","PbLoading"),cc.Class({extends:cc.Component,properties:{bg:cc.Sprite,title:cc.Label},onLoad:function(){},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.seconds=t,this.msgMode=e}}),cc._RF.pop()},{}],PbPlane:[function(t,e,n){"use strict";cc._RF.push(e,"a50a5EqVDVLjakujGaBEmSb","PbPlane"),cc.Class({extends:t("ComTouchMaster"),properties:{ndGame:cc.Node,ndAnimation:{default:null,type:cc.Node,tooltip:"\u52a8\u753b\u8282\u70b9"},spHead:cc.Sprite,sfPlaneNormal:cc.SpriteFrame,sfPlaneDie:cc.SpriteFrame,ndFireHead:cc.Node,ndWingman:cc.Node,pbWingmans:{type:cc.Prefab,default:[]}},onLoad:function(){},init:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._target=t,e||this.hideFireHead(),this.ndGame.active=!0,this.ndAnimation.active=!1,this.speedX=30,this.speedY=30,this.bMoveX=0,this.bMoveY=0;var n=cc.find("Canvas").getComponent(cc.Canvas).node;return this._maxX=n.width/2,this._maxY=n.height/2,this.node.group=Constants.Group.groupPlaneHero(),this.node.x=0,this.node.y=-260,this.spHead.spriteFrame=this.sfPlaneNormal,this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.moveCtl||(this.moveCtl=this.addComponent("SubMove_Plane")),this.moveCtl.init(),this.moveCtl.setMoved(!0),this.speedCut=!1,this.moveArr=[],this.bufferTypes=[],this.showPlane2(!1),this.ndWingman&&0==this.ndWingman.children.length&&this.ndWingman.addChild(cc.instantiate(this.pbWingmans[gLocalData.userInfo.currentWingman])),this},addPlaneBufferType:function(t){this.bufferTypes.push(t)},removePlaneBufferType:function(t){var e=_.without(this.bufferTypes,t);this.bufferTypes=e},getPlaneBufferType:function(){return this.bufferTypes},setSpeedCut:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.speedCut!=t&&(this.speedCut=t)},updaytWingman:function(t){var e=this.ndWingman.children[0];e&&(e.destroy(),e.removeFromParent(!1)),this.ndWingman.addChild(cc.instantiate(this.pbWingmans[t]))},showPlane2:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},hidePlane2:function(){this.showPlane2(!1)},showPlane2Action:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},hidePlane2Action:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},showFireHead:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndFireHead.active!=t&&(this.ndFireHead.active=t),t?this._target.bulletGroupCtl.resumeAction(this.node):this._target.bulletGroupCtl.pauseAction(this.node);var e=this.getPlaneBufferType();_.find(e,function(t){return t==Constants.PlaneBuffType.FIRE_SUPPORT()})&&(t?this._target.fireSupportCtl.showFireSupportCtl():this._target.fireSupportCtl.hideFireSupportCtl())},hideFireHead:function(){this.showFireHead(!1)},update:function(){0==this.bMoveX&&0==this.bMoveY||(0!=this.bMoveX&&this.moveX(),0!=this.bMoveY&&this.moveY())},updateCb:function(t){},setPosition:function(t){var e=this;this.moveArr||(this.moveArr=[]),this.moveArr.push(function(){e.setPositionX(t.x),e.setPositionY(t.y)}),this.speedCut?this.checkMove(gGameScene.Plane_Logic.moveTime):this.checkMove(0)},checkMove:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2;if(this.moveArr.length>0){var n="checkMove"+_.random(999999)+"-"+_.random(999999);this._schedule.clear(n),this._schedule.once(n,function(){t.moveArr[0]&&(t.moveArr[0](),t.moveArr.splice(0,1))},e)}},getPositon:function(){return cc.v2(this.node.x,this.node.y)},setPositionX:function(t){t>this._maxX?this.node.x=this._maxX:t<-this._maxX?this.node.x=-this._maxX:this.node.x=t},setPositionY:function(t){t>this._maxY?this.node.y=this._maxY:t<-this._maxY?this.node.y=-this._maxY:this.node.y=t},moveX:function(){1==this.bMoveX?this.node.x+this.speedX>this._maxX?this.node.x=this._maxX:this.node.x+=this.speedX:-1==this.bMoveX&&(this.node.x-this.speedX<-this._maxX?this.node.x=-this._maxX:this.node.x-=this.speedX)},moveY:function(){1==this.bMoveY?this.node.y+this.speedY>this._maxY?this.node.y=this._maxY:this.node.y+=this.speedY:-1==this.bMoveY&&(this.node.y-this.speedY<-this._maxY?this.node.y=-this._maxY:this.node.y-=this.speedY)},setSpeed:function(t){this.setSpeedX(t),this.setSpeedY(t)},setSpeedX:function(t){this.speedX=t},setSpeedY:function(t){this.speedY=t},setMove:function(t){this.setMoveX(t),this.setMoveY(t)},setMoveX:function(t){this.bMoveX=t},setMoveY:function(t){this.bMoveY=t},runInvincibleAction:function(){this.stopInvincibleAction();var t=ActionHelper.getDirection(.1);t=cc.repeat(t,100),this.node.runAction(t)},stopInvincibleAction:function(){this.node.stopAllActions(),this.node.opacity=255},setInvincibleTime:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;this.invincible=!0,this.spHead.spriteFrame=this.sfPlaneNormal,this.runInvincibleAction(),this._schedule.once("setInvincibleTime",function(){t.invincible=!1,t.node.group=Constants.Group.groupPlaneHero(),t.stopInvincibleAction()},e)},winAction:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._target.speedUpGame(1),this.node.stopAllActions();var e=cc.delayTime(1),n=cc.moveTo(1,cc.v2(this.node.x,2e3)),i=cc.callFunc(function(){t&&t()}),o=cc.sequence(e,n.easing(cc.easeIn(1)),i);this.node.runAction(o)},onCollisionEnter:function(t,e){var n=this;t.node.group==Constants.Group.groupPlaneVirus()&&(this.invincible||(this.node.group="default",this.spHead.spriteFrame=this.sfPlaneDie,PlatformHelper.vibrateLong(),ActionHelper.shakeEffect(this._target._target._ui.ndGameBg,.5),this._target.gameOver(function(){n.ndGame.active=!1,n.ndAnimation.active=!0;var t=n.ndAnimation.getComponent(cc.Animation);t.play(),AudioMgr_Plane.gamePlaneDie(),t.on("finished",n.onFinished,n),GameMsgHandler.onHandleMsg(Constants.GameState.End())})))},onFinished:function(t){this.ndAnimation.active=!1}}),cc._RF.pop()},{ComTouchMaster:"ComTouchMaster"}],PbTailAfterBullet:[function(t,e,n){"use strict";cc._RF.push(e,"128271XP89C87t97A3fPPmA","PbTailAfterBullet"),cc.Class({extends:t("PbBullet"),properties:{},onLoad:function(){},init:function(t,e,n){this._super(t,0,n),this.setIsEnabled(!1),this.tailAfter||(this.tailAfter=this.addComponent("ComTailAfter")),this.tailAfter.init(e,!1,!0)},setTailAfterSpeed:function(t){this.tailAfter.setTailAfterSpeed(t)},setTailAfterByPos:function(t){this.tailAfter.setTailAfterByPos(t)}}),cc._RF.pop()},{PbBullet:"PbBullet"}],PbToast:[function(t,e,n){"use strict";cc._RF.push(e,"a11ebckNo1HlKcJqEmHMrQ6","PbToast"),cc.Class({extends:cc.Component,properties:{bg:cc.Sprite,title:cc.Label},onLoad:function(){},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.title.string=t,this.msgMode=e,this.node.y=.38*cc.director.getScene().getChildByName("Canvas").height*-.35,this._resizeBg(),this._show()},_resizeBg:function(){},_show:function(){var t=cc.moveBy(1.5,cc.p(0,80));t.easing(cc.easeExponentialOut(1));var e=cc.callFunc(this._removeSelf,this),n=cc.sequence(t,e);this.node.y-=80,this.node.runAction(n)},_removeSelf:function(){NPHelper.putNode("PbToast",this.node),0===this.msgMode&&MsgHelper.onMsgFinished()}}),cc._RF.pop()},{}],PbTopInfo:[function(t,e,n){"use strict";cc._RF.push(e,"a11f2b2+8BExaqrD9bPba6l","PbTopInfo"),cc.Class({extends:cc.Component,properties:{lbInfo:cc.Label,ndMask:cc.Node},onLoad:function(){},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.lbInfo.string=t,this.msgMode=e,this.node.y=.35*cc.director.getScene().getChildByName("Canvas").height,this.scheduleOnce(this._show,.1)},_show:function(){var t=this.lbInfo.node.width+this.ndMask.width,e=t/200,n=cc.moveBy(e,cc.p(-t,0)),i=cc.callFunc(this._removeSelf,this),o=cc.sequence(n,i);this.lbInfo.node.x=this.ndMask.width,this.lbInfo.node.runAction(o)},_removeSelf:function(){NPHelper.putNode("PbTopInfo",this.node),0===this.msgMode&&MsgHelper.onMsgFinished()}}),cc._RF.pop()},{}],PbTouchMask:[function(t,e,n){"use strict";cc._RF.push(e,"a1153jVz5lJ+5/D83blqXMX","PbTouchMask"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:255,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.maskType=t,this.callback=n,this.target=i,this.node.opacity=e},onButtonClicked:function(){},onEnable:function(){this.node.on("touchstart",this.onTouch,this)},onDisable:function(){this.node.off("touchstart",this.onTouch,this)},onTouch:function(t){switch(t.stopPropagation(),this.maskType){case 0:break;case 1:this.node.parent.removeFromParent();break;case 2:this.node.parent.active=!1;break;case 3:this.target&&this.callback.call(this.target)}}}),cc._RF.pop()},{}],PbTouchPlane:[function(t,e,n){"use strict";cc._RF.push(e,"0b410uRGnpIKqFcYNdSnv0E","PbTouchPlane"),cc.Class({extends:t("ComTouchMaster"),properties:{},onLoad:function(){},init:function(t){return this._target=t,this.isEnabled=!0,this.touchBeginPos=cc.v2(0,0),this.initTouch(t),this},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEnabled=t},onTouchBegin:function(t,e){this.isEnabled&&(UserHandler.getState()==Constants.GameState.Game()?this.canGame=!0:this.canGame=this._target._target._ui.canPlay(),this.canGame?(this.touchBeginPos=t,this.ndBeginPos=this._target.planeCtl.getPositon(),this._target.isTouched=!0,this._target.isEnabled=!0,this._target.virusGroupCtl.resumeAction(),this._target.planeCtl.showFireHead(),this._target.gameStart()):PlatformHelper.showToast("\u4f53\u529b\u4e0d\u8db3"))},onTouchMoved:function(t,e){if(this.isEnabled&&this.canGame){this._target.isTouched=!0;var n=cc.v2(this.ndBeginPos.x+t.x-this.touchBeginPos.x,this.ndBeginPos.y+t.y-this.touchBeginPos.y);this._target.planeCtl.setPosition(n),this._target._target._ui.hideMask()}},onTouchEnd:function(t,e){this.isEnabled&&this.canGame&&(this._target.isTouched=!1,this.touchBeginPos=cc.v2(0,0),this._target.isEnabled=!1,this._target.planeCtl.setMove(0),this._target.virusGroupCtl.pauseAction(),this._target.speedUpGame(.1),this._target._target._ui.showMask(),this._target.planeCtl.hideFireHead())},_setMove:function(t,e){var n=this._comparePos(t,e);this._target.planeCtl.setMoveX(n.x),this._target.planeCtl.setMoveY(n.y)},_comparePos:function(t,e){if(!t||!e)return null;var n={};return t.x-e.x>10?n.x=1:t.x-e.x<-10?n.x=-1:n.x=0,t.y-e.y>10?n.y=1:t.y-e.y<-10?n.y=-1:n.y=0,n}}),cc._RF.pop()},{ComTouchMaster:"ComTouchMaster"}],PbTreatmentGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"4bf1ajVoINGAqDO3KcYQQmF","PbTreatmentGroupCtl"),cc.Class({extends:cc.Component,properties:{ndTreatment:cc.Node},onLoad:function(){},run:function(t){var e=this;_.times(2,function(n){e._comScheduler.once("ndTreatment",function(){var n=e.comNodePool.getNode(e.ndTreatment);n.x=t.x,n.y=t.y,n.parent=e.node,n.active=!0,n.opacity=100;n.scale=.5;var i=cc.moveBy(1,cc.v2(0,100)),o=cc.fadeTo(.5,255),s=cc.fadeTo(.5,100),r=cc.scaleTo(.5,1),a=cc.scaleTo(.5,.5),c=cc.sequence(o,s),l=cc.sequence(r,a),u=cc.spawn(i,c,l),h=cc.callFunc(function(){e.comNodePool.putNode(n)}),d=cc.sequence(u,h);n.stopAllActions(),n.runAction(d)},.3*n)})},onFinished:function(){this.comNodePool.putNode(this.node.children[0])},init:function(t){var e=this;this._target=t,this.speed=800,this.comNodePool=this.addComponent("ComNodePool"),this._comScheduler||(this._comScheduler=this.addComponent("ComScheduler")),this.comNodePool.putNode(this.node.children[0]),_.times(10,function(){e.comNodePool.getNode(e.ndTreatment)})},resetAll:function(){for(;this.node.children.length>0;)this.comNodePool.putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbUAV:[function(t,e,n){"use strict";cc._RF.push(e,"0a3b9+Cb5tK2LFyKi1RZ89h","PbUAV"),cc.Class({extends:cc.Component,properties:{ndBullet:cc.Node,ndFireHead:cc.Node},init:function(t,e){this._target=t,this.index=e,this.hpDrop=gGameScene.Plane_Logic.getCurrentWingmanData().hpDrop,this.isCollision=!0,this.blueBallPool||(this.blueBallPool=this.addComponent("ComNodePool")),this.tailAfter||(this.tailAfter=this.addComponent("ComTailAfter")),this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.speed=1e3,this.tailAfter.init(this.speed,!0,!0);var n=.1+.4*(1-gLocalData.userInfo.wingmanIntensity/100);this.bulletTime=n<.1?.1:n,this.tempBulletTime=0,this.isRecharge=!1,this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.fireTime=this.data.fireTime,this.tempFireTime=0,this.isAttack=!1,this.isBack=!1,this.ndFireHead.opacity=0},start:function(){},onCollisionEnter:function(t,e){if(t.node.group==Constants.Group.groupPlaneVirus()){var n=t.node.getComponent("PbVirus");cc.log("\u6fc0\u5149\u78b0\u649e\u5566"),n.hP>0&&n.bruise(this.hpDrop)}},attack:function(){var t=this;this.tempFireTime=0,_.each(this.node.getChildByName("electricity").children,function(t){t.active=!0}),this.node.scale=.5;var e=cc.scaleTo(.3,.6),n=cc.moveBy(.2,cc.v2(this.index<=2?-100:100,-100)),i=cc.callFunc(function(){t.isAttack=!0}),o=cc.sequence(e,n,i);this.node.stopAllActions(),this.node.runAction(o)},update:function(t){var e=this;if(this._target&&this.isAttack){if(this.virus!=this._target.virus){if(this.virus=this._target.virus,this.end=!1,!this.virus)return;this.virusCtl=this.virus.getComponent("PbVirus")}if(this.virus&&this.virus.parent){var n=this.virus.getPosition(),i=this._getConvertPos(this.virus),o=n.sub(i),s=(o.mag(),-(Math.atan2(o.y,o.x)/Math.PI*180-90));this.end?(this.node.setPosition(i),this.node.rotation=s,this.tempBulletTime+=t,this.tempBulletTime>=this.bulletTime&&(this.tempBulletTime=0,this.fire(i,n),cc.log(this.tempBulletTime>this.bulletTime/3,this.tempBulletTime,this.bulletTime/3),this.tempFireTime>this.fireTime/3&&(this.node.getChildByName("electricity").getChildByName("1").active=!1),this.tempFireTime>2*this.fireTime/3&&(this.node.getChildByName("electricity").getChildByName("2").active=!1)),this.tempFireTime+=t,this.tempFireTime>=this.fireTime&&(this.node.getChildByName("electricity").getChildByName("3").active=!1,this.isBack=!0,this.isAttack=!1)):(this.tailAfter.setTailAfterByPos(i,function(){e.end=!0}),this.tailAfter.updateCb(t))}else this.virus||this.turnBack()}else this._target&&this.isBack&&this.turnBack()},turnBack:function(){var t=this,e=gGameScene._ctl.planeCtl.node.getPosition();this.tailAfter.setTailAfterByPos(e,function(){t.node.rotation=0,t.node.active=!1,t.isBack=!1,t._target["ndUAV"+t.index].active=!0,t._target.rechargeByIndex(t.index)})},recharge:function(){},fire:function(t,e){var n=this,i=cc.fadeIn(.2),o=cc.fadeOut(.1),s=cc.sequence(i,o);this.ndFireHead.stopAllActions(),this.ndFireHead.runAction(s);var r=this.blueBallPool.getNode(this.ndBullet);r.group=Constants.Group.groupPlaneBullet();var a=r.getComponent("PbBullet");a.init(this.hpDrop,0,this,!1),a.changeFirepower(!1),r.rotation=this.node.rotation,r.parent=this.node.parent,r.active=!0,r.setPosition(t);var c=cc.moveTo(.1,e),l=cc.callFunc(function(){n.blueBallPool.putNode(r),n.virusCtl.hP>0&&n.virusCtl.bruise(n.hpDrop)}),u=cc.sequence(c,l);r.stopAllActions(),r.runAction(u)},_getWorldPos:function(t){var e=t,n=e.parent.convertToWorldSpaceAR(e.getPosition());return gGameScene._ctl.virusGroupCtl.node.convertToNodeSpaceAR(n)},_getConvertPos:function(t){var e=t,n=e.parent.convertToWorldSpaceAR(e.getPosition()),i=this.node.parent.convertToNodeSpaceAR(n),o=this.index>2?150:-150,s=this.index%2==0?150:-150;return i=cc.v2(i.x+o,i.y+s)},bulletDied:function(t,e){t.group==Constants.Group.groupPlaneVirus()&&t.getComponent("PbVirus").hP<=0||(t.stopAllActions(),this.blueBallPool.putNode(t))},resetAll:function(){this.tempFireTime=0,this.isAttack=!1,this.isBack=!1,this.node.active=!1}}),cc._RF.pop()},{}],PbUpgradeActionGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"2bf4eveEh1A7rursUiP7p6Z","PbUpgradeActionGroupCtl"),cc.Class({extends:cc.Component,properties:{ndBobm:cc.Node},onLoad:function(){},run:function(t){var e=this.comNodePool.getNode(this.ndBobm);e.x=t.x,e.y=t.y,e.parent=this.node,e.active=!0;var n=e.getComponent(cc.Animation);n.play(),n.on("finished",this.onFinished,this)},onFinished:function(){this.comNodePool.putNode(this.node.children[0])},init:function(t){var e=this;this._target=t,this.speed=800,this.comNodePool=this.addComponent("ComNodePool"),this.comNodePool.putNode(this.node.children[0]),_.times(2,function(){e.comNodePool.getNode(e.ndBobm)})},resetAll:function(){for(;this.node.children.length>0;)this.comNodePool.putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbVirusActionAndSkills:[function(t,e,n){"use strict";cc._RF.push(e,"f5701ujh5xBapxCcd2uFUWa","PbVirusActionAndSkills"),cc.Class({extends:cc.Component,properties:{ndVirusBg:cc.Node},onLoad:function(){this.pbVirus=this.getComponent("PbVirus"),this.ndActionList=[]},update:function(){this.split(),this.pbVirus._target._target.isTouched},updateColors:function(){},split:function(t){var e=this;if(this.pbVirus.hP<=0&&"default"==this.node.group){if(this.pbVirus.splitNum>0){var n=parseInt(this.pbVirus.initHP/2)>0?parseInt(this.pbVirus.initHP/2):1,i=_.random(1,n),o=this.pbVirus.oldScale-.3>=gGameScene.Plane_Logic.scaleMin?this.pbVirus.oldScale-.3:gGameScene.Plane_Logic.scaleMin,s=this.pbVirus.splitNum-1;_.times(this.pbVirus.num,function(){var t=_.random(5,20),n=_.random(5,20);_.random(0,1)?e.pbVirus._target.split(e.node,i,o,cc.v2(e.node.x-t,e.node.y-n),0*e.pbVirus.xSpeed,0*e.pbVirus.ySpeed,s,e.pbVirus.num):e.pbVirus._target.split(e.node,i,o,cc.v2(e.node.x+t,e.node.y+n),0*-e.pbVirus.xSpeed,0*e.pbVirus.ySpeed,s,e.pbVirus.num)})}t&&t(),this.pbVirus.hP=this.pbVirus.initHP}},rotationActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=cc.rotateBy(n,e?360:-360),o=cc.repeat(i,100);this._runAction(t,o)},_runAction:function(t,e){this.ndActionList.push(t),t.stopAllActions(),t.runAction(e)},pauseAction:function(){_.each(this.ndActionList,function(t){t.stopAllActions()})},resumeAction:function(){}}),cc._RF.pop()},{}],PbVirusGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"703caNdSJBMG5jxYvPFwWvP","PbVirusGroupCtl");var i=cc.Class({name:"virus",properties:{name:"",freqTime:0,initPollCount:0,prefab:cc.Prefab}});cc.Class({extends:cc.Component,properties:function(){return{virus:{default:[],type:i}}},onLoad:function(){},init:function(t){var e=this;this._target=t,_.each(this.virus,function(t,n){e[t.prefab.name+"_Pool"]=e.addComponent("ComNodePool"),_.times(t.initPollCount,function(){e[t.prefab.name+"_Pool"].getNode(t.prefab)})}),this.isFillOut=!1,this.isSpeedCut=!1,this.isSpeedUp=!1,this.state={FIRST:0,SECOND:1,THIRD:2},this.currentState=this.state.FIRST,_.each(this.state,function(t){e["createState"+t]=!1}),this.temp=0},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_.each(this.node.children,function(e){e.getComponent("PbVirus").setIsEnabled(t)})},startAction:function(){},_createVirus:function(){var t=this;if(!this["createState"+this.currentState]){this._schedule||(this._schedule=this.addComponent("ComScheduler"));var e=this.virusArr[this.currentState],n=e.arr,i=e.isBig,o=(e.isALotOf,e.isBoss),s=4/_.size(n)>.01?4/_.size(n):.01;_.each(n,function(e,n){var r=_.random(999999)+"_createVirus"+_.random(999999);t._schedule.once(r,function(){t["createState"+t.currentState]||(t["createState"+t.currentState]=!0);var n=t.virus[e.virus].prefab,s=e.hp,r=e.scale;o&&(r=i?2*r:r),t.temp++,t.getNewEnemy(n,s,r,null,null,null,e.splitNum,e.num)},s*n)})}},resumeAction:function(){1==this._target.currentGameType?(this.virusArr||(this.virusArr=gGameScene.Plane_Logic.getThreeVirusByCheckpoint(gLocalData.userInfo.currentCheckpoint,gLocalData.userInfo.currentCheckpoint%50==0)),this._createVirus()):(this.pauseAction(),this.scheduleFunc=function(){var t=this.getScore();if(!(this.node.children.length>10)){gGameScene.Plane_Logic.getVirusMold(t);11;var e=this.virus[11].prefab;this.getNewEnemy(e)}},this.time=.5,this.schedule(this.scheduleFunc,this.time))},pauseAction:function(){1==this._target.currentGameType||this.scheduleFunc&&this.unschedule(this.scheduleFunc)},split:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;this.getNewEnemy(t,e,n,i,o,s,r,a)},getNewEnemy:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;this["stateArr"+this.currentState]||(this["stateArr"+this.currentState]=0),this["stateArr"+this.currentState]++;var c=this[""+(t.name+"_Pool")].getNode(t),l=this.getNewEnemyPositon(c);c.group=Constants.Group.groupPlaneVirus();var u=gGameScene.Plane_Logic.getVirusScale();c.scale=u;var h=gGameScene.Plane_Logic.scaleMin;n&&(c.scale=(n>=h?n:h)+(this.isFillOut?.2:0)),c.setPosition(l),i&&c.setPosition(i),c.parent=this.node;var d=c.getComponent("PbVirus").init(this),p=gLocalData.userInfo.currentCheckpoint/500*500;p=(p=p>500?500:p)<100?100:p,d.xMaxSpeed=p/3,d.xMinSpeed=-p/3,d.yMaxSpeed=-p/2,d.yMinSpeed=-p,d.xSpeed=(d.xMaxSpeed-d.xMinSpeed)*(1.5-c.scale)+d.xMinSpeed,d.ySpeed=(d.yMaxSpeed-d.yMinSpeed)*(1.5-c.scale)+d.yMinSpeed,o&&(d.xSpeed=o),s&&(d.ySpeed=s);var g=this.getScore();d.hP=gGameScene.Plane_Logic.getVirusHp(g),e&&(d.hP=e),d.hP,d.initHP=d.hP,d.score=gGameScene.Plane_Logic.getVirusScore(g),d.lbHp.string=StringHelper.getValueEnglish(d.hP),this._target._target._ui.addScore(1),d.setSpeedCut(this.isSpeedCut),d.setSpeedUp(this.isSpeedUp);var f=0;_.isNull(r)?c.scale>.6&&(f=1):f=r,d.setSplitNum(f,a)},setSpeedCut:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSpeedCut!=t&&(this.isSpeedCut=t),_.each(this.node.children,function(e){e.getComponent("PbVirus").setSpeedCut(t)})},setSpeedUp:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSpeedUp!=t&&(this.isSpeedUp=t),_.each(this.node.children,function(e){e.getComponent("PbVirus").setSpeedUp(t)})},virusFillOut:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isFillOut!=t&&(this.isFillOut=t),_.each(this.node.children,function(e){e.getComponent("PbVirus").virusFillOut(t)})},getNewEnemyPositon:function(t){var e=Math.random()*(this.node.width-t.width*t.scale*2)-this.node.width/2+t.width/2,n=this.node.height/2+t.height/2;return cc.v2(e,n)},enemyDied:function(t,e){var n=this,i=t.scale>1?1:t.scale,o=parseInt(10*i);if(this[t.name+"_Pool"].putNode(t),parseInt(e)>0){var s=_.random(1,100);s>=95&&this._target.buffGroupCtl.getBuffer(cc.v2(t.x,t.y)),1==this._target.currentGameType?AudioMgr_Plane.gameVirusDie():this._target._target._ui.addScore(o);var r=gGameScene._ctl.planeCtl.getPlaneBufferType(),a=_.find(r,function(t){return t==Constants.PlaneBuffType.HAND_OF_MIDAS()});if(s>60||a){var c=_.random(1,3),l=this._target._target._ui.getGoldCurrentPos();a&&(c=10),this._target.goldGroupCtl.runActions(c,cc.v2(t.x,t.y),l,function(){var t=n._target.goldValue;n._target._target._ui.addGoldCurrent(t)})}}},getScore:function(){return this._target._target._ui.getScore()},update:function(t){var e=this;if(this["createState"+this.currentState]){this.updatePercentAndBar();var n=0;if(this.virusArr&&(_.each(this.virusArr[this.currentState].arr,function(t){n+=(1-Math.pow(t.num,t.splitNum+1))/(1-t.num)}),this.node.children.length+n-this["stateArr"+this.currentState]<=(2==this.currentState?0:2))){if(this.currentState++,this.currentState>this.state.THIRD)return this.resetState(),this._target.touchCtl.setIsEnabled(!1),void this._target.planeCtl.winAction(function(){e._target.resurgenceNum=0,cc.log("over------------------"),e._target.gameOver(function(){e._target._target._ui.addVigor(5),gLocalData.userInfo.currentCheckpoint<gGameScene.Plane_Logic.getVirusSum()&&gLocalData.userInfo.currentCheckpoint++,DataHelper.saveAllData(),GameMsgHandler.onHandleMsg(Constants.GameState.End())})});this._createVirus()}}},updatePercentAndBar:function(){var t,e=this,n=0,i=0;if(this.virusArr&&!(_.size(this.virusArr)<=0)){_.each(this.virusArr[this.currentState].arr,function(t){i+=(1-Math.pow(t.num,t.splitNum+1))/(1-t.num)});var o=[.33,.33,.34];_.times(3,function(t){t>e.currentState&&(n+=o[t])}),t=n+=o[this.currentState]*((this.node.children.length+i-this["stateArr"+this.currentState])/i),this._target._target._ui.updatePercentAndBar(t)}},resetState:function(){var t=this;this.currentState=this.state.FIRST,this.stateArr0=0,this.stateArr1=0,this.stateArr2=0,_.each(this.state,function(e){t["createState"+e]=!1})},resetAll:function(){for(this.resetState(),this.virusArr=null,this.pauseAction(),this._schedule.clearAll();this.node.children.length>0;)this[this.node.children[0].name+"_Pool"].putNode(this.node.children[0])}}),cc._RF.pop()},{}],PbVirusSkillsBOBM:[function(t,e,n){"use strict";cc._RF.push(e,"c86d83hprpJK6XrqZbhnjxO","PbVirusSkillsBOBM"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndAction2:cc.Node,ndAction3:cc.Node,ndAnimationCillider:cc.Node},onLoad:function(){var t=this;this._super(),this.ndAnimationCillider.group="default",this._comScheduler||(this._comScheduler=this.addComponent("ComScheduler")),this.ndActionList=[],_.times(3,function(e){t.ndActionList.push(t["ndAction"+(e+1)])}),this._randomScaleXAndRotation(),_.each(this.ndActionList,function(e,n){t._comScheduler.once("virusBobm",function(){t.scaleAction(e)},.1*n)})},_randomScaleXAndRotation:function(){this._rotations=[],_.each(this.ndActionList,function(t){t.scaleX=.8})},scaleAction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=.1*_.random(7,10),i=this.node.scaleY,o=cc.scaleTo(e,this.node.scaleX,n),s=cc.scaleTo(e,this.node.scaleX,i),r=cc.sequence(o,s);r=cc.repeat(r,100),this._runAction(t,r)},update:function(){var t=this;this.split(function(){t.ndAnimationCillider.group=Constants.Group.groupPlaneVirus(),t._comScheduler.once("PbVirusSkillsBOBOM",function(){t.ndAnimationCillider.group="default"},1)})},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsCOLLISION:[function(t,e,n){"use strict";cc._RF.push(e,"14c46gD28VE8bopjYcali8v","PbVirusSkillsCOLLISION"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndAction2:cc.Node},onLoad:function(){this._super(),this.ndAction1.rotation=0,this.ndAction1.rotation=68,this.rotationActions(this.ndAction1,!1,10),this.rotationActions(this.ndAction2,!0,10)},update:function(){this._super(),this.pbVirus.getCollisionV()||this.pbVirus.setCollisionV(!0)},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsCURE_SELF:[function(t,e,n){"use strict";cc._RF.push(e,"68915FmeVpO879SnHjNItCM","PbVirusSkillsCURE_SELF"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndParent:cc.Node,ndAction1:cc.Node,ndAction2:cc.Node,ndAction3:cc.Node},onLoad:function(){var t=this;this._super(),this.ndAction1.rotation=0,this.ndAction1.rotation=68,this.rotationActions(this.ndParent,!1,10),this._runAction2(this.ndAction1,!1,5),this._runAction2(this.ndAction2,!1,5),this._runAction2(this.ndAction3,!1,5),this.time=2,this.schedule(function(){t.pbVirus.treatment()},this.time)},_runAction2:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=cc.scaleTo(e,.5),i=cc.scaleTo(e,1),o=cc.sequence(n,i),s=cc.repeat(o,100);this._runAction(t,s)},update:function(){this._super()},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsCURE:[function(t,e,n){"use strict";cc._RF.push(e,"fab94v091hJH5+NuKK4j0hT","PbVirusSkillsCURE"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndLine:cc.Node},onLoad:function(){this._super(),this._comScheduler||(this._comScheduler=this.addComponent("ComScheduler")),this.ndActionList=[],this.rotationActions(this.ndAction1,!0,10)},scaleAction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(this.node.scaleY,cc.scaleBy(e,1.2)),i=cc.scaleBy(e,1/1.2),o=cc.sequence(n,i);o=cc.repeat(o,100),this._runAction(t,o)},update:function(t){var e=this;this._super();var n=_.filter(this.pbVirus.node.parent.children,function(t){var n=e.node.getPosition(),i=t.getPosition(),o=n.sub(i).mag();return o<200&&o>1});n&&n.length>0?(this.ndLine.active=!0,_.each(n,function(n,i){if(!(i>0)){e.node.x,n.x,e.node.y,n.y;var o=e.node.getPosition(),s=n.getPosition().sub(o),r=Math.atan2(s.y,s.x),a=(Math.cos(r),e.speed,Math.sin(r),e.speed,-r/Math.PI*180),c=s.mag();e._setSacle(1/e.pbVirus.node.scale),e._setWidth(c),e._setRotation(a),e.indexDt||(e.indexDt=0),e.indexDt+=t,e.indexDt>1&&(e.indexDt=0,n.getComponent("PbVirus").treatment())}})):this.ndLine.active=!1},_setRotation:function(t){this.ndLine.rotation=t},_setWidth:function(t){this.ndLine.width=t},_setSacle:function(t){this.ndLine.scale=t},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsFillOut:[function(t,e,n){"use strict";cc._RF.push(e,"c18e4LS2JtEj5MN7jMOvgvX","PbVirusSkillsFillOut"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndAction2:cc.Node,ndAction3:cc.Node},onLoad:function(){var t=this;this._super(),this.speedUp=!0,this.speedY=0,this.speedX=0,this.speed=_.random(2,4),this.time=_.random(2,4),this.oldScale=this.node.scale,this.newScale=this.oldScale*(.1*_.random(1,10)+1),this.schedule(function(){t.pbVirus.isAnimate&&t._runAction2()},this.time),this.rotationActions(this.ndAction1,!0,1),this.rotationActions(this.ndAction2,!1,1),this.rotationActions(this.ndAction3,!0,.5)},_runAction2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.node.stopAllActions(),this.node.scale=this.oldScale;var e=cc.scaleTo(t,this.newScale),n=cc.scaleTo(t,this.oldScale),i=cc.sequence(e,n);this.node.runAction(i)},rotationActions:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=cc.scaleTo(e,.6),i=cc.scaleTo(e,.8),o=cc.sequence(n,i),s=cc.repeat(o,100);this._runAction(t,s)},update:function(){this._super()},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsGIVE_BIRTH_TO_1:[function(t,e,n){"use strict";cc._RF.push(e,"8ab96D11iZNoYGnxsoAZNFi","PbVirusSkillsGIVE_BIRTH_TO_1"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndActionParent:cc.Node,ndAction1:cc.Node,ndAction2:cc.Node,ndAction3:cc.Node},onLoad:function(){var t=this;this._super(),this.speed=100,this.speed=this.speed/50,this.time=_.random(6,20),this.speedUp=!0,this.schedule(function(){t.speedUp?(t._runAction2(t.ndAction1,!0,.5),t.speedY=t.speed,t.speedX=t.speed):(t._runAction2(t.ndAction1,!0,5),t.speedY=-t.speed,t.speedX=-t.speed),t.speedUp=!t.speedUp},this.time),this._runAction2(this.ndAction1,!0,5),this.rotationActions(this.ndAction2,!0,2),this.rotationActions(this.ndAction3,!0,2),this.pos1=cc.v2(0,0),this.pos2=cc.v2(0,0),this.pos3=cc.v2(0,0),this._comScheduler||(this._comScheduler=this.addComponent("ComScheduler")),this.moveTime=1},rotationActions:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=cc.scaleTo(e,.6),i=cc.scaleTo(e,.8),o=cc.sequence(n,i),s=cc.repeat(o,100);this._runAction(t,s)},_runAction2:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=cc.scaleTo(e,.5),i=cc.scaleTo(e,1),o=cc.sequence(n,i),s=cc.repeat(o,100);this._runAction(t,s)},update:function(t){this._super();var e=this.pbVirus.speedY?this.pbVirus.speedY:0,n=this.pbVirus.speedX?this.pbVirus.speedX:0;!this.speedUp&&this.pbVirus.splitNum>0&&(n=this.pbVirus.speedX?this.pbVirus.speedX+(this.pbVirus.speedX*this.speedX>0?this.speedX:-this.speedX):0);var i=-Math.atan2(e,n)/Math.PI*180-90;this.ndActionParent.rotation=i,this.pbVirus._target._target.isTouched&&(this.pbVirus.isCollision||!this.speedUp&&this.pbVirus.splitNum>0&&(this.pbVirus.setInvincible(!0),this.node.x+=this.pbVirus.speedX*this.speedX>0?this.speedX:-this.speedX,this.isSplit||(this.isSplit=0),0==this.isSplit&&this._split2(),this.isSplit+=t,this.isSplit>=this.moveTime&&(this.pbVirus.setInvincible(!1),this.isSplit=0)))},_split2:function(t,e,n){var i=this;if(this.pbVirus.hP>0&&"default"!=this.node.group&&this.pbVirus.splitNum>0){var o=parseInt(this.pbVirus.initHP/3)>0?parseInt(this.pbVirus.initHP/3):1,s=_.random(1,o),r=this.pbVirus.oldScale-.3>=gGameScene.Plane_Logic.scaleMin?this.pbVirus.oldScale-.3:gGameScene.Plane_Logic.scaleMin,a=-1,c=this.pbVirus.splitNum-1;this.pbVirus.splitNum=0,_.times(this.pbVirus.num,function(t){i._comScheduler.once(_.random(9999)+"_split2",function(){var e=-10*t;a=-100*t,i.pbVirus._target.split(i.node,s,r,cc.v2(i.node.x+e,i.node.y+a),1*-i.pbVirus.xSpeed,1.2*i.pbVirus.ySpeed,c,i.pbVirus.num),t==i.pbVirus.num-1&&i.pbVirus.setInvincible(!1)},t*(i.moveTime/i.pbVirus.num))})}},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsGIVE_BIRTH_TO_2:[function(t,e,n){"use strict";cc._RF.push(e,"bf948s2BmVB9ogF+yO3/Wra","PbVirusSkillsGIVE_BIRTH_TO_2"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndAction2:cc.Node},onLoad:function(){var t=this;this._super(),this.ndAction1.rotation=0,this.ndAction1.rotation=68,this.rotationActions(this.ndAction1,!1,10),this.rotationActions(this.ndAction2,!0,10),this.speed=_.random(1,20),this.speed=this.speed/100,this.time=4,this.speedUp=!0,this.schedule(function(){t.speedUp?(t._runAction2(),t.speedY=t.speed,t.speedX=t.speed):t._runAction2(),t.speedUp=!t.speedUp},this.time)},_runAction2:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},update:function(t){this._super(),this.pbVirus._target._target.isTouched&&(this.pbVirus.isCollision||this.speedUp||(this.node.x+=this.pbVirus.speedX*this.speedX>0?this.speedX:-this.speedX,this.isSplit||(this.isSplit=0),this.isSplit+=t,this.isSplit>=3&&(this._split2(3),this.isSplit=0)))},_split2:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsSpeedUp:[function(t,e,n){"use strict";cc._RF.push(e,"3ab28VMqgNARKnsCGAGAm+/","PbVirusSkillsSpeedUp"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndMouth:cc.Node},onLoad:function(){var t=this;this._super(),this.speedUp=!0,this.speedY=0,this.speedX=0,this.speed=_.random(1,100),this.speed=this.speed/100,this.time=_.random(1,3),this.schedule(function(){t.speedUp?(t.rotationActions(t.ndAction1,!0,.1),t.speedY=t.speed,t.speedX=t.speed):(t.rotationActions(t.ndAction1,!0,2),t.speedY=-t.speed,t.speedX=-t.speed),t.speedUp=!t.speedUp},this.time),this.rotationActions(this.ndAction1,!0,8)},rotationActions:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=cc.scaleTo(e,.6),i=cc.scaleTo(e,.8),o=cc.sequence(n,i),s=cc.repeat(o,100);this._runAction(t,s)},update:function(){this._super(),this.pbVirus._target._target.isTouched&&(this.pbVirus.isCollision||this.speedUp||(this.node.y+=this.pbVirus.speedY*this.speedY>0?this.speedY:-this.speedY,this.node.x+=this.pbVirus.speedX*this.speedX>0?this.speedX:-this.speedX))},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsSplit:[function(t,e,n){"use strict";cc._RF.push(e,"14bcfRCQDxLbIvqFSD68OQb","PbVirusSkillsSplit"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{},onLoad:function(){this._super()},update:function(){this._super()},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirusSkillsTAIL_AFTER:[function(t,e,n){"use strict";cc._RF.push(e,"10674UoYRdHFZT47WmIf/s0","PbVirusSkillsTAIL_AFTER"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node},onLoad:function(){var t=this;this._super(),this._comScheduler||(this._comScheduler=this.addComponent("ComScheduler")),this.tailAfter||(this.tailAfter=this.addComponent("ComTailAfter")),this.speed=80,this.tailAfter.init(this.speed,!1,!0),this.isTailAfter=!1,this.time=2,this.schedule(function(){t.isTailAfter=!t.isTailAfter;var e=0;e=t.pbVirus._target._target.isTouched&&t.speed?t.speed:0;var n=gGameScene._ctl.planeCtl.getPositon();if(t.isTailAfter){if(n.y>t.node.y)return;t.tailAfter.setTailAfterSpeed(e),t.tailAfter.setTailAfterByPos(n),t.rotationActions(t.ndAction1,!0,1)}else t.tailAfter.setTailAfterSpeed(0),t.tailAfter.setTailAfterByPos(n),t.rotationActions(t.ndAction1,!0,10)},this.time),this.rotationActions(this.ndAction1,!0,10)},update:function(){this._super();var t=0;t=this.pbVirus._target._target.isTouched&&this.speed?this.speed:0;var e=gGameScene._ctl.planeCtl.getPositon();if(this.isTailAfter){if(e.y>this.node.y)return;this.tailAfter.setTailAfterSpeed(t),this.tailAfter.setTailAfterByPos(e)}else this.tailAfter.setTailAfterSpeed(0),this.tailAfter.setTailAfterByPos(e)}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirus_INVINCIBLE:[function(t,e,n){"use strict";cc._RF.push(e,"a22ddPt8F1NEq+zyFH2OIOY","PbVirus_INVINCIBLE"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndAction2:cc.Node,ndInvincible:cc.Node,ndEye:cc.Node,spEye:cc.SpriteFrame},onLoad:function(){var t=this;this._super(),this.ndAction1.rotation=0,this.ndAction1.rotation=68,this.rotationActions(this.ndAction1,!1,10),this.rotationActions(this.ndAction2,!0,10),this.time=6,this.hideInvincible(),this.schedule(function(){t.showInvincible(),t.pbVirus.setInvincible(!0)},this.time)},update:function(t){this._super(),this.isSplit||(this.isSplit=0),this.isSplit+=t,this.isSplit>=3&&(this.hideInvincible(),this.pbVirus.setInvincible(!1),this.isSplit=0)},showInvincible:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndInvincible.active=t,this.ndAction1.active=!t,this.ndAction2.active=!t;var e=this.ndEye.getComponent(cc.Animation);t?(this.ndEye.getChildByName("close").active=!0,this.ndEye.getChildByName("open").active=!1,e.stop()):e.play()},hideInvincible:function(){this.showInvincible(!1)},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirus_SPEED_CUT_OTHER:[function(t,e,n){"use strict";cc._RF.push(e,"ac0feQXWAhCgImvulUuIv4g","PbVirus_SPEED_CUT_OTHER"),cc.Class({extends:t("PbVirusActionAndSkills"),properties:{ndAction1:cc.Node,ndLine:cc.Node},onLoad:function(){this._super(),this._comScheduler||(this._comScheduler=this.addComponent("ComScheduler")),this.ndLine.active=!1,this.rotationActions(this.ndAction1,!0,10)},scaleAction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(this.node.scaleY,cc.scaleBy(e,1.2)),i=cc.scaleBy(e,1/1.2),o=cc.sequence(n,i);o=cc.repeat(o,100),this._runAction(t,o)},update:function(t){this._super();var e=gGameScene._ctl.planeCtl,n=e.getPositon();if(this.node.getPosition().sub(n).mag()<500){this.ndLine.active=!0;var i=this.node.getPosition(),o=n.sub(i),s=-Math.atan2(o.y,o.x)/Math.PI*180+90,r=o.mag();this._setSacle(1/this.pbVirus.node.scale),this._setWidth(r),this._setRotation(s),e.setSpeedCut(!0)}else{this.ndLine.active=!1;var a=e.getPlaneBufferType();_.find(a,function(t){return t==Constants.PlaneBuffType.SPEED_CUT_FOR_PLANE()})||e.setSpeedCut(!1)}},_setRotation:function(t){this.ndLine.rotation=t},_setWidth:function(t){this.ndLine.height=t},_setSacle:function(t){this.ndLine.scale=t},init:function(t){}}),cc._RF.pop()},{PbVirusActionAndSkills:"PbVirusActionAndSkills"}],PbVirus:[function(t,e,n){"use strict";cc._RF.push(e,"14abee9CoxCobWl/nmeEUv8","PbVirus");var i=t("Constants"),o=cc.Enum({SPLIT:i.VirusSkillsType.SPLIT(),SPEED_UP_SELF:i.VirusSkillsType.SPEED_UP_SELF(),SPEED_CUT_OTHER:i.VirusSkillsType.SPEED_CUT_OTHER(),FILL_OUT_SELF:i.VirusSkillsType.FILL_OUT_SELF(),TAIL_AFTER:i.VirusSkillsType.TAIL_AFTER(),BOBM:i.VirusSkillsType.BOBM(),CURE:i.VirusSkillsType.CURE(),GIVE_BIRTH_TO_1:i.VirusSkillsType.GIVE_BIRTH_TO_1(),GIVE_BIRTH_TO_2:i.VirusSkillsType.GIVE_BIRTH_TO_2(),CURE_SELF:i.VirusSkillsType.CURE_SELF(),COLLISION:i.VirusSkillsType.COLLISION(),INVINCIBLE:i.VirusSkillsType.INVINCIBLE()});cc.Class({extends:cc.Component,properties:{xMinSpeed:{default:0,type:cc.Integer,tooltip:"x\u8f74\u6700\u5c0f\u901f\u5ea6"},xMaxSpeed:{default:0,type:cc.Integer,tooltip:"x\u8f74\u6700\u5927\u901f\u5ea6"},yMinSpeed:{default:0,type:cc.Integer,tooltip:"y\u8f74\u6700\u5c0f\u901f\u5ea6"},yMaxSpeed:{default:0,type:cc.Integer,tooltip:"y\u8f74\u6700\u5927\u901f\u5ea6"},initHP:{default:0,type:cc.Integer,tooltip:"\u521d\u59cb\u751f\u547d\u503c"},initSpriteFrame:{default:null,type:cc.SpriteFrame,tooltip:"\u521d\u59cb\u5316\u7684\u56fe\u50cf"},score:{default:0,type:cc.Integer,tooltip:"\u6b7b\u540e\u83b7\u5f97\u7684\u5206\u6570"},ndAnimation:{default:null,type:cc.Node,tooltip:"\u52a8\u753b\u8282\u70b9"},ndGame:{default:null,type:cc.Node,tooltip:"\u6a21\u578b\u8282\u70b9\u8282\u70b9"},buffType:{type:o,default:o.ADD_FIRING_RATE},lbHp:cc.Label,ndyanNomal:cc.Node,ndyanFire:cc.Node},onLoad:function(){},setIsEnabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isEnabled=t,this.moveCtl.setMoved(t)},showYanFire:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndyanNomal&&this.ndyanNomal.active==t&&(this.ndyanNomal.active=!t),this.ndyanFire&&this.ndyanFire.active!=t&&(this.ndyanFire.active=t)},init:function(t){return this._target=t,this._comScheduler||(this._comScheduler=this.addComponent("ComScheduler")),this.isCollision=!1,this.isAnimate=!1,this.reverseX=!1,this.reverseY=!1,this.speedY=0,this.speedX=0,this.isSpeedCut=!1,this.isSpeedUp=!1,this.virusGroup=this.node.parent.getComponent("PbVirusGroupCtl"),this.node.group!=Constants.Group.groupPlaneVirus()&&(this.node.group=Constants.Group.groupPlaneVirus()),this.ndAnimation.active=!1,this.ndGame.active=!0,this.isEnabled=!0,this.showYanFire(!1),this.moveCtl||(this.moveCtl=this.addComponent("SubMove_Plane")),this.moveCtl.init(),this.moveCtl.setMoved(!0),this.oldScale=this.node.scale,this.newScale=this.node.scale-.03,this.isCollisionV=!1,this.invincible=!1,this.splitNum=0,this.num=0,this},setSplitNum:function(t,e){this.num=e,this.splitNum=!t||t<0?0:t},setInvincible:function(t){this.invincible!=t&&(this.invincible=t)},setCollisionV:function(t){this.isCollisionV!=t&&(this.isCollisionV=t)},getCollisionV:function(){return this.isCollisionV},virusFillOut:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=gGameScene.Plane_Logic.fillOutScale;t?this.node.scale+=e:this.node.scale=this.node.scale-e>=gGameScene.Plane_Logic.scaleMin?this.node.scale-e:gGameScene.Plane_Logic.scaleMin},skills:function(){},update:function(t){this.isEnabled&&(this.isAnimate=this.node.y<this.node.parent.height/2-this.node.height*this.node.scale,this._speedX=0,this._speedY=0,this._target._target.isTouched?this.isCollision?(this.showYanFire(),this._speedX=this._target._target.collisionSPeed,this._speedY=this._target._target.collisionSPeed,this._speedY=this._speedY*this.ySpeed,this._speedX=this._speedX*this.xSpeed):(this.showYanFire(!1),this.virusSpeed||(this.virusSpeed=cc.v2(0,0)),this.scores!=this.virusGroup.getScore()&&(this.scores=this.virusGroup.getScore(),this.virusSpeed=gGameScene.Plane_Logic.getVirusSpeed(this.scores,this.xSpeed>0)),this._speedY=this.ySpeed+this.virusSpeed.y,this._speedX=this.xSpeed+this.virusSpeed.x):(this.ySpeed>0?this._speedY=this._target._target.noTouchedSPeed:this.ySpeed<0&&(this._speedY=-this._target._target.noTouchedSPeed),this.xSpeed>0?this._speedX=this._target._target.noTouchedSPeed:this.xSpeed<0&&(this._speedX=-this._target._target.noTouchedSPeed),this.showYanFire(!1)),this._speedX=this.isAnimate?this._speedX:0,this._speedY=this.reverseY?-this._speedY:this._speedY,this._speedX=this.reverseX?-this._speedX:this._speedX,this.isSpeedCut&&(this._speedY*=gGameScene.Plane_Logic.virusSpeedCut),this.isSpeedUp&&(this._speedY*=gGameScene.Plane_Logic.virusSpeedup),this._speedX=5*this._speedX,this._speedY=2*this._speedY,this.speedY=this._speedY,this.speedX=this._speedX,this.moveCtl.setSpeed(cc.v2(this._speedX,this._speedY)),this.node.y<-this.node.parent.height/2&&(1==this._target._target.currentGameType?(this.node.y=-this.node.y,this.isAnimate=!1):this.virusGroup.enemyDied(this.node,0)),this.node.x<-this.node.parent.width/2&&(this.node.x=-this.node.parent.width/2+this.node.width*this.node.scale),this.node.x>this.node.parent.width/2&&(this.node.x=this.node.parent.width/2-this.node.width*this.node.scale),this.node.y>this.node.parent.height/2+2*this.node.height&&(this.node.y=this.node.parent.height/2-this.node.height*this.node.scale))},setSpeedCut:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSpeedCut!=t&&(this.isSpeedCut=t)},setSpeedUp:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSpeedUp!=t&&(this.isSpeedUp=t)},repelShoot:function(){this.node.y+=gGameScene.Plane_Logic.virusRepelShoot},onCollisionEnter:function(t,e){if(t.node.group==Constants.Group.groupPlaneWall()&&this.isAnimate)"wallTop"==t.node.name?this.reverseY=!this.reverseY:this.reverseX=!this.reverseX;else{if(t.node.group==Constants.Group.groupPlaneBlueBall()||t.node.group==Constants.Group.groupPlaneVirus()&&this.isCollisionV)return t.node.y>e.node.y?this.speedY>0&&(this.reverseY=!this.reverseY):this.speedY<0&&(this.reverseY=!this.reverseY),void(t.node.x>e.node.x?this.speedX>0&&(this.reverseX=!this.reverseX):this.speedX<0&&(this.reverseX=!this.reverseX));if(t.node.group==Constants.Group.groupPlaneBullet()){var n=t.node.getComponent("PbBullet");this.bruise(n.hpDrop)}}},bruise:function(t){var e=this;if("default"!=this.node.group&&this.hP>0&&!this.invincible){this._bruiseAction(),this.isCollision=!0,this._comScheduler.clear("isCollision"),this._comScheduler.once("isCollision",function(){e.isCollision=!1},.1),this.hP-=t;var n=this.hP<0?0:this.hP;if(n=StringHelper.getValueEnglish(n),this.lbHp.string=n,this.hP<=0){PlatformHelper.vibrateShort(),this.isEnabled=!1,this.ndGame.active=!1,this.node.group="default",this.setIsEnabled(!1),ActionHelper.shakeEffect(this._target._target._target._ui.ndGameBg,this.node.scale);var i=this.ndAnimation.getComponent(cc.Animation);this.ndAnimation.active=!0,i.play(),i.on("finished",this.onFinished,this)}}},treatment:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.hP<this.initHP&&this.hP&&"default"!=this.node.group){var e=this.hP+t;if(e&&this.initHP){gGameScene._ctl.treatmentGroupCtl.run(this.node.getPosition()),this.hP=e>=this.initHP?this.initHP:e;var n=this.hP;n=StringHelper.getValueEnglish(n),this.lbHp.string=n}else cc.log(e,this.initHP)}},_bruiseAction:function(){this.node.stopAllActions();var t=cc.scaleTo(.02,this.newScale),e=cc.scaleTo(.02,this.oldScale),n=cc.sequence(t,e);this.node.runAction(n)},onFinished:function(t){if(this.isCollision=!1,_.each(this.ndAnimation.children,function(t){t.setPosition(0,0)}),this.getComponent("PbVirus_SPEED_CUT_OTHER")){this.getComponent("PbVirus_SPEED_CUT_OTHER").ndLine.active=!1;var e=gGameScene._ctl.planeCtl.getPlaneBufferType();_.find(e,function(t){return t==Constants.PlaneBuffType.SPEED_CUT_FOR_PLANE()})||gGameScene._ctl.planeCtl.setSpeedCut(!1)}this.virusGroup.enemyDied(this.node,this.score)}}),cc._RF.pop()},{Constants:"Constants"}],PbWingmanGroupCtl:[function(t,e,n){"use strict";cc._RF.push(e,"255591A+OVDooJUlGkDKmyI","PbWingmanGroupCtl"),cc.Class({extends:cc.Component,properties:function(){return{ndBlueBall:cc.Node,ndUAV:cc.Node}},onLoad:function(){},setIsEnabled:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},init:function(t){return this._target=t,this.blueBallPool||(this.blueBallPool=this.addComponent("ComNodePool")),this.UAVPool||(this.UAVPool=this.addComponent("ComNodePool")),this._createUVA(),this},fireBlueBall:function(t,e,n){var i=this;AudioMgr_Plane.gameBlueBall();var o=this.blueBallPool.getNode(this.ndBlueBall);o.firepower=n,o.group=Constants.Group.groupPlaneBlueBall(),o.active=!0,o.scale=t,o.setPosition(e),o.getComponent("PbBlueBall").init(this),o.parent=this.node;var s=cc.moveBy(20,cc.v2(0,2e3)),r=(cc.rotateBy(20,3600),cc.callFunc(function(){i.blueBallPool.putNode(o)})),a=cc.sequence(s,r);o.stopAllActions(),o.runAction(a)},fireUVA:function(){},_createUVA:function(t){var e=this;_.times(4,function(t){var n=t+1;e["UAV"+n]=e.UAVPool.getNode(e.ndUAV);e["UAV"+n].getComponent("PbUAV");e["UAV"+n].active=!1,e["UAV"+n].parent=e.node})},initUVA:function(t){var e=this;_.times(4,function(n){e["UAV"+(n+1)].getComponent("PbUAV").init(t,n+1)})},enemyeBlueBallDied:function(t){t.stopAllActions(),this.blueBallPool.putNode(t)},resetAll:function(){}}),cc._RF.pop()},{}],PbWingman_BLUE_BALL:[function(t,e,n){"use strict";cc._RF.push(e,"d9e67Ba8zlMf4UWcTUEMeih","PbWingman_BLUE_BALL"),cc.Class({extends:cc.Component,properties:{ndBulletLeft:cc.Node,ndBulletRight:cc.Node,ndBullet:cc.Node},onLoad:function(){var t=this,e=this.ndBulletLeft.getComponent(cc.Animation),n=this.ndBulletRight.getComponent(cc.Animation);this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.rechargeTime=this.data.rechargeTime,this.fireTime=this.data.fireTime,this.isLeftFire=!0,this.isRun=!1,this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.gameCb=function(){e.stop(),n.stop(),t.ndBulletLeft.scale=0,t.ndBulletRight.scale=0,t.isRun=!0,t.run(function(t,e){gGameScene._ctl.WingmanGroupCtl.fireBlueBall(t,e)})},NotifyHelper.register(Constants.GameState.Game(),this.gameCb),this.startCb=function(){e.play(),n.play()},NotifyHelper.register(Constants.GameState.Start(),this.startCb),this.endCb=function(){t.isRun=!1,t.resetAll()},NotifyHelper.register(Constants.GameState.End(),this.endCb)},onDestroy:function(){NotifyHelper.remove(Constants.GameState.Game(),this.gameCb),NotifyHelper.remove(Constants.GameState.Start(),this.startCb),NotifyHelper.remove(Constants.GameState.End(),this.endCb)},run:function(t){var e=this,n=cc.scaleTo(this.rechargeTime,1),i=cc.callFunc(function(){e.ndBulletLeft.scale=0,e.ndBulletRight.scale=0;var n=cc.v2(0,0);n=e.isLeftFire?e._getEndPos(e.ndBulletLeft):e._getEndPos(e.ndBulletRight),e.isLeftFire=!e.isLeftFire,t&&t(.5,n),e.isRun&&e.run(t)}),o=cc.sequence(n,i);this.ndBulletLeft.scale=0,this.ndBulletRight.scale=0,this.isLeftFire?(this.ndBulletLeft.stopAllActions(),this.ndBulletLeft.runAction(o)):(this.ndBulletRight.stopAllActions(),this.ndBulletRight.runAction(o))},resetAll:function(){this.ndBulletLeft.stopAllActions(),this.ndBulletRight.stopAllActions()},_getEndPos:function(t){var e=t,n=e.parent.convertToWorldSpaceAR(e.getPosition());return gGameScene._ctl.WingmanGroupCtl.node.convertToNodeSpaceAR(n)},update:function(t){}}),cc._RF.pop()},{}],PbWingman_FLAMTHROWER:[function(t,e,n){"use strict";cc._RF.push(e,"1e30ftzgWRFm4Pmu8h9WC8X","PbWingman_FLAMTHROWER"),cc.Class({extends:cc.Component,properties:{ndBulletLeft:cc.Node,ndBulletRight:cc.Node,ndBullet1:cc.Node,ndBullet2:cc.Node},onLoad:function(){var t=this,e=this.ndBulletLeft.getComponent(cc.Animation),n=this.ndBulletRight.getComponent(cc.Animation);this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.rechargeTime=this.data.rechargeTime,this.attackTime=this.data.fireTime,this.ndBullet1.active=!1,this.ndBullet2.active=!1,this.isActive=!1,this.isAttack=!1,this.ndBullet1.getComponent("PbFlamthrower").init(this),this.ndBullet2.getComponent("PbFlamthrower").init(this),this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.gameCb=function(){e.stop(),n.stop(),t.isActive=!0,t.run()},NotifyHelper.register(Constants.GameState.Game(),this.gameCb),this.startCb=function(){e.play(),n.play(),t.isAttack=!1},NotifyHelper.register(Constants.GameState.Start(),this.startCb),this.endCb=function(){t.isActive=!1,t.resetAll()},NotifyHelper.register(Constants.GameState.End(),this.endCb)},onDestroy:function(){NotifyHelper.remove(Constants.GameState.Game(),this.gameCb),NotifyHelper.remove(Constants.GameState.Start(),this.startCb),NotifyHelper.remove(Constants.GameState.End(),this.endCb)},run:function(t){this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime"),this.isAttack?this._fire(!1):this._fire(!0)},_fire:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.ndBulletLeft.children[0],i=this.ndBulletRight.children[0];_.times(5,function(e){t._schedule.clear(e+"_flamthrower1"),t._schedule.clear(e+"_flamthrower2")}),e?_.times(5,function(o){n.getChildByName(""+(5-o)).active=!1,i.getChildByName(""+(5-o)).active=!1,t._schedule.once(o+"_flamthrower1",function(){n.getChildByName(""+(5-o)).active=!0,i.getChildByName(""+(5-o)).active=!0,4==o&&t._fire2(e)},t.rechargeTime/5*(1+o))}):_.times(5,function(o){n.getChildByName(""+(o+1)).active=!0,i.getChildByName(""+(o+1)).active=!0,t._schedule.once(o+"_flamthrower2",function(){n.getChildByName(""+(1+o)).active=!1,i.getChildByName(""+(1+o)).active=!1,4==o&&t._fire2(e)},t.attackTime/5*(1+o))})},_fire2:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.ndBullet1.active=t,this.ndBullet2.active=t,this.isAttack=t,t){AudioMgr_Plane.gameFlamthrower();var e=this.ndBullet1.getComponent(cc.Animation),n=this.ndBullet2.getComponent(cc.Animation);e.play("flamthrowerLine"),e.on("finished",function(){e.play("flamthrowerLine2")},this),n.play("flamthrowerLine"),n.on("finished",function(){n.play("flamthrowerLine2")},this)}this.run()},resetAll:function(){var t=this;this.ndBullet1.active=!1,this.ndBullet2.active=!1,this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime");var e=this.ndBulletLeft.children[0],n=this.ndBulletRight.children[0];_.times(5,function(i){t._schedule.clear(i+"_flamthrower1"),t._schedule.clear(i+"_flamthrower2"),e.getChildByName(""+(i+1)).active=!0,n.getChildByName(""+(i+1)).active=!0})},update:function(t){this.isActive}}),cc._RF.pop()},{}],PbWingman_LASSER:[function(t,e,n){"use strict";cc._RF.push(e,"45ef2MGcbZN4KqasbhQViW8","PbWingman_LASSER"),cc.Class({extends:cc.Component,properties:{ndBulletLeft:cc.Node,ndBulletRight:cc.Node,ndBall:cc.Node,ndBullet1:cc.Node},onLoad:function(){var t=this,e=this.ndBulletLeft.getComponent(cc.Animation),n=this.ndBulletRight.getComponent(cc.Animation),i=this.ndBall.getComponent(cc.Animation);this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.rechargeTime=this.data.rechargeTime,this.attackTime=this.data.fireTime,this.ndBullet1.active=!1,this.isActive=!1,this.isAttack=!1,this.ndBullet1.getComponent("PbLasser").init(this),this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.gameCb=function(){i.stop(),t.isActive=!0,t.run()},NotifyHelper.register(Constants.GameState.Game(),this.gameCb),this.startCb=function(){e.play(),n.play(),i.play()},NotifyHelper.register(Constants.GameState.Start(),this.startCb),this.endCb=function(){t.isActive=!1,t.resetAll()},NotifyHelper.register(Constants.GameState.End(),this.endCb)},onDestroy:function(){NotifyHelper.remove(Constants.GameState.Game(),this.gameCb),NotifyHelper.remove(Constants.GameState.Start(),this.startCb),NotifyHelper.remove(Constants.GameState.End(),this.endCb)},run:function(t){var e=this;this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime"),this.isAttack?(this.ndBall.scale=2,this.scaleTo(this.attackTime,0,function(){e._fire(!1),e.run()})):(this.ndBall.scale=.1,this.scaleTo(this.rechargeTime,2,function(){AudioMgr_Plane.gameLasser(),e._fire(!0),e.run()}))},_fire:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndBullet1.active=t,this.isAttack=t},scaleTo:function(t,e,n){var i=cc.scaleTo(t,e),o=cc.callFunc(function(){n&&n()}),s=ActionHelper.shake(t,2,2),r=cc.spawn(s,i),a=cc.sequence(r,o);this.ndBall.stopAllActions(),this.ndBall.runAction(a)},resetAll:function(){this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime"),this.ndBullet1.active=!1,this.ndBall.stopAllActions()},update:function(t){this.isActive}}),cc._RF.pop()},{}],PbWingman_LIGHTNING:[function(t,e,n){"use strict";cc._RF.push(e,"bbd25IS8eVPJbT4pIcHJ2vX","PbWingman_LIGHTNING"),cc.Class({extends:cc.Component,properties:{ndBulletLeft:cc.Node,ndBulletRight:cc.Node,ndBall:cc.Node,ndBullet1:cc.Node,ndBullet2:cc.Node,ndCharge1:cc.Node,ndCharge2:cc.Node},onLoad:function(){var t=this,e=this.ndBulletLeft.getComponent(cc.Animation),n=this.ndBulletRight.getComponent(cc.Animation);this.ndBall.getComponent(cc.Animation);this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.rechargeTime=this.data.rechargeTime,this.attackTime=this.data.fireTime,this.ndBullet1.active=!1,this.ndBullet2.active=!1,this.isActive=!1,this.isAttack=!1,this.ndBullet1Ctl=this.ndBullet1.getComponent("PbLightning"),this.ndBullet2Ctl=this.ndBullet2.getComponent("PbLightning"),this.ndBullet1Ctl.init(this),this.ndBullet2Ctl.init(this),this.ndCharge1.active=!1,this.ndCharge2.active=!1,this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.gameCb=function(){t.isActive=!0,t.isAttack=!1,t.run()},NotifyHelper.register(Constants.GameState.Game(),this.gameCb),this.startCb=function(){e.play(),n.play()},NotifyHelper.register(Constants.GameState.Start(),this.startCb),this.endCb=function(){t.isActive=!1,t.resetAll()},NotifyHelper.register(Constants.GameState.End(),this.endCb)},onDestroy:function(){NotifyHelper.remove(Constants.GameState.Game(),this.gameCb),NotifyHelper.remove(Constants.GameState.Start(),this.startCb),NotifyHelper.remove(Constants.GameState.End(),this.endCb)},run:function(t){var e=this;this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime"),this.ndCharge1.active=!0,this.ndCharge2.active=!0,this.isAttack?(this.ndCharge1.scale=2,this.ndCharge2.scale=2,this.scaleTo(this.attackTime,2,function(){e._fire(!1),e.run()})):(this.ndCharge1.scale=0,this.ndCharge2.scale=0,this.scaleTo(this.rechargeTime,2,function(){e._fire(!0),e.run()}))},_fire:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndBullet1.active=t,this.ndBullet2.active=t,this.isAttack=t,t&&this.updateVirus()},scaleTo:function(t,e,n){this._scaleTo(this.ndCharge1,t,e,n),this._scaleTo(this.ndCharge2,t,e)},_scaleTo:function(t,e,n,i){var o=cc.scaleTo(e,n),s=cc.callFunc(function(){i&&i()}),r=ActionHelper.shake(e,2,2),a=cc.spawn(r,o),c=cc.sequence(a,s);t.stopAllActions(),t.runAction(c)},_getEndPos:function(t){var e=t,n=e.parent.convertToWorldSpaceAR(e.getPosition());return gGameScene._ctl.virusGroupCtl.node.convertToNodeSpaceAR(n)},update:function(t){this.isActive&&this.isAttack&&(!this.virus||"default"==this.virus.group||!this.virus.getComponent("PbVirus")||this.virus.getComponent("PbVirus").hp<=0)&&this.updateVirus()},updateVirus:function(){this.virus=this.getVirus()},getVirus:function(){var t=this,e=_.filter(gGameScene._ctl.virusGroupCtl.node.children,function(e){return"default"!=e.group&&e.y>t._getEndPos(t.node).y});return e.length>0?_.min(e,function(t){return t.y}):null},resetAll:function(){this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime"),this.ndBullet1.active=!1,this.ndBullet2.active=!1,this.ndCharge1.scale=0,this.ndCharge2.scale=0,this.ndCharge1.active=!1,this.ndCharge2.active=!1,this.ndCharge1.stopAllActions(),this.ndCharge2.stopAllActions()},_random:function(t){return _.random(t.length-1)}}),cc._RF.pop()},{}],PbWingman_UAV:[function(t,e,n){"use strict";cc._RF.push(e,"5a262egjmxGZKdsFwzdseBU","PbWingman_UAV"),cc.Class({extends:cc.Component,properties:{ndBulletLeft:cc.Node,ndBulletRight:cc.Node,ndUAV1:cc.Node,ndUAV2:cc.Node,ndUAV3:cc.Node,ndUAV4:cc.Node},onLoad:function(){var t=this,e=this.ndUAV1.getChildByName("electricity").getComponent(cc.Animation),n=this.ndUAV2.getChildByName("electricity").getComponent(cc.Animation),i=this.ndUAV3.getChildByName("electricity").getComponent(cc.Animation),o=this.ndUAV4.getChildByName("electricity").getComponent(cc.Animation);this.data=gGameScene.Plane_Logic.getCurrentWingmanData(),this.rechargeTime=this.data.rechargeTime,this.attackTime=this.data.fireTime,this.ndUAV1.active=!0,this.ndUAV2.active=!0,this.ndUAV3.active=!0,this.ndUAV4.active=!0,this.isActive=!1,this.isAttack=!1,this.isCreate=!1,this.rechargeArr=[!1,!1,!1,!1],this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.gameCb=function(){e.stop(),n.stop(),i.stop(),o.stop(),_.times(4,function(e){_.each(t["ndUAV"+(e+1)].getChildByName("electricity").getChildByName("electricity").children,function(t){t.active=!1})}),t.isActive=!0,t.isCreate||(gGameScene._ctl.WingmanGroupCtl.initUVA(t),_.times(4,function(t){}),t.isCreate=!0,t._resetElectricity());t.rechargeByIndex(1,function e(n){t.checkRechargeOver()||t.rechargeByIndex(n+1,e)})},NotifyHelper.register(Constants.GameState.Game(),this.gameCb),this.startCb=function(){e.play(),n.play(),i.play(),o.play()},NotifyHelper.register(Constants.GameState.Start(),this.startCb),this.endCb=function(){t.isActive=!1,t.resetAll()},NotifyHelper.register(Constants.GameState.End(),this.endCb)},onDestroy:function(){NotifyHelper.remove(Constants.GameState.Game(),this.gameCb),NotifyHelper.remove(Constants.GameState.Start(),this.startCb),NotifyHelper.remove(Constants.GameState.End(),this.endCb)},run:function(t){var e=this;this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime"),this.isAttack&&(_.times(4,function(t){var n=e._getEndPos(e["ndUAV"+(t+1)]);gGameScene._ctl.WingmanGroupCtl["UAV"+(t+1)].setPosition(n),gGameScene._ctl.WingmanGroupCtl["UAV"+(t+1)].active=!0,gGameScene._ctl.WingmanGroupCtl["UAV"+(t+1)].getComponent("PbUAV").attack()}),AudioMgr_Plane.gameUav(),this.rechargeArr=[!1,!1,!1,!1])},rechargeByIndex:function(t,e){var n=this;this._recharge(t,function(){var i=n.checkRechargeOver();e&&e(t),i&&(n._fire(!0),n.run())})},_resetElectricity:function(){var t=this;_.times(4,function(e){_.each(t["ndUAV"+(e+1)].getChildByName("electricity").getChildByName("electricity").children,function(t){t.active=!1})})},_recharge:function(t,e){var n=this;if(!(t>4)){_.each(this["ndUAV"+t].getChildByName("electricity").getChildByName("electricity").children,function(t){t.active=!1});_.times(3,function(i){n._schedule.once(_.random(1e3)+"_recharge",function(){n["ndUAV"+t].getChildByName("electricity").getChildByName("electricity").getChildByName(""+(3-i)).active=!0,2==i&&(n.rechargeOver(t),e&&e(t))},n.rechargeTime/12*(i+1))})}},rechargeOver:function(t){t&&(this.rechargeArr[t-1]=!0)},checkRechargeOver:function(){return-1==_.findIndex(this.rechargeArr,function(t){return!t})},_fire:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndUAV1.active=!t,this.ndUAV2.active=!t,this.ndUAV3.active=!t,this.ndUAV4.active=!t,this.isAttack=t,t&&this.updateVirus()},_getEndPos:function(t){var e=t,n=e.parent.convertToWorldSpaceAR(e.getPosition());return gGameScene._ctl.virusGroupCtl.node.convertToNodeSpaceAR(n)},update:function(t){this.isActive&&this.isAttack&&(!this.virus||"default"==this.virus.group||!this.virus.getComponent("PbVirus")||this.virus.getComponent("PbVirus").hp<=0)&&this.updateVirus()},updateVirus:function(){this.virus=this.getVirus()},getVirus:function(){var t=_.filter(gGameScene._ctl.virusGroupCtl.node.children,function(t){return"default"!=t.group});return t.length>0?_.min(t,function(t){return t.y}):null},_random:function(t){return _.random(t.length-1)},resetAll:function(){var t=this;this.rechargeArr=[!1,!1,!1,!1],_.times(4,function(e){gGameScene._ctl.WingmanGroupCtl["UAV"+(e+1)].getComponent("PbUAV").resetAll(),_.each(t["ndUAV"+(e+1)].getChildByName("electricity").getChildByName("electricity").children,function(t){t.active=!0})}),this._fire(!1),this._schedule.clear("rechargeTime"),this._schedule.clear("attackTime"),this._schedule.clearAll()}}),cc._RF.pop()},{}],PlaneGameHandler:[function(t,e,n){"use strict";cc._RF.push(e,"fc239vGcq5BkZPz7TOD26to","PlaneGameHandler");var i=e.exports;i.setData=function(t){$G.gCData.room=t},i.getData=function(){return $G.gCData.room},i.resetData=function(){var t=i.getData(),e=HttpHandler.getConfigs();t&&e&&(t.score=0,t.videoResurrection=e.GameVideoResurrectionNum,t.shareResurrection=e.GameShareResurrectionNum,t.videoAddBallNum=e.GameVideoAddBallNum,t.shareAddBallNum=e.GameShareAddBallNum)},i.setScore=function(t){i.getData()&&(i.getData().score=t)},i.getScore=function(){return i.getData().score},i.setVideoResurrection=function(t){i.getData()&&(i.getData().videoResurrection=t)},i.getVideoResurrection=function(){return i.getData().videoResurrection},i.setShareResurrection=function(t){i.getData()&&(i.getData().shareResurrection=t)},i.getShareResurrection=function(){return i.getData().shareResurrection},i.setVideoAddBallNum=function(t){i.getData()&&(i.getData().videoAddBallNum=t)},i.getVideoAddBallNum=function(){return i.getData().videoAddBallNum},i.setShareAddBallNum=function(t){i.getData()&&(i.getData().shareAddBallNum=t)},i.getShareAddBallNum=function(){return i.getData().shareAddBallNum},cc._RF.pop()},{}],Plane_Ctl:[function(t,e,n){"use strict";cc._RF.push(e,"2d0f1nNZZRJepAvJ7y4V5sS","Plane_Ctl");var i=cc.Class({extends:cc.Component,properties:{_targetComName:"GameScene_Plane"},onLoad:function(){},start:function(){},initStart:function(){this.isEnabled=!1,this.isTouched=!1,this.noTouchedSPeed=5,this.collisionSPeed=.4,this.bulletHPDropIndex=gLocalData.userInfo.bulletHPDrop,this.bulletFreqTimeIndex=gLocalData.userInfo.bulletFreqTime,this.bulletSpeed=gLocalData.userInfo.bulletSpeed,this.bulletNum=gLocalData.userInfo.bulletNum,this.goldTimeIndex=gLocalData.userInfo.goldTime,this.goldValueIndex=gLocalData.userInfo.goldValue,this.wingmanIntensityIndex=gLocalData.userInfo.wingmanIntensity,this.wingmanHPDropIndex=gLocalData.userInfo.wingmanHPDrop;var t=JsonMgr.getUpgradeData();this.bulletHPDrop=t[this.bulletHPDropIndex].bulletHPDrop,this.bulletFreqTime=t[this.bulletFreqTimeIndex].bulletFreqTime,this.goldTime=t[this.goldTimeIndex].goldTime,this.goldValue=t[this.goldValueIndex].goldValue,this.wingmanIntensity=t[this.wingmanIntensityIndex].wingmanIntensity,this.wingmanHPDrop=t[this.wingmanHPDropIndex].wingmanHPDrop,this.bulletHPDropMax=1,this.bulletFreqTimeMax=2e3,this.bulletSpeedMax=20,this.bulletNumMax=10,this.goldTimeMax=1e3*this.goldTime,this.goldValueMax=1e3,this.vigorMax=80,this.bulletHPDropMin=1,this.bulletFreqTimeMin=1e3,this.bulletSpeedMin=100,this.bulletNumMin=1,this.currentGameType=1,this._target=this.node.getComponent(this._targetComName),this._schedule||(this._schedule=this.addComponent("ComScheduler")),this.touchCtl=this._target._ui.ndTouch.getComponent("PbTouchPlane"),this.touchCtl.init(this),this.bulletGroupCtl=this._target._ui.ndBulletGroupCtl.getComponent("PbBulletGroupCtl"),this.bulletGroupCtl.init(this),this.fireSupportCtl=this._target._ui.ndFireSupportCtl.getComponent("PbFireSupportCtl"),this.fireSupportCtl.init(this),this.planeCtl=this._target._ui.ndPlane.getComponent("PbPlane"),this.planeCtl.init(this),this.virusGroupCtl=this._target._ui.ndVirusGroupCtl.getComponent("PbVirusGroupCtl"),this.virusGroupCtl.init(this),this.buffGroupCtl=this._target._ui.ndBuffGroupCtl.getComponent("PbBuffGroupCtl"),this.buffGroupCtl.init(this),this.buffListCtl=this._target._ui.ndBuffList.getComponent("PbBuffHintListCtl"),this.buffListCtl.init(this),this.goldGroupCtl=this._target._ui.ndGoldGroupCtl.getComponent("PbGoldGroupCtl"),this.goldGroupCtl.init(this),this.bulletDieGroupCtl=this._target._ui.ndBulletDieGroupCtl.getComponent("PbBulletDieGroupCtl"),this.bulletDieGroupCtl.init(this),this.fireDieGroupCtl=this._target._ui.ndFireDieGroupCtl.getComponent("PbFireDieGroupCtl"),this.fireDieGroupCtl.init(this),this.uppgradeActionGroupCtl=this._target._ui.ndUpgradeActionGroupCtl.getComponent("PbUpgradeActionGroupCtl"),this.uppgradeActionGroupCtl.init(this),this.treatmentGroupCtl=this._target._ui.ndTreatmentGroupCtl.getComponent("PbTreatmentGroupCtl"),this.treatmentGroupCtl.init(this),this.WingmanGroupCtl=this._target._ui.ndWingmanGroupCtl.getComponent("PbWingmanGroupCtl"),this.WingmanGroupCtl.init(this),cc.director.getCollisionManager().enabled=!0,cc.log("@onLoad -   Plane_Ctl"),this._target._ui.initStart(this),this.init(),this.initOpenDataNode(),UserHandler.setState(Constants.GameState.Start())},initNotifys:function(){var t=this,e=this._target._ntf;e.register(Constants.GameState.Start(),function(){}),e.register(Constants.GameState.Game(),function(){t._target._ui.minusVigor(5)}),e.register(Constants.GameState.End(),function(){})},gameStart:function(){this.speedUpGame(1),UserHandler.getState()!=Constants.GameState.Game()&&(this._target._ui.hideMask(),this._target._ui.hideStartNode(),this._target._ui.hideRankBtn(),GameMsgHandler.onHandleMsg(Constants.GameState.Game()))},gameOver:function(t){var e=this;this.speedUpGame(),this._schedule.once("gameOver",function(){e._target._ui.showOver()},.5),UserHandler.getCQllswitch()?this.resurgenceNum>0?(this._target._ui.showResurgence(),this._target._ui.hideGetGold(),this._target._ui.startOverResurgenceTime(function(){t&&t(),e._target._ui.hideResurgence(),e._target._ui.showGetGold()})):(t&&t(),this._target._ui.hideResurgence(),this._target._ui.showGetGold()):(t&&t(),this._target._ui.hideResurgence(),this._target._ui.showGetGold(),this._target._ui.setGetGoldLb2Active(!1)),this._target._ui.setOverScore(),this.bulletGroupCtl.pauseAction(),this.fireSupportCtl.hideFireSupportCtl(),this.virusGroupCtl.pauseAction(),this.touchCtl.setIsEnabled(!1),this.virusGroupCtl.setIsEnabled(!1),this.buffGroupCtl.setIsEnabled(!1),this.buffListCtl.setIsEnabled(!1),this.bulletGroupCtl.setIsEnabled(!1),this.fireSupportCtl.setIsEnabled(!1),this.planeCtl.hideFireHead()},gameResurgence:function(){this.resurgenceNum--,this.planeCtl.setInvincibleTime(),this._target._ui.stopOverResurgenceTime(),this._target._ui.hideOver(),this.touchCtl.setIsEnabled(!0),this.virusGroupCtl.setIsEnabled(!0),this.buffGroupCtl.setIsEnabled(!0),this.buffListCtl.setIsEnabled(!0),this.bulletGroupCtl.setIsEnabled(!0),this.fireSupportCtl.setIsEnabled(!0)},init:function(t){this.resurgenceNum=1,this.planeCtl.init(this),this.touchCtl.setIsEnabled(!0),this._target._ui.init(this)},_resetPart:function(){this._target._ui.resetPart()},_resetAll:function(){this._target._ui.hideOver(),this.touchCtl.setIsEnabled(!1),this.bulletGroupCtl.resetAll(),this.fireSupportCtl.resetAll(),this.buffListCtl.resetAll(),this.virusGroupCtl.resetAll(),this.buffGroupCtl.resetAll(),this._target._ui.resetAll(),PlaneGameHandler.resetData()},speedUpGame:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;cc.director.getScheduler().setTimeScale(t)},sendExchange:function(){var t=this;ButtonHelper.BtnThrottle("sendExchange",function(){t._target._ui.exchange(),t._target._ui.hideExchange()},5e3)},sendScore:function(t,e){var n=this,i=this._target._ui.scoreNum,o=this._target._ui.goldCurrentNum;o&&o>0?this.goldGroupCtl.runActionGoldTime(1==t?this._target._ui.getLbGetGold1Pos():this._target._ui.getLbGetGold2Pos(),this._target._ui.getLbGoldPos(),function(){n._target._ui.addGold(1==t?o:3*o),e&&e()}):e&&e();var s=PlatformHelper.getStorageSync("hightScore")?PlatformHelper.getStorageSync("hightScore"):0;ButtonHelper.BtnThrottle("Ball_Ctl_SendScore",function(){if(cc.log("sendScore000000"),i>s){var t=PlatformHelper.getStorageSync("userInfo"),e=t?t.nickName:null,n=t?t.avatarUrl:null;UserServer.saveScoreInfo(e,n,i)}i>s&&(s=i,PlatformHelper.setStorageSync("hightScore",s),PlatformHelper.setUserHightScore(s))},5e3)},updateOpenDataNode:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._target._ui.updateRankBtns(t);var e={type:t+1,data:{}};switch(t){case 0:UserServer.getScoreInfo(function(t){cc.log("getScoreInfo",t),e.data=t.data,PlatformHelper.sendMsgTyOpenDataContext(e)});break;case 1:PlatformHelper.sendMsgTyOpenDataContext(e);break;case 2:UserServer.getChallengeScoreInfo(2,function(t){cc.log("getScoreInfo",t),e.data=t.data,PlatformHelper.sendMsgTyOpenDataContext(e)});break;case 3:UserServer.getChallengeScoreInfo(1,function(t){cc.log("getScoreInfo",t),e.data=t.data,PlatformHelper.sendMsgTyOpenDataContext(e)})}},getDiamond:function(){},initOpenDataNode:function(){this._target._ui.hideOpenDataNd()}});e.exports=i,cc._RF.pop()},{}],Plane_Logic:[function(t,e,n){"use strict";cc._RF.push(e,"abbebsx24NK76RiQuPd/1dK","Plane_Logic");var i={bulletHPDrop:{}};i.bulletHPDrop.gold=15,i.bulletHPDrop.lv=10,i.bulletHPDrop.interval=.01,i.bulletFreqTime={},i.bulletFreqTime.gold=100,i.bulletFreqTime.lv=10,i.bulletFreqTime.interval=.05,i.bulletSpeed={},i.bulletSpeed.gold=3,i.bulletSpeed.lv=10,i.bulletSpeed.interval=-.5,i.bulletNum={},i.bulletNum.gold=3,i.bulletNum.lv=10,i.bulletNum.interval=.01,i.goldTime={},i.goldTime.gold=3,i.goldTime.lv=10,i.goldTime.interval=.5,i.goldValue={},i.goldValue.gold=3,i.goldValue.lv=10,i.goldValue.interval=.1;var o=e.exports;o.bulletHPDropMin=1,o.bulletFreqTimeMin=700,o.bulletSpeedMin=100,o.bulletNumMin=1,o.goldTimeMin=1,o.goldValueMin=1,o.wingmanIntensityMin=1,o.wingmanHPDropMin=100,o.bulletHPDropMax=1e3,o.bulletFreqTimeMax=1500,o.bulletSpeedMax=50,o.bulletNumMax=10,o.goldTimeMax=1e6,o.goldValueMax=1e3,o.wingmanIntensityMax=100,o.wingmanHPDropMax=1e6,o.scaleMin=.5,o.fillOutScale=.5,o.moveTime=.2,o.virusSpeedCut=.2,o.virusSpeedup=1.8,o.virusRepelShoot=5,o.init=function(){var t=_.size(JsonMgr.getUpgradeData()),e=JsonMgr.getUpgradeData()[t];o.bulletHPDropMax=e.bulletHPDrop,o.bulletFreqTimeMax=e.bulletFreqTime,o.goldTimeMax=e.goldTime,o.goldValueMax=e.goldValue;var n=JsonMgr.getUpgradeData()[100];o.wingmanIntensityMax=n.wingmanIntensity,o.wingmanHPDropMax=n.wingmanHPDrop},o.accelerationFormula=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,i=t,o=Math.sqrt(1/n*e/i)+1,s=n*i*Math.pow(o,1/n);return s=Math.ceil(s)},o.accelerationFormulaForLv=function(t,e){var n=t,i=Math.sqrt(2*e/n)+1;return i=parseInt(i)-1,i=parseInt(i/10)+1},o.accelerationFormulaForT=function(t,e){var n=t,i=Math.sqrt(2*e/n)+1;return i=parseInt(10*i)},o.getDataByIndexAndKey=function(t,e){var n=_.size(JsonMgr.getUpgradeData());return t>n&&(t=n),JsonMgr.getUpgradeData()[t][e]},o.upBulletHPDropGold=function(t){return this.getDataByIndexAndKey(t,"bulletHPDropGold")},o.upBulletHPDropLV=function(t){return this.getDataByIndexAndKey(t,"bulletHPDropLV")},o.upgradeBulletHPDrop=function(t){var e=this.getDataByIndexAndKey(t,"bulletHPDrop");return e>=o.bulletHPDropMax&&(e=o.bulletHPDropMax),e},o.upBulletFreqTimeGold=function(t){return this.getDataByIndexAndKey(t,"bulletHPDropGold")},o.upBulletFreqTimeLV=function(t){return this.getDataByIndexAndKey(t,"bulletFreqTimeLV")},o.upgradeBulletFreqTime=function(t){var e=this.getDataByIndexAndKey(t,"bulletFreqTime");return e>=o.bulletFreqTimeMax&&(e=o.bulletFreqTimeMax),e},o.wingmanIntensityGold=function(t){return this.getDataByIndexAndKey(t,"wingmanIntensityGold")},o.wingmanIntensityLV=function(t){return this.getDataByIndexAndKey(t,"wingmanIntensityLV")},o.upgradewingmanIntensity=function(t){var e=this.getDataByIndexAndKey(t,"wingmanIntensity");return e>=o.bulletFreqTimeMax&&(e=o.bulletFreqTimeMax),e},o.wingmanHPDropGold=function(t){return this.getDataByIndexAndKey(t,"wingmanHPDropGold")},o.wingmanHPDropLV=function(t){return this.getDataByIndexAndKey(t,"wingmanHPDropLV")},o.upgradeWingmanHPDrop=function(t){var e=this.getDataByIndexAndKey(t,"wingmanHPDrop");return o.getWingmanDataByKey(e)},o.getWingmanDataByKey=function(t){var e=gLocalData.userInfo.currentWingman;if(!(_.size(JsonMgr.getWingmanByKey(e))<=0))return JsonMgr.getWingmanByKey(e)[t]},o.getCurrentWingmanData=function(){return o.getWingmanDataByKey(gLocalData.userInfo.wingmanHPDrop)},o.upGoldTimeGold=function(t){return this.getDataByIndexAndKey(t,"goldTimeGold")},o.upGoldTimeLV=function(t){return this.getDataByIndexAndKey(t,"goldTimeLV")},o.upgradeGoldTime=function(t){var e=this.getDataByIndexAndKey(t,"goldTime");return e>=o.goldTimeMax&&(e=o.goldTimeMax),e},o.upGoldValueGold=function(t){return this.getDataByIndexAndKey(t,"goldValueGold")},o.upGoldValueLV=function(t){return this.getDataByIndexAndKey(t,"goldValueLV")},o.upgradeGoldValue=function(t){var e=this.getDataByIndexAndKey(t,"goldValue");return e>=o.goldValueMax&&(e=o.goldValueMax),e},o.getBulletSpeed=function(t,e){var n=100;return(n-=parseInt((t+e-o.bulletFreqTimeMin)/(o.bulletFreqTimeMax+o.bulletHPDropMax-o.bulletFreqTimeMin)*80))<=o.bulletSpeedMax&&(n=o.bulletSpeedMax),n},o.getBulletNum=function(t,e){var n=1;return(n=parseInt((t+e-o.bulletFreqTimeMin)/(o.bulletFreqTimeMax+o.bulletHPDropMax-o.bulletFreqTimeMin)*10)+1)>=o.bulletNumMax&&(n=o.bulletNumMax),n},o.getVirusHp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return _.random(1,o.accelerationFormula(.05,t))},o.getVirusScore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=1;return e=parseInt(o.accelerationFormula(.01,t)/50),e=_.random(1,e)},o.getVirusScale=function(){var t=o.scaleMin,e=t;return e=(e=.1*_.random(3,10))>=t?e:t},o.getVirusSpeed=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=cc.v2(0,0),i=.05;return i=o.accelerationFormula(i,t)/1e3,n.x=e?i:-i,n.y=-i,n},o.getVirusSum=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o.getThreeVirusByCheckpoint(t,e),i=0;return _.each(n,function(t){_.each(t.arr,function(t){i+=(1-Math.pow(t.num,t.splitNum+1))/(1-t.num)})}),i},o.getThreeVirusByCheckpoint=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i=[],s=[],r=[],a=o.getVirusByCheckpoint(t),c=6+parseInt(t/80),l=10+parseInt(t/80),u=15+parseInt(t/80);5==t?(c=5,l=5,u=5):t<=20?(c=6,l=8,u=10):t>20&&t<=100&&(c=6+parseInt(t/20),l=7+parseInt(t/20),u=8+parseInt(t/20));var h=c>40?40:c,d=l>60?60:l,p=u>100?100:u;_.times(h,function(e){var n=a[_.random(_.size(a)-1)],o={};o.virus=n,o.scale=.1*_.random(5,10),o.splitNum=parseInt(o.scale/.5),o.num=_.random(2,3),o.hp=_.random(1,t>20?40*t:5*t),i.push(o)}),_.times(d,function(e){var n=a[_.random(_.size(a)-1)],i={};i.virus=n,i.scale=.1*_.random(5,10),i.splitNum=parseInt(i.scale/.5),i.num=_.random(2,3),i.hp=_.random(10,t>20?30*t:5*t),s.push(i)}),_.times(p,function(e){var n=a[_.random(_.size(a)-1)],i={};i.virus=n,i.scale=.1*_.random(5,10),i.splitNum=parseInt(i.scale/.5),i.num=_.random(2,3),i.hp=_.random(20,t>20?20*t:5*t),r.push(i)});var g={};g.arr=i,g.isBig=!1,g.isALotOf=!1,g.isBoss=e;var f={};f.arr=s,f.isBig=!1,f.isALotOf=!1,f.isBoss=e;var m={};m.arr=r;var v=_.random(1)>0;return e?(m.isBig=!!v,m.isALotOf=!v):(m.isBig=!1,m.isALotOf=!1),m.isBoss=e,n.push(g),n.push(f),n.push(m),n},o.getVirusByCheckpoint=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o.virusArr||(o.virusArr=o.getVirusArr(12)),o.virusArr[t-1]},o.getVirusMold=function(t){o.virusArr||(o.virusArr=o.getVirusArr(12));var e;return(e=o.virusArr[parseInt(t/1e3)%o.virusArr.length])[_.random(0,e.length-1)]},o.getVirusSum=function(){return o.getVirusArr(12).length},o.getVirusArr=function(t){var e=[];_.times(t,function(t){e.push(t)});var n=o.getAllArrayChooseNFromM(e,4),i=[];return _.each(n,function(t){_.each(t,function(e,n){_.each(o.getAllArrayChooseNFromM(t,n+1),function(t){i.push(t)})})}),i},o.getHandOfMidasGold=function(t){return parseInt(t/1e3)>0?parseInt(t/100)>0:1},o.getAllArrayChooseNFromM=function(t,e){var n=[],i=[],o=t;return function t(e,o,s,r,a,c){var l=0;for(l=o;l<c-r+1;l++)if(s[r-1]=l,r-1==0){var u=void 0;for(u=a-1;u>=0;u--)n.push(e[s[u]]);i.push(n),n=[]}else t(e,l+1,s,r-1,a,c)}(o,0,new Array(e),e,e,_.size(o)),i},cc._RF.pop()},{}],Plane_UI:[function(t,e,n){"use strict";cc._RF.push(e,"5b1a6apmnRCHqqFFuJnIh3l","Plane_UI"),cc.Class({extends:cc.Component,properties:{ndOpenData:cc.Node,ndWXSubContextView:cc.Node,ndRankBtns:cc.Node,ndMask:cc.Node,ndGameBg:cc.Node,ndTouch:cc.Node,ndPlane:cc.Node,ndWingman:cc.Node,ndPlaneHead:cc.Node,ndRankBtn:cc.Node,ndBulletGroupCtl:cc.Node,ndFireSupportCtl:cc.Node,ndVirusGroupCtl:cc.Node,ndBuffGroupCtl:cc.Node,ndBuffList:cc.Node,ndGoldGroupCtl:cc.Node,ndBulletDieGroupCtl:cc.Node,ndFireDieGroupCtl:cc.Node,ndUpgradeActionGroupCtl:cc.Node,ndTreatmentGroupCtl:cc.Node,ndWingmanGroupCtl:cc.Node,lbScore:cc.Label,ndStartBtn:cc.Node,ndGoldTime:cc.Node,lbGoldTime:cc.Label,ndGoldTimeBg:cc.Node,lbGold:cc.Label,lbVigor:cc.Label,lbDiamond:cc.Label,lbVigorTime:cc.Label,lbGoldCurrent:cc.Label,ndBottom:cc.Node,ndTop:cc.Node,ndLeft:cc.Node,ndRight:cc.Node,ndUpdateList:cc.Node,ndCloseUpdateList:cc.Node,ndItem1:cc.Node,ndItem2:cc.Node,ndTost:cc.Node,ndMoveTost:cc.Node,ndBtns:cc.Node,ndWinman:cc.Node,ndWinmanList:cc.Node,ndWinmanItem:cc.Node,ndOver:cc.Node,lbOverScore:cc.Label,ndResurgence:cc.Node,lbResurgenceTime:cc.Label,ndGetGold:cc.Node,lbGetGold1:cc.Label,lbGetGold2:cc.Label,ndGoldTimeTure:cc.Node,ndExchange:cc.Node,ndPowerList:cc.Node,spExchangeDown:cc.Sprite,sfExchangeDown:{default:[],type:cc.SpriteFrame},lbExchangeDiamond:cc.Label,lbExchangeDiamond2:cc.Label,btMinusExchange:cc.Button,btAddExchange:cc.Button,ndPreviousCheckpoint:cc.Node,ndCurrentCheckpoint:cc.Node,ndNextCheckpoint:cc.Node,ndPreviousCheckpoint1:cc.Node,ndCurrentCheckpoint1:cc.Node,ndNextCheckpoint1:cc.Node,ndCheckpoint1:cc.Node,ndCheckpoint2:cc.Node,ndCheckpoint3:cc.Node,ndGameTip0:cc.Node,ndGameTip1:cc.Node,pgBar:cc.ProgressBar,lbPercent:cc.Label,ndPowerList_List:cc.Node,ndPowerList_Item:cc.Node,lbGetGoldTime1:cc.Label,lbGetGoldTime2:cc.Label,ndWingmanIcon1:cc.Node,ndWingmanIcon2:cc.Node,ndWalls:{default:[],type:cc.Node},sfWingman:{default:[],type:cc.SpriteFrame},sfWingmanIcon:{default:[],type:cc.SpriteFrame},sfGameBg:{default:[],type:cc.SpriteFrame}},onLoad:function(){cc.log("@onLoad -   Plane_UI")},initStart:function(t){this._ctl=t,this.comNodePool=this.addComponent("ComNodePool"),this.comNodePoolPower=this.addComponent("ComNodePool"),this.ndItem1Lbs1=["\u5c04\u901f","\u5f3a\u5ea6","\u91d1\u5e01\u4ef7\u503c"],this.ndItem1Lbs2=["\u706b\u529b","\u706b\u529b","\u65e5\u5e38\u6536\u76ca"],this.showStartNode(),this.setGold(gLocalData.userInfo.gold),this.setVigor(gLocalData.userInfo.vigor),this.setDiamond(gLocalData.userInfo.diamond),this.initGamebg(),this.initWingmanList(),this.updateCheckpoint(),this.updateWingmanIcon(),this.ndMoveTost.active=!0},init:function(t,e){this.hideMask(),this.setScore(0),this.setGoldCurrent(0),_.each(this.ndWalls,function(t){t.group=Constants.Group.groupPlaneWall()}),this.initGoldTime(),this.initTime(),this.initVigorTime(),this.initTimeVigor(),this.initStartNodeBottom(),this.hideOver()},initGamebg:function(){this.ndGameBg.getComponent(cc.Sprite).spriteFrame=this.sfGameBg[_.random(this.sfGameBg.length-1)]},updatePercentAndBar:function(t){this.pgBar.progress=t,this.lbPercent.string=Math.ceil(100*t)},updateCheckpoint:function(){this.ndCheckpoint1.getComponent("PbCheckpoint").updateCheckpoint()},updateCheckpoint1:function(){this.ndCheckpoint2.getComponent("PbCheckpoint").updateCheckpoint()},updateCheckpoint2:function(){this.ndCheckpoint3.getComponent("PbCheckpoint").updateCheckpoint()},showPowerList:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndPowerList.active!=t&&(this.ndPowerList.active=t),t&&this.iniPowerList()},hidePowerList:function(){this.showPowerList(!1)},addExchangeAll:function(){this.lbExchangeDiamond.string=this.diamondNum,this.lbExchangeDiamond2.string=this.lbExchangeDiamond.string*this.multiple,this.checkBtn()},addExchange:function(){this.lbExchangeDiamond.string<this.diamondNum&&(this.lbExchangeDiamond.string++,this.lbExchangeDiamond2.string=this.lbExchangeDiamond.string*this.multiple),this.checkBtn()},minusExchange:function(){this.lbExchangeDiamond.string>0&&(this.lbExchangeDiamond.string--,this.lbExchangeDiamond2.string=this.lbExchangeDiamond.string*this.multiple),this.checkBtn()},checkBtn:function(){this.btMinusExchange.interactable=this.lbExchangeDiamond.string>0,this.btAddExchange.interactable=this.lbExchangeDiamond.string<this.diamondNum},exchange:function(){this.minusDiamond(parseInt(this.lbExchangeDiamond.string)),1==this.exchangeType?this.addGold(parseInt(this.lbExchangeDiamond2.string)):this.addVigor(parseInt(this.lbExchangeDiamond2.string))},showExchange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.diamondNum<=0?PlatformHelper.showToast("\u60a8\u6ca1\u6709\u8db3\u591f\u7684\u94bb\u77f3"):(this.ndExchange.active!=e&&(this.ndExchange.active=e),e&&(this.exchangeType=t,this.spExchangeDown.spriteFrame=this.sfExchangeDown[t-1],1==t?(this.multiple=parseInt(parseInt(this._ctl.goldValue)/2),this.spExchangeDown.node.scale=.6):(this.multiple=5,this.spExchangeDown.node.scale=1),this.lbExchangeDiamond.string=1,this.lbExchangeDiamond2.string=this.lbExchangeDiamond.string*this.multiple,this.checkBtn()))},hideExchange:function(){this.showExchange(1,!1)},showGoldTimeTure:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.ndGoldTimeTure.active!=t&&(this.ndGoldTimeTure.active=t),t){var e=this.goldTimeNum;this.lbGetGoldTime1.string=StringHelper.getValueEnglish(e),this.lbGetGoldTime2.string=StringHelper.getValueEnglish(3*e)}},hideGoldTimeTure:function(){this.showGoldTimeTure(!1)},iniPowerList:function(){for(var t=this;this.ndPowerList_List.children.length>0;)this.comNodePoolPower.putNode(this.ndPowerList_List.children[0]);_.times(100,function(e){var n=t.comNodePoolPower.getNode(t.ndPowerList_Item);n.active=!0,n.y=0,n.getChildByName("index").getComponent(cc.Label).string=e+1,n.parent=t.ndPowerList_List})},initWingmanList:function(){var t=this;this.ndWinman.active=!1,this.ndWinmanItem.active=!1,this.ndWinmanList.children.length<=1&&_.times(6,function(e){var n=cc.instantiate(t.ndWinmanItem);n.active=!0,n.y=0,n.getChildByName("on").active=gLocalData.userInfo.currentWingman==e,n.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=t.sfWingmanIcon[e],n.wingmanIndex=e+1,n.parent=t.ndWinmanList}),this.updateWingmanBtns(gLocalData.userInfo.currentWingman)},initTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.timeInterval=parseInt(t),this.timeInt=this.timeInterval,this.timeFloat=this.timeInterval,this.isEnabled=this.goldTimeNum<this._ctl.goldTimeMax},initGoldTime:function(){gLocalData.userInfo.goldStartTime&&0!=gLocalData.userInfo.goldStartTime.length||(gLocalData.userInfo.goldStartTime=_.now(),DataHelper.saveAllData());var t=(_.now()-gLocalData.userInfo.goldStartTime)/1e4;(t=parseInt(t)*this._ctl.goldTime)>=this._ctl.goldTimeMax&&(t=this._ctl.goldTimeMax),this.goldTimeNum=parseInt(t),this.lbGoldTime.string=StringHelper.getValueEnglish(this.goldTimeNum),this.ndGoldTimeBg.getComponent(cc.Sprite).fillRange=this.goldTimeNum/this._ctl.goldTimeMax},addGoldTime:function(){this.goldTimeNum+=this._ctl.goldTime,this.goldTimeNum>=this._ctl.goldTimeMax&&(this.goldTimeNum=this._ctl.goldTimeMax,this.isEnabled=!1),this.lbGoldTime.string=StringHelper.getValueEnglish(this.goldTimeNum),this.ndGoldTimeBg.getComponent(cc.Sprite).fillRange=this.goldTimeNum/this._ctl.goldTimeMax},resetGoldTime:function(){UserHandler.getCQllswitch()&&this.ndGoldTimeBg.getComponent(cc.Sprite).fillRange>.2?this.showGoldTimeTure():this.resetGoldTime2()},resetGoldTime2:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.goldTimeNum;!n||n<=0||(n=1==e?n:3*n,this._ctl.goldGroupCtl.runActionGoldTime(this.getLbGoldTimePos(),this.getLbGoldPos(),function(){t.addGold(n)}),gLocalData.userInfo.goldStartTime=_.now(),DataHelper.saveAllData(),this.initGoldTime(),this.initTime())},initTimeVigor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;this.timeVigorInterval=parseInt(t),this.timeVigorInt=this.timeVigorInterval,this.timeVigorFloat=this.timeVigorInterval,this.isVigorEnabled=this.vigorNum<this._ctl.vigorMax},initVigorTime:function(){gLocalData.userInfo.vigorStartTime&&0!=gLocalData.userInfo.vigorStartTime.length||(gLocalData.userInfo.vigorStartTime=_.now(),DataHelper.saveAllData());var t=(_.now()-gLocalData.userInfo.vigorStartTime)/3e5;(t=parseInt(t))>=this._ctl.vigorMax&&(t=this._ctl.vigorMax);var e=this.vigorNum+parseInt(t);this.vigorNum=e>=this._ctl.vigorMax?this._ctl.vigorMax:e,this._setVigor(this.vigorNum)},update:function(t){this.isEnabled&&(this.timeFloat-t>=0?(this.timeFloat-=t,this.ndGoldTime.getComponent(cc.Sprite).fillRange=(this.timeInt-this.timeFloat)/this.timeInt):(this.ndGoldTime.getComponent(cc.Sprite).fillRange=1,this.timeInt=this.timeInterval,this.timeFloat=this.timeInterval,this.addGoldTime())),this.isVigorEnabled&&(this.timeVigorFloat-t>=0?(this.timeVigorFloat-=t,this.lbVigorTime.string=TimeHelper.s_to_hs(parseInt(this.timeVigorFloat))+"+1"):(this.timeVigorInt=this.timeVigorInterval,this.timeVigorFloat=this.timeVigorInterval,this.addVigor(1)))},addGold:function(t){this.goldNum||(this.goldNum=0),this.goldNum+=parseInt(t),this._setGold(this.goldNum)},minusGold:function(t){!this.goldNum||this.goldNum<t||(this.goldNum-=parseInt(t),this._setGold(this.goldNum))},setGold:function(t){this.goldNum=t,this._setGold(this.goldNum)},_setGold:function(t){gLocalData.userInfo.gold=t,this.lbGold.string=StringHelper.getValueEnglish(t),DataHelper.saveAllData()},addDiamond:function(t){this.diamondNum||(this.diamondNum=0),this.diamondNum+=parseInt(t),this._setDiamond(this.diamondNum)},minusDiamond:function(t){!this.diamondNum||this.diamondNum<t||(this.diamondNum-=parseInt(t),this._setDiamond(this.diamondNum))},setDiamond:function(t){this.diamondNum=t,this._setDiamond(this.diamondNum)},_setDiamond:function(t){gLocalData.userInfo.diamond=t,this.lbDiamond.string=StringHelper.getValueEnglish(t),DataHelper.saveAllData()},addVigor:function(t){if(this.vigorNum||(this.vigorNum=0),this.vigorNum>=this._ctl.vigorMax)return this.vigorNum=this._ctl.vigorMax,this.isVigorEnabled=!1,this.vigorNum=this._ctl.vigorMax,void this._setVigor(this.vigorNum);this.vigorNum+=parseInt(t),this._setVigor(this.vigorNum)},canPlay:function(){return!(!this.vigorNum||this.vigorNum<5)},minusVigor:function(t){return!(!this.vigorNum||this.vigorNum<t)&&(this.vigorNum-=parseInt(t),this._setVigor(this.vigorNum),this.isVigorEnabled=!0,!0)},setVigor:function(t){this.vigorNum=t,this._setVigor(this.vigorNum)},_setVigor:function(t){gLocalData.userInfo.vigor=t,gLocalData.userInfo.vigorStartTime=_.now(),this.lbVigor.string=StringHelper.getValueEnglish(t),DataHelper.saveAllData()},initStartNodeBottom:function(){var t=this;this.ndUpdateList.active=!1,this.ndCloseUpdateList.active&&(this.ndCloseUpdateList.active=!1),this._updateBtns(this.ndBtns.children,-1,function(e){t._changeBtn(e)}),this.checkBtnsHint(this.ndBtns)},closeStartNodeBottom:function(){this.ndPlane.y-=270,this.ndMoveTost.active||(this.ndMoveTost.active=!0),this.initStartNodeBottom()},updateStartNodeUpdateList:function(t){var e=this;this.ndMoveTost.active&&(this.ndMoveTost.active=!1),this.ndUpdateList.active||(this.ndPlane.y+=270),this.ndUpdateList.active||(this.ndUpdateList.active=!0),this.ndCloseUpdateList.active||(this.ndCloseUpdateList.active=!0),this._updateBtns(this.ndBtns.children,t,function(n){e._changeBtn(n),e.ndTost.active=!1,e.ndItem1.active=!e.ndTost.active,e.ndItem2.active=!e.ndTost.active,e.ndWinman.active=1==t,e.ndItem1.getChildByName("ndLabels").getChildByName("name").getComponent(cc.Label).string=e.ndItem1Lbs1[t],e.ndItem2.getChildByName("ndLabels").getChildByName("name").getComponent(cc.Label).string=e.ndItem1Lbs2[t];var i=t+"_ndItem1",o=t+"_ndItem2";e.ndItem1.getChildByName("num").getComponent(cc.Label).string=StringHelper.getValueEnglish(e.getNumByKey(i)),e.ndItem2.getChildByName("num").getComponent(cc.Label).string=StringHelper.getValueEnglish(e.getNumByKey(o)),e.ndItem1.getChildByName("ndLabels").getChildByName("lv").getComponent(cc.Label).string=e.getLvByKey(i),e.ndItem2.getChildByName("ndLabels").getChildByName("lv").getComponent(cc.Label).string=e.getLvByKey(o);var s=e.ndItem1.getChildByName("btn").getChildByName("goldNum"),r=e.ndItem2.getChildByName("btn").getChildByName("goldNum"),a=e.getGoldNumByKey(i),c=e.getGoldNumByKey(o);s.getComponent(cc.Label).string=StringHelper.getValueEnglish("[LVMAX]"==e.getLvByKey(i)?"MAX":a),r.getComponent(cc.Label).string=StringHelper.getValueEnglish("[LVMAX]"==e.getLvByKey(o)?"MAX":c),s.color=e.goldNum>=a?cc.Color.WHITE:cc.Color.RED,r.color=e.goldNum>=c?cc.Color.WHITE:cc.Color.RED}),this.checkBtnsHint(this.ndBtns)},checkBtnsHint:function(t){var e=this;_.each(t.children,function(t,n){t.getChildByName("btn_off").getChildByName("sheng").active=e.checkActiveByIndex(n)})},checkActiveByIndex:function(t){var e=this,n=!1,i=[t+"_ndItem1",t+"_ndItem2"];return _.each(i,function(t){e.getDataByKey(t).active&&(n=!0)}),n},upgradeByName:function(t){var e=_.findIndex(this.ndBtns.children,function(t){return t.getChildByName("btn_on").active});if(!(1==e&&gLocalData.userInfo.currentWingman<=0)){var n,i=e+"_"+t,o=this.getKeyByKey(i),s=this.getDataByKey(i);if(n=s.gold,s.active){AudioMgr_Plane.gameUpgrade(),this.minusGold(n),this._ctl[o]=s.upgrade,this._ctl[o+"Index"]<_.size(JsonMgr.getUpgradeData())&&this._ctl[o+"Index"]++,gLocalData.userInfo[o]=this._ctl[o+"Index"];var r=cc.v2(0,0);switch(e){case 0:r=this.getPlaneHeadPos(),this._ctl.bulletSpeed=gGameScene.Plane_Logic.getBulletSpeed(this._ctl.bulletHPDrop,this._ctl.bulletFreqTime),this._ctl.bulletNum=gGameScene.Plane_Logic.getBulletNum(this._ctl.bulletHPDrop,this._ctl.bulletFreqTime),gLocalData.userInfo.bulletSpeed=this._ctl.bulletSpeed,gLocalData.userInfo.bulletNum=this._ctl.bulletNum;break;case 1:r=this.getWingmanPosL();var a=this.getWingmanPosR();this._ctl.uppgradeActionGroupCtl.run(a);break;case 2:r=this.getLbGoldTimeGoldPos()}this.updateStartNodeUpdateList(e),DataHelper.saveAllData(),this._ctl.uppgradeActionGroupCtl.run(r)}}},getKeyByKey:function(t){return this.getDataByKey(t).key},getNumByKey:function(t){return this.getDataByKey(t).num},getLvByKey:function(t){return this.getDataByKey(t).lv},getGoldNumByKey:function(t){return this.getDataByKey(t).gold},getDataByKey:function(t){var e=0,n=0,i=0,o="",s=!1,r=0,a={},c=JsonMgr.getUpgradeData();switch(t){case"0_ndItem1":i=gGameScene.Plane_Logic.upBulletFreqTimeGold(this._ctl.bulletFreqTimeIndex),e=gGameScene.Plane_Logic.upBulletFreqTimeLV(this._ctl.bulletFreqTimeIndex),this._ctl.bulletFreqTime=c[this._ctl.bulletFreqTimeIndex].bulletFreqTime,e=this._ctl.bulletFreqTime==gGameScene.Plane_Logic.bulletFreqTimeMax?"MAX":e,n=this._ctl.bulletFreqTime-gGameScene.Plane_Logic.bulletFreqTimeMin,o="bulletFreqTime",s=i<=this.goldNum&&this._ctl.bulletFreqTime!=gGameScene.Plane_Logic.bulletFreqTimeMax,r=gGameScene.Plane_Logic.upgradeBulletFreqTime(this._ctl.bulletFreqTimeIndex);break;case"0_ndItem2":i=gGameScene.Plane_Logic.upBulletHPDropGold(this._ctl.bulletHPDropIndex),e=gGameScene.Plane_Logic.upBulletHPDropLV(this._ctl.bulletHPDropIndex),this._ctl.bulletHPDrop=c[this._ctl.bulletHPDropIndex].bulletHPDrop,e=this._ctl.bulletHPDrop==gGameScene.Plane_Logic.bulletHPDropMax?"MAX":e,n=this._ctl.bulletHPDrop,o="bulletHPDrop",s=i<=this.goldNum&&this._ctl.bulletHPDrop!=gGameScene.Plane_Logic.bulletHPDropMax,r=gGameScene.Plane_Logic.upgradeBulletHPDrop(this._ctl.bulletHPDropIndex);break;case"1_ndItem1":i=gGameScene.Plane_Logic.wingmanIntensityGold(this._ctl.wingmanIntensityIndex),e=gGameScene.Plane_Logic.wingmanIntensityLV(this._ctl.wingmanIntensityIndex),this._ctl.wingmanIntensity=c[this._ctl.wingmanIntensityIndex].wingmanIntensity,e=this._ctl.wingmanIntensity==gGameScene.Plane_Logic.wingmanIntensityMax?"MAX":e,n=this._ctl.wingmanIntensity,o="wingmanIntensity",s=i<=this.goldNum&&this._ctl.wingmanIntensity!=gGameScene.Plane_Logic.wingmanIntensityMax,r=gGameScene.Plane_Logic.upgradewingmanIntensity(this._ctl.wingmanIntensityIndex);break;case"1_ndItem2":i=gGameScene.Plane_Logic.wingmanHPDropGold(this._ctl.wingmanHPDropIndex),e=gGameScene.Plane_Logic.wingmanHPDropLV(this._ctl.wingmanHPDropIndex),this._ctl.wingmanHPDrop=gGameScene.Plane_Logic.upgradeWingmanHPDrop(this._ctl.wingmanHPDropIndex)?gGameScene.Plane_Logic.upgradeWingmanHPDrop(this._ctl.wingmanHPDropIndex).hpDrop:0;var l=gGameScene.Plane_Logic.upgradeWingmanHPDrop(gGameScene.Plane_Logic.wingmanHPDropMax)?gGameScene.Plane_Logic.upgradeWingmanHPDrop(gGameScene.Plane_Logic.wingmanHPDropMax).hpDrop:0;e=this._ctl.wingmanHPDrop==l?"MAX":e,n=this._ctl.wingmanHPDrop,o="wingmanHPDrop",s=i<=this.goldNum&&this._ctl.wingmanHPDrop!=l,r=this._ctl.wingmanHPDrop;break;case"2_ndItem1":i=gGameScene.Plane_Logic.upGoldValueGold(this._ctl.goldValueIndex),e=gGameScene.Plane_Logic.upGoldValueLV(this._ctl.goldValueIndex),this._ctl.goldValue=c[this._ctl.goldValueIndex].goldValue,e=this._ctl.goldValue==gGameScene.Plane_Logic.goldValueMax?"MAX":e,n=this._ctl.goldValue,o="goldValue",s=i<=this.goldNum&&this._ctl.goldValue!=gGameScene.Plane_Logic.goldValueMax,r=gGameScene.Plane_Logic.upgradeGoldValue(this._ctl.goldValueIndex);break;case"2_ndItem2":i=gGameScene.Plane_Logic.upGoldTimeGold(this._ctl.goldTimeIndex),e=gGameScene.Plane_Logic.upGoldTimeLV(this._ctl.goldTimeIndex),this._ctl.goldTime=c[this._ctl.goldTimeIndex].goldTime,e=this._ctl.goldTime==gGameScene.Plane_Logic.goldTimeMax?"MAX":e,n=this._ctl.goldTime,o="goldTime",s=i<=this.goldNum&&this._ctl.goldTime!=gGameScene.Plane_Logic.goldTimeMax,r=gGameScene.Plane_Logic.upgradeGoldTime(this._ctl.goldTimeIndex)}return e="[LV"+e+"]",a.lv=e,a.num=n,a.gold=i,a.key=o,a.active=s,a.upgrade=r,a},updateRankBtns:function(t){this._updateBtns(this.ndRankBtns.children,t)},updateWingmanBtns:function(t){if(this.openCheckpoints=[20,40,60,80,100],t>5)PlatformHelper.showToast("\u656c\u8bf7\u671f\u5f85");else{var e=this.openCheckpoints[t-1];gLocalData.userInfo.currentCheckpoint<e?PlatformHelper.showToast("\u8be5\u526f\u6b66\u5668"+e+"\u5173\u540e\u5f00\u542f"):(gLocalData.userInfo.currentWingman=t,DataHelper.saveAllData(),this._updateBtns(this.ndWinmanList.children,t-1,function(t){t.getChildByName("on").active=!t.getComponent(cc.Button).interactable}),this._ctl.planeCtl.updaytWingman(t),this.updateWingmanIcon(),this.updateStartNodeUpdateList(1))}},updateWingmanIcon:function(){gLocalData.userInfo.currentWingman<=0||(this.ndWingmanIcon1.getComponent(cc.Sprite).spriteFrame=this.sfWingmanIcon[gLocalData.userInfo.currentWingman-1],this.ndWingmanIcon2.getComponent(cc.Sprite).spriteFrame=this.sfWingmanIcon[gLocalData.userInfo.currentWingman-1])},addScore:function(t){this.scoreNum+=t,this.lbScore.string=StringHelper.getValueEnglish(this.scoreNum)},setScore:function(t){this.scoreNum=t,this.lbScore.string=StringHelper.getValueEnglish(this.scoreNum)},getScore:function(){return this.scoreNum},addGoldCurrent:function(t){this.goldCurrentNum+=t,this.lbGoldCurrent.string=StringHelper.getValueEnglish(this.goldCurrentNum)},setGoldCurrent:function(t){this.goldCurrentNum=t,this.lbGoldCurrent.string=StringHelper.getValueEnglish(this.goldCurrentNum)},getGoldCurrent:function(){return this.goldCurrentNum},showMask:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndMask.active!=t&&(this.ndMask.active=t)},hideMask:function(){this.showMask(!1)},showStartNode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.updateCheckpoint(),this.ndBottom.active!=t&&(this.ndBottom.active=t),this.ndTop.active!=t&&(this.ndTop.active=t),this.ndLeft.active!=t&&(this.ndLeft.active=t),this.ndRight.active!=t&&(this.ndRight.active=t),this.ndGameTip0.active=0==this._ctl.currentGameType&&!t,this.ndGameTip1.active=1==this._ctl.currentGameType&&!t,this.lbGoldCurrent.node.parent.active=this.ndGameTip0.active||this.ndGameTip1.active,this.ndGameTip1.active&&this.updateCheckpoint1(),this.checkBtnsHint(this.ndBtns);var e=cc.scaleTo(.5,1),n=cc.scaleTo(.5,1.5),i=cc.scaleTo(.5,.6),o=cc.scaleTo(.5,1);this.ndGameBg.stopAllActions(),t?(this.ndGameBg.scale=1,this.ndGameBg.runAction(n),this.ndPlane.scale=.6,this.ndPlane.runAction(o)):(this.ndGameBg.scale=1.5,this.ndGameBg.runAction(e),this.ndPlane.scale=1,this.ndPlane.runAction(i))},hideStartNode:function(){this.showStartNode(!1)},showRankBtn:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndRankBtn.active!=t&&(this.ndRankBtn.active=t)},hideRankBtn:function(){this.showRankBtn(!1)},showOpenDataNd:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndOpenData.active!=t&&(this.ndWXSubContextView.getComponent(cc.WXSubContextView).enabled=t,t&&this.ndWXSubContextView.getComponent(cc.WXSubContextView).update(),this.ndOpenData.active=t)},hideOpenDataNd:function(){this.showOpenDataNd(!1)},showOver:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndOver.active!=t&&(this.ndOver.active=t)},hideOver:function(){this.showOver(!1)},showResurgence:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndResurgence.active!=t&&(this.ndResurgence.active=t)},hideResurgence:function(){this.showResurgence(!1)},showGetGold:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ndGetGold.active!=t&&(this.ndGetGold.active=t),t&&(this.updateCheckpoint2(),this.setGetGoldLb())},hideGetGold:function(){this.showGetGold(!1)},setGetGoldLb2Active:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.lbGetGold2.node.parent.active!=t&&(this.lbGetGold2.node.parent.active=t)},setGetGoldLb:function(){this.lbGetGold1.string=StringHelper.getValueEnglish(this.goldCurrentNum),this.lbGetGold2.string=StringHelper.getValueEnglish(3*this.goldCurrentNum)},setOverScore:function(){this.lbOverScore.string=this.lbScore.string},startOverResurgenceTime:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.stopOverResurgenceTime();var n=5;this.lbResurgenceTime.string=--n,this.scheduleFunc=function(){t.lbResurgenceTime.string=--n,n<=0&&(e&&e(),t.stopOverResurgenceTime())},this.schedule(this.scheduleFunc,1)},stopOverResurgenceTime:function(){this.scheduleFunc&&this.unschedule(this.scheduleFunc)},getLbGetGold2Pos:function(){return this._getEndPos(this.lbGetGold2.node)},getLbGetGold1Pos:function(){return this._getEndPos(this.lbGetGold1.node)},getPlaneHeadPos:function(){return this._getEndPos(this.ndPlaneHead)},getLbGoldTimeGoldPos:function(){return this._getEndPos(this.lbGoldTime.node.parent.getChildByName("huan"))},getWingmanPosL:function(){var t=this._getEndPos(this.ndPlaneHead);return cc.v2(t.x-80,t.y-80)},getWingmanPosR:function(){var t=this._getEndPos(this.ndPlaneHead);return cc.v2(t.x+80,t.y-80)},getLbGoldTimePos:function(){return this._getEndPos(this.lbGoldTime.node)},getLbGoldPos:function(){return this._getEndPos(this.lbGold.node.parent.parent.children[0])},getGoldCurrentPos:function(){return this._getEndPos(this.lbGoldCurrent.node.parent.children[1])},_getEndPos:function(t){var e=t,n=e.parent.convertToWorldSpaceAR(e.getPosition());return this.node.convertToNodeSpaceAR(n)},resetPart:function(){},resetAll:function(){this.hideMask(),this.showStartNode()},_updateBtns:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t&&_.each(t,function(t,o){n._changeMenuState(t,e===o),i&&i(t)})},_changeMenuState:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&t.getComponent(cc.Button)&&(t.getComponent(cc.Button).interactable=!e)},_changeBtn:function(t){t&&t.getComponent(cc.Button)&&(t.getChildByName("btn_off").active=t.getComponent(cc.Button).interactable,t.getChildByName("btn_on").active=!t.getComponent(cc.Button).interactable)}}),cc._RF.pop()},{}],PlatformHelper:[function(t,e,n){"use strict";cc._RF.push(e,"b5aa2Vuy+tOzK0VoDkFMMe+","PlatformHelper");var i=e.exports;i.getPlatformType=function(){return cc.sys.isBrowser?1:cc.sys.os===cc.sys.OS_ANDROID?2:cc.sys.os===cc.sys.OS_IOS?3:cc.sys.os===cc.sys.OS_OSX?4:cc.sys.os===cc.sys.OS_WINDOWS?5:-1},i.isWX=function(){return"undefined"!=typeof wx},i.showShareMenu=function(){i.isWX()&&wx.showShareMenu()},i.shareAppMessage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u8fd9\u91cc\u6709\u4e2a\u7403\u9700\u8981\u4f60\u6765\u5f39\u4e00\u4e0b",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(i.isWX()){wx.shareAppMessage({title:t,imageUrl:"https://shenxingnet.com/Public/Game/res/share.png",query:"nick=val1&imageUrl=val2&userId=sss"});var o=(new Date).getTime();wx.onShow(function t(i){cc.log("onShow"),(new Date).getTime()-o>4e3?e&&e():n&&n(),wx.offShow(t)})}},i.onShareAppMessage=function(t,e){i.isWX()&&wx.onShareAppMessage(function(){return{title:t,imageUrl:e}})},i.getSystemInfoSync=function(){if(i.isWX())return wx.getSystemInfoSync()},i.navigateToMiniProgram=function(t,e,n,o,s){i.isWX()&&wx.navigateToMiniProgram({appId:t,path:e,extraData:{foo:"bar"},envVersion:"release",success:function(t){s&&s()}})},i.createBannerAd=function(t,e,n){i.isWX()?(i.banner=wx.createBannerAd({adUnitId:t,style:{left:(window.innerWidth-300)/2,top:window.innerHeight-105,width:300}}),i.banner.onLoad(function(t){n&&n()}),i.banner.onError(function(t){e&&e()})):n&&n()},i.bannerShow=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.isWX()&&(i.banner||i.createBannerAd(),i.banner.show())},i.bannerHide=function(){i.banner&&i.banner.hide()},i.showToast=function(t){i.isWX()&&wx.showToast({title:t,icon:"none",duration:3e3})},i.createRewardedVideoAd=function(t,e,n,o,s){var r=!0;i.isWX()?(n&&n(),i.videoAd=wx.createRewardedVideoAd({adUnitId:t}),i.videoAd.onError(function(t){e&&e(),i.videoAd=null,i.showToast("\u89c2\u770b\u89c6\u9891\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650")}),i.videoAd.onLoad(function(t){}),i.videoAd.onClose(function(t){if(r){if(!t.isEnded)return void(s&&s());o&&o(),i.videoAd&&i.videoAd.offClose(),i.videoAd=null,r=!1}})):n&&n()},i.videoAdShow=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i.isWX()&&(i.createRewardedVideoAd("adunit-c1d40bab7254689e",n,null,t,e),i.videoAd.show())},i.checkSession=function(t,e,n){i.isWX()?wx.checkSession({success:function(e){cc.log("sssssssss",e),t&&t()},fail:function(t){cc.log("sssssssss",t),e&&e()},complete:function(){n&&n()}}):n&&n()},i.login=function(t,e){i.isWX()&&wx.login({success:function(n){n.code?(cc.log("\u5fae\u4fe1\u767b\u9646\u6210\u529fcode",n.code),t&&t(n.code)):(cc.log("\u5fae\u4fe1\u767b\u9646\u5931\u8d25"),e&&e(n.errMsg))}})},i.setStorageSync=function(t,e){if(i.isWX())try{wx.setStorageSync(t,e)}catch(t){}},i.getStorageSync=function(t){if(i.isWX())try{return wx.getStorageSync(t)}catch(t){}},i.clearStorageSync=function(){if(i.isWX())try{wx.clearStorageSync()}catch(t){}},i.sendMsgTyOpenDataContext=function(t){i.isWX()&&wx.getOpenDataContext().postMessage({message:t})},i.showModal=function(t,e,n){i.isWX()&&wx.showModal({title:t,content:e,success:function(t){n&&n(t)}})},i.createUserInfoButton=function(t,e){if(i.isWX()){var n=i.getSystemInfoSync(),o=n.screenWidth/2,s=n.screenHeight/2;i.button=wx.createUserInfoButton({type:"image",image:"https://shenxingnet.com/Public/Game/res/login.png",style:{width:t.width/2,height:t.height/2,left:o-t.width/4,top:s}}),i.button.onTap(function(t){e&&e(t),i.button.hide()})}},i.buttonHide=function(){i.button&&i.button.hide()},i.setUserHightScore=function(t){i.setUserCloudStorage([{key:"score",value:t+""}])},i.setUserCloudStorage=function(t){i.isWX()&&wx.setUserCloudStorage({KVDataList:t,success:function(t){console.log("success",t)},fail:function(t){console.log("fail",t)}})},i.getUpdateManager=function(t,e){if(i.isWX())return wx.getUpdateManager()},i.createUpdateManager=function(){var t=i.getUpdateManager();t&&(t.onCheckForUpdate(function(t){console.log("\u662f\u5426\u9700\u8981\u66f4\u65b0",t.hasUpdate)}),t.onUpdateReady(function(){i.showModal("\u66f4\u65b0\u63d0\u793a","\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5e94\u7528\uff1f",function(e){e.confirm&&t.applyUpdate()})}),t.onUpdateFailed(function(t){console.log(t)}))},i.setInnerAudioOption=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i.isWX()&&wx.setInnerAudioOption({mixWithOther:t,obeyMuteSwitch:e})},i.createInnerAudioContext=function(){if(i.isWX())return wx.createInnerAudioContext()},i.getLaunchOptionsSync=function(){if(i.isWX())return wx.getLaunchOptionsSync()},i.setClipboardData=function(t){i.isWX()&&wx.setClipboardData({data:t,success:function(t){}})},i.getClipboardData=function(t){i.isWX()&&wx.getClipboardData({success:function(t){console.log(t.data)}})},i.vibrateShort=function(t){i.isWX()&&gLocalData.sysInfo.shouldShake&&wx.vibrateShort({success:function(t){}})},i.vibrateLong=function(t){i.isWX()&&gLocalData.sysInfo.shouldShake&&wx.vibrateLong({success:function(t){}})},i.setGLGameState=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";i._callNative(Func_SetGLGameState,VOID,t)},cc._RF.pop()},{}],RadialBlur:[function(t,e,n){"use strict";cc._RF.push(e,"60821Um3q1JNrm9GIOkpkR/","RadialBlur");var i=cc.renderer.renderEngine.renderer,o={name:"RadialBlur",params:[{name:"iCenter",type:i.PARAM_FLOAT2},{name:"iResolution",type:i.PARAM_FLOAT3}],defines:[],start:function(t,e){var n=new cc.Vec3(t.node.width,t.node.height,0);e.setParamValue("iResolution",n),e.setParamValue("iCenter",new cc.Vec2(.5,.5))},vert:"uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }\n        ",frag:"\n    uniform sampler2D texture;\n    uniform vec3 iResolution;\n    uniform vec2 iCenter;\n    varying vec2 uv0;\n\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n    {\n        const float Strength = 0.125;    \n        const int Samples = 64; //multiple of 2\n        \n        vec2 uv = fragCoord.xy;\n        \n        vec2 dir = (fragCoord.xy-iCenter.xy);\n    \n        vec4 color = vec4(0.0,0.0,0.0,0.0);\n        \n        for (int i = 0; i < Samples; i += 2) //operating at 2 samples for better performance\n        {\n            color += texture2D(texture,uv+float(i)/float(Samples)*dir*Strength);\n            color += texture2D(texture,uv+float(i+1)/float(Samples)*dir*Strength);\n        }   \n        \n        fragColor = color/float(Samples);\n    }\n     \n    void main(void)\n    {\n        mainImage(gl_FragColor, uv0);\n    }"};t("CustomMaterial").addShader(o),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],RainShader:[function(t,e,n){"use strict";cc._RF.push(e,"16f85/3XbdLd4jA+GCUeLLa","RainShader");var i=cc.renderer.renderEngine.renderer,o={name:"rainheart",defines:[{name:"HAS_HEART",value:!0},{name:"USE_POST_PROCESSING",value:!1}],params:[{name:"texSize",type:i.PARAM_FLOAT2},{name:"iResolution",type:i.PARAM_FLOAT3},{name:"iTime",type:i.PARAM_FLOAT}],start:function(t,e){var n=new cc.Vec3(t.node.width,t.node.height,0),i=new cc.Vec2(t.node.width,t.node.height);e.setParamValue("iResolution",n),e.setParamValue("texSize",i),this._start=Date.now()},update:function(t,e){var n=(Date.now()-this._start)/1e3;e.setParamValue("iTime",n)},vert:"\nuniform mat4 viewProj;\nuniform mat4 model;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    mat4 mvp;\n    mvp = viewProj * model;\n\n    vec4 pos = mvp * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}\n",frag:"\n// Heartfelt - by Martijn Steinrucken aka BigWings - 2017\n// countfrolic@gmail.com\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// I revisited the rain effect I did for another shader. This one is better in multiple ways:\n// 1. The glass gets foggy.\n// 2. Drops cut trails in the fog on the glass.\n// 3. The amount of rain is adjustable (with Mouse.y)\n\n// To have full control over the rain, uncomment the HAS_HEART define \n\n// A video of the effect can be found here:\n// https://www.youtube.com/watch?v=uiF5Tlw22PI&feature=youtu.be\n\n// Music - Alone In The Dark - Vadim Kiselev\n// https://soundcloud.com/ahmed-gado-1/sad-piano-alone-in-the-dark\n// Rain sounds:\n// https://soundcloud.com/elirtmusic/sleeping-sound-rain-and-thunder-1-hours\n\n#define S(a, b, t) smoothstep(a, b, t)\n//#define CHEAP_NORMALS\n\nuniform sampler2D texture;\nuniform vec4 color;\nuniform vec3 iResolution;\nuniform float iTime;\nuniform vec2 texSize;\nvarying vec2 uv0;\n\nvec3 N13(float p) {\n    //  from DAVE HOSKINS\n   vec3 p3 = fract(vec3(p) * vec3(.1031,.11369,.13787));\n   p3 += dot(p3, p3.yzx + 19.19);\n   return fract(vec3((p3.x + p3.y)*p3.z, (p3.x+p3.z)*p3.y, (p3.y+p3.z)*p3.x));\n}\n\nvec4 N14(float t) {\n\treturn fract(sin(t*vec4(123., 1024., 1456., 264.))*vec4(6547., 345., 8799., 1564.));\n}\nfloat N(float t) {\n    return fract(sin(t*12345.564)*7658.76);\n}\n\nfloat Saw(float b, float t) {\n\treturn S(0., b, t)*S(1., b, t);\n}\n\nvec2 DropLayer2(vec2 uv, float t) {\n    vec2 UV = uv;\n    \n    uv.y += t*0.75;\n    vec2 a = vec2(6., 1.);\n    vec2 grid = a*2.;\n    vec2 id = floor(uv*grid);\n    \n    float colShift = N(id.x); \n    uv.y += colShift;\n    \n    id = floor(uv*grid);\n    vec3 n = N13(id.x*35.2+id.y*2376.1);\n    vec2 st = fract(uv*grid)-vec2(.5, 0);\n    \n    float x = n.x-.5;\n    \n    float y = UV.y*20.;\n    float wiggle = sin(y+sin(y));\n    x += wiggle*(.5-abs(x))*(n.z-.5);\n    x *= .7;\n    float ti = fract(t+n.z);\n    y = (Saw(.85, ti)-.5)*.9+.5;\n    vec2 p = vec2(x, y);\n    \n    float d = length((st-p)*a.yx);\n    \n    float mainDrop = S(.4, .0, d);\n    \n    float r = sqrt(S(1., y, st.y));\n    float cd = abs(st.x-x);\n    float trail = S(.23*r, .15*r*r, cd);\n    float trailFront = S(-.02, .02, st.y-y);\n    trail *= trailFront*r*r;\n    \n    y = UV.y;\n    float trail2 = S(.2*r, .0, cd);\n    float droplets = max(0., (sin(y*(1.-y)*120.)-st.y))*trail2*trailFront*n.z;\n    y = fract(y*10.)+(st.y-.5);\n    float dd = length(st-vec2(x, y));\n    droplets = S(.3, 0., dd);\n    float m = mainDrop+droplets*r*trailFront;\n    \n    //m += st.x>a.y*.45 || st.y>a.x*.165 ? 1.2 : 0.;\n    return vec2(m, trail);\n}\n\nfloat StaticDrops(vec2 uv, float t) {\n\tuv *= 40.;\n    \n    vec2 id = floor(uv);\n    uv = fract(uv)-.5;\n    vec3 n = N13(id.x*107.45+id.y*3543.654);\n    vec2 p = (n.xy-.5)*.7;\n    float d = length(uv-p);\n    \n    float fade = Saw(.025, fract(t+n.z));\n    float c = S(.3, 0., d)*fract(n.z*10.)*fade;\n    return c;\n}\n\nvec2 Drops(vec2 uv, float t, float l0, float l1, float l2) {\n    float s = StaticDrops(uv, t)*l0; \n    vec2 m1 = DropLayer2(uv, t)*l1;\n    vec2 m2 = DropLayer2(uv*1.85, t)*l2;\n    \n    float c = s+m1.x+m2.x;\n    c = S(.3, 1., c);\n    \n    return vec2(c, max(m1.y*l0, m2.y*l1));\n}\n\nvoid main()\n{\n    vec4 iMouse = vec4(0.0, 0.0, 0.0, 0.0);\n    vec2 fragCoord = vec2(uv0.x * texSize.x - 0.5 * texSize.x, 0.5 * texSize.y - uv0.y * texSize.y);\n\n\tvec2 uv = fragCoord.xy / iResolution.y;\n    vec2 UV = (fragCoord.xy+.5*iResolution.xy) / iResolution.xy;\n    vec3 M = iMouse.xyz/iResolution.xyz;\n    float T = iTime+M.x*2.;\n    \n    #ifdef HAS_HEART\n        T = mod(iTime, 102.);\n        T = mix(T, M.x*102., M.z>0.?1.:0.);\n    #endif\n    \n    float t = T*.2;\n    \n    float rainAmount = iMouse.z>0. ? M.y : sin(T*.05)*.3+.7;\n    \n    float maxBlur = mix(3., 6., rainAmount);\n    float minBlur = 2.;\n    \n    float story = 0.;\n    float heart = 0.;\n    \n    #ifdef HAS_HEART\n        story = S(0., 70., T);\n        \n        t = min(1., T/70.);\t\t\t\t\t\t// remap drop time so it goes slower when it freezes\n        t = 1.-t;\n        t = (1.-t*t)*70.;\n        \n        float zoom= mix(.3, 1.2, story);\t\t// slowly zoom out\n        uv *=zoom;\n        minBlur = 4.+S(.5, 1., story)*3.;\t\t// more opaque glass towards the end\n        maxBlur = 6.+S(.5, 1., story)*1.5;\n        \n        vec2 hv = uv-vec2(.0, -.1);\t\t\t\t// build heart\n        hv.x *= .5;\n        float s = S(110., 70., T);\t\t\t\t// heart gets smaller and fades towards the end\n        hv.y-=sqrt(abs(hv.x))*.5*s;\n        heart = length(hv);\n        heart = S(.4*s, .2*s, heart)*s;\n        rainAmount = heart;\t\t\t\t\t\t// the rain is where the heart is\n        \n        maxBlur-=heart;\t\t\t\t\t\t\t// inside the heart slighly less foggy\n        uv *= 1.5;\t\t\t\t\t\t\t\t// zoom out a bit more\n        t *= .25;\n    #else\n        float zoom = -cos(T*.2);\n        uv *= .7+zoom*.3;\n    #endif\n    UV = (UV-.5)*(.9+zoom*.1)+.5;\n    \n    float staticDrops = S(-.5, 1., rainAmount)*2.;\n    float layer1 = S(.25, .75, rainAmount);\n    float layer2 = S(.0, .5, rainAmount);\n    \n    vec2 c = Drops(uv, t, staticDrops, layer1, layer2);\n    #ifdef CHEAP_NORMALS\n    \tvec2 n = vec2(dFdx(c.x), dFdy(c.x));// cheap normals (3x cheaper, but 2 times shittier ;))\n    #else\n    \tvec2 e = vec2(.001, 0.);\n    \tfloat cx = Drops(uv+e, t, staticDrops, layer1, layer2).x;\n    \tfloat cy = Drops(uv+e.yx, t, staticDrops, layer1, layer2).x;\n    \tvec2 n = vec2(cx-c.x, cy-c.x);\t\t// expensive normals\n    #endif\n\n    #ifdef HAS_HEART\n        n *= 1.-S(60., 85., T);\n        c.y *= 1.-S(80., 100., T)*.8;\n    #endif\n\n    float focus = mix(maxBlur-c.y, minBlur, S(.1, .2, c.x));\n    vec3 col = texture2D(texture, UV+n).rgb;\n    \t\t\t\t\t\t// make time sync with first lightnoing\n\n    #ifdef USE_POST_PROCESSING\n        t = (T+3.)*.5;\t\t\t\n        float colFade = sin(t*.2)*.5+.5+story;\n        col *= mix(vec3(1.), vec3(.8, .9, 1.3), colFade);\t// subtle color shift\n        float fade = S(0., 10., T);\t\t\t\t\t\t\t// fade in at the start\n        float lightning = sin(t*sin(t*10.));\t\t\t\t// lighting flicker\n        lightning *= pow(max(0., sin(t+sin(t))), 10.);\t\t// lightning flash\n        col *= 1.+lightning*fade*mix(1., .1, story*story);\t// composite lightning\n        col *= 1.-dot(UV-=.5, UV);\t\t\t\t\t\t\t// vignette\n\n        #ifdef HAS_HEART\n            col = mix(pow(col, vec3(1.2)), col, heart);\n            fade *= S(102., 97., T);\n        #endif\n\n        col *= fade;\t\t\t\t\t\t\t\t\t\t// composite start and end fade\n    #endif\n\n    //col = vec3(heart);\n    gl_FragColor = vec4(col, 1.);\n}\n"};t("CustomMaterial").addShader(o),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],ShaderHelper:[function(t,e,n){"use strict";cc._RF.push(e,"709843sfttBuKuT6Fl9RqBp","ShaderHelper");var i=t("CustomMaterial"),o=cc.Enum({}),s=cc.Class({extends:cc.Component,editor:!1,properties:{_shaderObject:null,program:{type:o,default:0,notify:function(t){this.program!==t&&this.applyShader()}}},__preload:function(){var t=i.getAllName();s.ShaderEnum=i.getShaderEnum(),cc.Class.Attr.setClassAttr(s,"program","enumList",t)},onLoad:function(){this.sprite=this.getComponent(cc.Sprite),this.applyShader()},update:function(t){this._shaderObject&&this._shaderObject.update&&this._shaderObject.update(this.sprite,this.material,t)},applyShader:function(){this._shaderObject=i.getShaderByIndex(this.program);var t=this.sprite,e=this._shaderObject.params,n=this._shaderObject.defines,o=t.getMaterial(this._shaderObject.name);o||(o=new i(this._shaderObject.name,e,n||[]),t.setMaterial(this._shaderObject.name,o)),this.material=o,t.activateMaterial(this._shaderObject.name),e&&e.forEach(function(t){void 0!==t.defaultValue&&o.setParamValue(t.name,t.defaultValue)}),this._shaderObject.start&&this._shaderObject.start(t,o)}});e.exports=s,cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],ShaderHook:[function(t,e,n){"use strict";cc._RF.push(e,"3bc68h6GStJ95xAZoCLunIh","ShaderHook");var i=cc.renderer.renderEngine,o=i.SpriteMaterial,s=i.GraySpriteMaterial;cc.Sprite.prototype.getMaterial=function(t){return this._materials?this._materials[t]:void 0},cc.Sprite.prototype.setMaterial=function(t,e){this._materials||(this._materials={}),this._materials[t]=e},cc.Sprite.prototype.activateMaterial=function(t){var e=this.getMaterial(t);e&&e!==this._currMaterial&&e&&(this.node&&(e.color=this.node.color),this.spriteFrame&&(e.texture=this.spriteFrame.getTexture()),this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR,this._currMaterial=e,this._currMaterial.name=t,this._state=101,this._activateMaterial())},cc.Sprite.prototype.getCurrMaterial=function(){if(101===this._state)return this._currMaterial},cc.Sprite.prototype._activateMaterial=function(){var t=this._spriteFrame;if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){var e=void 0;if(this._state===cc.Sprite.State.GRAY)this._graySpriteMaterial||(this._graySpriteMaterial=new s,this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR),e=this._graySpriteMaterial,this._currMaterial=null;else if(101===this._state){if(!this._currMaterial)return;e=this._currMaterial}else this._spriteMaterial||(this._spriteMaterial=new o,this.node._renderFlag|=cc.RenderFlow.FLAG_COLOR),e=this._spriteMaterial,this._currMaterial=null;if(t&&t.textureLoaded()){var n=t.getTexture();e.texture!==n?(e.texture=n,this._updateMaterial(e)):e!==this._material&&this._updateMaterial(e),this._renderData&&(this._renderData.material=e),this.markForUpdateRenderData(!0),this.markForRender(!0)}else this.disableRender()}},cc._RF.pop()},{}],StringHelper:[function(t,e,n){"use strict";cc._RF.push(e,"66056dMFVNCUKum45ZN8vKk","StringHelper");var i=e.exports,o=t("MD5");i.filterString=function(t){return t=(t=(t=t.replace(/\s+/g,"")).replace(/\"/g,"")).replace(/\'/g,"")},i._filterStrict=function(t){var e="";return _.map(t,function(t){return e+=/[a-zA-Z0-9]/.test(t)||/[\u4e00-\u9fa5]/.test(t)?t:"*"}),e},i.pickString=function(t,e,n){if(cc.log("logic.pickString:"+t),!_.isString(t))return"";var i=_.isNumber(e)?e:t.indexOf(e)+1,o=_.isNumber(n)?n:t.indexOf(n);return-1==i||-1==o||i>=t.length||i>=o?null:t.substring(i,o)},i.pickStringAndCheck=function(t,e,n,i,o,s){cc.log("logic.pickString:"+t);var r=StringHelper.pickString(t,n,i);if(-1!=r.indexOf(e)){var a=StringHelper.pickString(t,o,s);return null!=a&&a}if(r!=e)return!1},i.sliceString=function(t,e){new Array;return t.split(e)},i.addPreZero=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n="";return _.times(e,function(){n+="0"}),(n+t).slice(-1*e)},i.addEndZero=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n="";return _.times(e,function(){n+="0"}),(t+n).slice(e)},i.getValueComma=function(t){var e=""+t;return e=e.split("").reverse().join("").replace(/(\d{3})/g,"$1,").replace(/\,$/,"").split("").reverse().join("")},e.exports.getValueEnglish=function(t){if(0===t)return"0";return t>=999999999?Math.floor(t/1e7)/100+"b":t>99999?Math.floor(t/100)/1e3+"m":t>999?Math.floor(t/100)/10+"k":t},e.exports.getValueChinese=function(t){if(0===t)return"0";var e=1e8;return t>=e?Math.floor(t/1e6)/100+$G.gStrings.Hall.billons:t>=(e=1e8)?Math.floor(t/1e4)+$G.gStrings.Hall.tenThousand:t>=1e6?Math.floor(t/1e3)/10+$G.gStrings.Hall.tenThousand:t>=1e5?Math.floor(t/100)/100+$G.gStrings.Hall.tenThousand:t>9999?Math.floor(t/100)/100+$G.gStrings.Hall.tenThousand:t},e.exports.pickNumbers=function(t){return _.reduce(_.filter(t,function(t){return!_.isNaN(parseInt(t))}),function(t,e){return t+e},"")},i.floatFloor=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return e+=1,-1==(t=t.toString()).indexOf(".")?t:t.substring(0,t.indexOf(".")+e)},e.exports.pickNick=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return t.length<=e?t:t.slice(0,e)+"..."},i.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var i=0;i<n;i++){var o=parseInt(t[i]),s=parseInt(e[i]);if(o>s)return 1;if(o<s)return-1}return 0},i.getSignByParams=function(t){var e="",n=_.map(t,function(t,e){var n={};return n.k=e,n.v=t,n}),o=_.sortBy(n,"k");_.each(o,function(t){"sign"!=t.k&&(e=e+t.k+"="+t.v)});var s=new Date;s.setTime(_.now());var r=s.getFullYear(),a=s.getMonth()+1,c=s.getDate(),l=r+""+i.PrefixInteger(a,2)+i.PrefixInteger(c,2);return e=e+"GAME"+l},i.getSignByParamsMd5=function(t){var e=i.getSignByParams(t);cc.log("\u52a0\u5bc6\u524dsign",e);var n=o.hex_md5_32bit(i.utf8(e));return cc.log("\u52a0\u5bc6\u540eMD5Sign",n),n},i.PrefixInteger=function(t,e){return(Array(e).join(0)+t).slice(-e)},i.utf8=function(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):i<65536?(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>18|240),e+=String.fromCharCode(i>>12&63|128),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},cc._RF.pop()},{MD5:"MD5"}],SubMove_Plane:[function(t,e,n){"use strict";cc._RF.push(e,"d375duyQz9KsLLksqXAIUgg","SubMove_Plane"),cc.Class({extends:t("ComMoveMaster"),properties:{},updateCb:function(t){}}),cc._RF.pop()},{ComMoveMaster:"ComMoveMaster"}],TexHelper:[function(t,e,n){"use strict";cc._RF.push(e,"236c5yvlndFH4JBj5vcbmqE","TexHelper");e.exports._getSF=function(t){var e=cc.url.raw(t),n=cc.textureCache.addImage(e);return new cc.SpriteFrame(n)},e.exports.setSpriteByUrl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"jpg";arguments.length>4&&void 0!==arguments[4]&&arguments[4];""!==e&&null!=e?cc.loader.load({url:e,type:i},function(e,i){var o=new cc.SpriteFrame(i);t.spriteFrame=o,n&&n()}):n&&n()},cc._RF.pop()},{}],TimeHelper:[function(t,e,n){"use strict";cc._RF.push(e,"9bd24q0em5CzJwX2IYC/9y1","TimeHelper"),e.exports.getSTime=function(){return e.exports.getCTime()-($G.gCData.gTimeOffsetWithServer?$G.gCData.gTimeOffsetWithServer:0)},e.exports.getSTimeHM=function(){return e.exports.getHourMinute(e.exports.getSTime())},e.exports.getCTimeHM=function(){return e.exports.getHourMinute(e.exports.getCTime())},e.exports.getCTime=function(){return Date.now()},e.exports.s_to_hs=function(t){var e;return e=Math.floor(t/60),t%=60,t+="",(e=1==(e+="").length?"0"+e:e)+":"+(t=1==t.length?"0"+t:t)},e.exports.formatTimeByString=function(t){return t=t.replace(/-/g,"/"),e.exports.getFullDate(new Date(t))},e.exports.getHourMinute=function(t){var n=new Date;return n.setTime(t),e.exports._formatZero(n.getHours())+":"+e.exports._formatZero(n.getMinutes())},e.exports._formatZero=function(t){return 1===(t+="").length?"0"+t:t},e.exports.parseSTime=function(t){var n=t.split("-");return _.each(n,function(t,i){n[i]=e.exports._formatZero(t)}),n},e.exports.getDate=function(t){var e=new Date;return e.setTime(t),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.exports.getFullDate=function(t){var n=new Date;n.setTime(t);var i=n.getFullYear()+"-"+e.exports._formatZero(n.getMonth()+1)+"-"+e.exports._formatZero(n.getDate());return i+="  ",i+=e.exports._formatZero(n.getHours())+":"+e.exports._formatZero(n.getMinutes())},e.exports.getDateHourMinute=function(t){var n=new Date;return n.setTime(t),e.exports._formatZero(n.getMonth()+1)+"-"+e.exports._formatZero(n.getDate())+" "+e.exports.getHourMinute(t)},cc._RF.pop()},{}],Transfer:[function(t,e,n){"use strict";cc._RF.push(e,"46ef6PKtYpElYIgaloh0LX2","Transfer");var i={name:"Transfer",params:[{name:"time",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT,defaultValue:0}],time:0,update:function(t,e){this.time+=.005,this.time>1&&(this.time=0),cc.log(this.time),e.setParamValue("time",this.time)},defines:[],vert:"\n        uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }",frag:"\n        uniform sampler2D texture;\n        uniform vec4 color;\n        uniform float time;\n        varying vec2 uv0;\n        \n        void main()\n        {\n            vec4 c = color * texture2D(texture, uv0);\n            gl_FragColor = c;\n    \n            float temp = uv0.x - time;\n            if (temp <= 0.0) {\n                float temp2 = abs(temp);\n                if (temp2 <= 0.2) {\n                    gl_FragColor.w = 1.0 - temp2/0.2;\n                } else {\n                    gl_FragColor.w = 0.0;\n                }\n            } else {\n                gl_FragColor.w = 1.0;\n            }\n        }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],UnfoldTransfer:[function(t,e,n){"use strict";cc._RF.push(e,"a7f27MWyUBHnqe7FjK9LfOP","UnfoldTransfer");var i={name:"UnfoldTransfer",params:[{name:"time",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT,defaultValue:0}],time:0,flag:1,update:function(t,e){1==this.flag&&(this.time+=.01,cc.log(this.time),this.time>=1&&(this.flag=0,this.time=.9999),e.setParamValue("time",this.time))},defines:[],vert:"\n        uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }",frag:"\n        uniform sampler2D texture;\n        uniform vec4 color;\n        uniform float time;\n        varying vec2 uv0;\n        \n        void main()\n        {\n            vec4 result = vec4(1.0,1.0,1.0,1.0);\n            vec2 translate = vec2(uv0.x,uv0.y);\n            result = texture2D(texture, uv0);\n            \n            // Calculate modulo to decide even and odd row\n            float div = 2.0;\n            float num = floor(uv0.y * 10.0);\n            float odd = num - (div * floor(num/div));\n            \n            float t = mod(time,1.0);\n            \n            //Only do the odd number\n            if( odd == 0.0){\n                translate.x = translate.x - t;        \n                result = texture2D(texture,translate);\n                if(translate.x < 0.0){\n                    result.w = 0.0;\n                }\n            }\n            else{\n                translate.x = translate.x + t;        \n                result = texture2D(texture,translate);\n                if(translate.x > 1.0){\n                    result.w = 0.0;\n                }\n            }\n            \n            // Output to screen\n            gl_FragColor = result;\n        }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],UserHandler:[function(t,e,n){"use strict";cc._RF.push(e,"589acavYgVFvaeuP2XDWChc","UserHandler");var i=e.exports;i.setData=function(t){$G.gSData.gCData=t},i.getData=function(){return $G.gSData.gCData},i.setState=function(t){i.getData()&&(i.getData().state=t)},i.getState=function(){return i.getData().state},i.setWXCode=function(t){i.getData()&&(i.getData().wxCode=t)},i.getWXCode=function(){return i.getData().wxCode},i.setOpenid=function(t){i.getData()&&(i.getData().openid=t)},i.getOpenid=function(){return i.getData().openid},i.setToken=function(t){i.getData()&&(i.getData().token=t)},i.getToken=function(){return i.getData().token},i.setUserId=function(t){i.getData()&&(i.getData().userId=t)},i.getUserId=function(){return i.getData().userId},i.setChallengeCard=function(t){i.getData()&&(i.getData().challengeCard=t)},i.getChallengeCard=function(){return i.getData().challengeCard?i.getData().challengeCard:0},i.setRedNum=function(t){i.getData()&&(i.getData().redNum=t)},i.getRedNum=function(){return i.getData().redNum?i.getData().redNum:0},i.setIsVideo=function(t){i.getData()&&(i.getData().isVideo=t)},i.isVideo=function(){return 1==i.getData().isVideo},i.setIsShare=function(t){i.getData()&&(i.getData().isShare=t)},i.isShare=function(){return 1==i.getData().isShare},i.setShareSwitch=function(t){i.getData()&&(i.getData().share_switch=t)},i.setCQllswitch=function(t){i.getData()&&(i.getData().cqll_switch=t)},i.getCQllswitch=function(){return!(!i.getData()||"on"!=i.getData().cqll_switch)},i.setServerVersion=function(t){i.getData()&&(i.getData().server_version=t)},i.getServerVersion=function(){return i.getData().server_version?i.getData().server_version:"0"},i.getShareSwitch=function(){return!(i.getData()&&StringHelper.compareVersion(Configs.Version,i.getServerVersion())>0)},i.setGold=function(t){i.getData()&&(i.getData().gold=t)},i.getGold=function(){return i.getData().gold},i.setDailyGold=function(t){i.getData()&&(i.getData().dailyGold=t)},i.getDailyGold=function(){return i.getData().dailyGold},cc._RF.pop()},{}],UserServer:[function(t,e,n){"use strict";cc._RF.push(e,"ef1dcP/frpE6Kz5iBBfgeOw","UserServer");var i=t("MD5"),o=e.exports;o.login=function(t,e,n){PlatformHelper.checkSession(function(){t&&t()},function(){o._login(t,e,n)})},o.reLogin=function(t,e,n,i){o._login(t,n,i)},o.getChallengeScoreInfo=function(t,e,n,i){HttpRouters.RqRank.getChallengeScoreInfo.params.date_type=t,o._requestPostWX(HttpRouters.RqRank.getChallengeScoreInfo,function(t){200==t.code&&e&&e(t)},function(){n&&n()},function(){i&&i()})},o.getUserInfo=function(t,e,n){o._requestPostWX(HttpRouters.RqLogin.getUserInfo,function(e){200==e.code&&(cc.log(e),t&&t(e))},function(){e&&e()},function(){n&&n()})},o.getScoreInfo=function(t,e,n){o._requestPostWX(HttpRouters.RqRank.getScoreInfo,function(e){200==e.code&&t&&t(e)},function(){e&&e()},function(){n&&n()})},o.saveScoreInfo=function(t,e,n,i,s,r){HttpRouters.RqSend.saveScoreInfo.params.nickname=t,HttpRouters.RqSend.saveScoreInfo.params.head_portrait=e,HttpRouters.RqSend.saveScoreInfo.params.score=n,o._requestPostWX(HttpRouters.RqSend.saveScoreInfo,function(t){200==t.code&&i&&i(t)},function(){s&&s()},function(){r&&r()})},o.saveChallengeScore=function(t,e,n,s){var r="user_id="+UserHandler.getUserId()+"score="+t+"token="+UserHandler.getToken();r=i.hex_md5_32bit(r),HttpRouters.RqSend.saveChallengeScore.params.score=t,HttpRouters.RqSend.saveChallengeScore.params.token=r,HttpRouters.RqSend.saveChallengeScore.params.user_id=UserHandler.getUserId(),o._requestPostWX(HttpRouters.RqSend.saveChallengeScore,function(t){200==t.code&&e&&e(t)},function(){n&&n()},function(){s&&s()})},o.getChallengeCardNums=function(t,e,n){o._requestPostWX(HttpRouters.RqSend.getChallengeCardNums,function(e){200==e.code&&(UserHandler.setChallengeCard(e.data.challenge_card),UserHandler.setRedNum(e.data.red_num),UserHandler.setIsVideo(e.data.is_video),UserHandler.setIsShare(e.data.is_share),UserHandler.setShareSwitch(e.data.share_switch),UserHandler.setCQllswitch(e.data.cqll_switch),UserHandler.setServerVersion(e.data.server_version?e.data.server_version:"0"),t&&t(e))},function(){e&&e()},function(){n&&n()})},o.applyChallenge=function(t,e,n){o._requestPostWX(HttpRouters.RqSend.applyChallenge,function(e){200==e.code&&(cc.log("\u6311\u6218\u62a5\u540d",e),UserHandler.setToken(e.data.token),UserHandler.setUserId(e.data.user_id),t&&t(e))},function(){e&&e()},function(){n&&n()})},o.addChallengeCardNums=function(t,e,n,i){HttpRouters.RqSend.addChallengeCardNums.params.card_type=t,o._requestPostWX(HttpRouters.RqSend.addChallengeCardNums,function(t){200==t.code&&(UserHandler.setChallengeCard(t.data.challenge_card),UserHandler.setIsVideo(t.data.is_video),UserHandler.setIsShare(t.data.is_share),e&&e(t))},function(){n&&n()},function(){i&&i()})},o.getRedPacket=function(t,e,n){o._requestPostWX(HttpRouters.RqRedPacket.getRedPacket,function(e){200==e.code&&t&&t(e.data)},function(){e&&e()},function(){n&&n()})},o._login=function(t,e,n){PlatformHelper.login(function(i){HttpRouters.RqLogin.fkBallLogin.params.code=i,HttpRouters.RqLogin.fkBallLogin.params.type=6,HttpRouters.RqLogin.fkBallLogin.params.sign=StringHelper.getSignByParamsMd5(HttpRouters.RqLogin.fkBallLogin.params),cc.log("code",i),cc.log("params",HttpRouters.RqLogin.fkBallLogin.params),HttpServer.requestPostWX(HttpRouters.RqLogin.fkBallLogin,function(e){200==e.code&&(UserHandler.setWXCode(i),UserHandler.setOpenid(e.data),gLocalData.userInfo.wxCode=i,gLocalData.userInfo.openid=e.data,DataHelper.saveAllData(),t&&t())},function(){e&&e()},function(){n&&n()})},function(){n&&n()})},o._requestPostWX=function(t,e,n,i){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];cc.log("router",t),!gLocalData.userInfo.openid||gLocalData.userInfo.openid.length<=0?o.reLogin(function(){o._requestPostWX(t,e,n,i,!1)}):(t.params.type=6,t.params.openid=gLocalData.userInfo.openid?gLocalData.userInfo.openid:"000",t.params.sign=StringHelper.getSignByParamsMd5(t.params),HttpServer.requestPostWX(t,function(r){if(200==r.code)e&&e(r);else if(404==r.code){if(!s)return;o.reLogin(function(){o._requestPostWX(t,e,n,i,!1)})}},function(){n&&n()},function(){i&&i()}))},cc._RF.pop()},{MD5:"MD5"}],WXAudioHelper:[function(t,e,n){"use strict";cc._RF.push(e,"79decJLqyhPh7G5KhlkbLt9","WXAudioHelper");var i="audios",o={bg:i+"/bg.mp3",addNum:i+"/addNum.mp3",fire:i+"/fire.mp3",hit:i+"/hit.mp3",floor:i+"/floor.mp3"};e.exports.audioVolume=.5,e.exports.loadMusics=function(t){var n=0;_.each(o,function(i,s){CCLoaderHelper.getRes(i,cc.AudioClip,function(i,r){++n>=_.size(o)&&t&&t(),e.exports[s]=r})})},e.exports.resumeAll=function(){cc.log("Audio resumeAll "),cc.audioEngine.resumeAll()},e.exports.pauseAll=function(){cc.log("Audio pauseAll "),cc.audioEngine.pauseAll()},e.exports.stopMusic=function(){cc.audioEngine.stopMusic()},e.exports.pauseMusic=function(){cc.audioEngine.pauseMusic()},e.exports.resumeMusic=function(){gLocalData.sysInfo.shouldMusic&&cc.audioEngine.resumeMusic()},e.exports.playButton=function(){},e.exports._playEffect=function(t){this.audio||(this.audio=new Audio),this.audio.src=e.exports[t].nativeUrl,this.audio.play()},e.exports._stopEffect=function(t){this.audio.stop()},e.exports._playMusic=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(gLocalData.sysInfo.shouldMusic&&e.exports[t]){var i=cc.audioEngine.playMusic(e.exports[t],n);return cc.audioEngine.setVolume(i,e.exports.audioVolume),gLocalData.sysInfo.shouldMusic||e.exports.pauseMusic(),i}},e.exports._playMusicWithoutLoop=function(t,n){var i=e.exports._playMusic(t,!1);i&&n&&cc.audioEngine.setFinishCallback(i,n)},cc._RF.pop()},{}],Water:[function(t,e,n){"use strict";cc._RF.push(e,"fcf05ufRg1Bya/11H4SLDIY","Water");var i=cc.renderer.renderEngine.renderer,o={name:"Water",params:[{name:"iResolution",type:i.PARAM_FLOAT3},{name:"iTime",type:i.PARAM_FLOAT}],defines:[],start:function(t,e){var n=new cc.Vec3(t.node.width,t.node.height,0);e.setParamValue("iResolution",n),this._start=Date.now()},update:function(t,e){var n=(Date.now()-this._start)/500;e.setParamValue("iTime",n)},vert:"uniform mat4 viewProj;\n        attribute vec3 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n        void main () {\n            vec4 pos = viewProj * vec4(a_position, 1);\n            gl_Position = pos;\n            uv0 = a_uv0;\n        }\n        ",frag:"uniform sampler2D texture;\n    uniform vec3 iResolution;\n    uniform float iTime;\n    varying vec2 uv0;\n\n    #define F cos(x-y)*cos(y),sin(x+y)*sin(y)\n\n    vec2 s(vec2 p)\n    {\n        float d=iTime*0.2,x=8.*(p.x+d),y=8.*(p.y+d);\n        return vec2(F);\n    }\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n    {\n        // \u6362\u6210resolution\n        vec2 rs = iResolution.xy;\n        // \u6362\u6210\u7eb9\u7406\u5750\u6807v_texCoord.xy\n        vec2 uv = fragCoord;\n        vec2 q = uv+2./iResolution.x*(s(uv)-s(uv+rs));\n        //\u53cd\u8f6cy\n        //q.y=1.-q.y;\n        fragColor = texture2D(texture, q);\n    }\n    void main()\n    {\n        mainImage(gl_FragColor, uv0.xy);\n    }"};t("CustomMaterial").addShader(o),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],WaveShader:[function(t,e,n){"use strict";cc._RF.push(e,"77e51BIsWtKfplwEnyYfTAz","WaveShader");var i=cc.renderer.renderEngine.renderer,o={name:"wave",params:[{name:"iTime",type:i.PARAM_FLOAT},{name:"iOffset",type:i.PARAM_FLOAT2}],defines:[],start:function(t,e){e.setParamValue("iOffset",new cc.Vec2(.016,.03)),this._start=Date.now()},update:function(t,e){var n=(Date.now()-this._start)/1e3;e.setParamValue("iTime",n)},vert:"uniform mat4 viewProj;\n        attribute vec4 a_position;\n        attribute vec2 a_uv0;\n        varying vec2 uv0;\n\n        void main()\n        {\n            gl_Position = viewProj * a_position;\n            uv0 = a_uv0;\n        }\n        ",frag:"\n        uniform sampler2D texture;\n        uniform vec3 iResolution;\n        uniform float iTime;\n        uniform vec2 iOffset;\n        varying vec2 uv0;\n        \n        void main() {\n            vec2 coord = uv0;\n            coord.x += (sin(coord.y * 30.0 + iTime * 3.0) / 30.0 * iOffset[0]);\n            coord.y += (sin(coord.x * 30.0 + iTime * 3.0) / 30.0 * iOffset[1]);\n            gl_FragColor = texture2D(texture, coord);\n        }"};t("CustomMaterial").addShader(o),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],WindowTransfer:[function(t,e,n){"use strict";cc._RF.push(e,"04560TL2wZGMosxt4z5vXsN","WindowTransfer");var i={name:"WindowTransfer",params:[{name:"time",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT,defaultValue:0}],time:2,update:function(t,e){this.time<4&&(this.time+=.02,e.setParamValue("time",this.time))},defines:[],vert:"\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",frag:"\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    uniform float time;\n\n\n    void main()\n    {\n\n        float dur = 2.;\n        float dim = 7.;\n        vec2 v = uv0;\n        v.y=1.-v.y;\n        vec2 x = mod(1.-v.xx, 1./dim)+floor(v*dim)/dim;\n        float a = .5*(abs(x.x)+abs(x.y));\n        float b = fract(time/dur);\n        a=a>b?0.:1.;\n        bool mt = mod(floor(time/dur),2.)==0.;\n        float cd = a;\n        if (mt)\n        {\n            cd=1.-cd;    \n        }\n        vec4 colore = vec4(0.5,0.2,0.3, 0.01);\n        gl_FragColor = mix(vec4(a),(mix(texture2D(texture, uv0), colore, cd)), 1.);\n\n    }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],XXTea:[function(t,e,n){"use strict";function i(t,e){var n=t.length,i=n-1<<2;if(e){var o=t[n-1];if(o<i-3||o>i)return null;i=o}for(var s=0;s<n;s++)t[s]=String.fromCharCode(255&t[s],t[s]>>>8&255,t[s]>>>16&255,t[s]>>>24&255);return e?t.join("").substring(0,i):t.join("")}function o(t,e){for(var n=t.length,i=[],o=0;o<n;o+=4)i[o>>2]=t.charCodeAt(o)|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2)<<16|t.charCodeAt(o+3)<<24;return e&&(i[i.length]=n),i}cc._RF.push(e,"a1164uRvjlKi6kGERC9hEtF","XXTea"),e.exports={encrypt:function(t,e){if(""==t)return"";var n=o(t,!0),s=o(e,!1);s.length<4&&(s.length=4);for(var r,a,c,l=n.length-1,u=n[l],h=n[0],d=Math.floor(6+52/(l+1)),p=0;0<d--;){for(a=(p=p+2654435769&4294967295)>>>2&3,c=0;c<l;c++)r=(u>>>5^(h=n[c+1])<<2)+(h>>>3^u<<4)^(p^h)+(s[3&c^a]^u),u=n[c]=n[c]+r&4294967295;r=(u>>>5^(h=n[0])<<2)+(h>>>3^u<<4)^(p^h)+(s[3&c^a]^u),u=n[l]=n[l]+r&4294967295}return i(n,!1)},decrypt:function(t,e){if(""==t)return"";var n=o(t,!1),s=o(e,!1);s.length<4&&(s.length=4);for(var r,a,c,l=n.length-1,u=n[l-1],h=n[0],d=2654435769*Math.floor(6+52/(l+1))&4294967295;0!=d;){for(a=d>>>2&3,c=l;c>0;c--)r=((u=n[c-1])>>>5^h<<2)+(h>>>3^u<<4)^(d^h)+(s[3&c^a]^u),h=n[c]=n[c]-r&4294967295;r=((u=n[l])>>>5^h<<2)+(h>>>3^u<<4)^(d^h)+(s[3&c^a]^u),h=n[0]=n[0]-r&4294967295,d=d-2654435769&4294967295}return i(n,!0)}},cc._RF.pop()},{}],ZoomBlurTransfer:[function(t,e,n){"use strict";cc._RF.push(e,"f3f4b2e/zVCdZQqFsFgz5Jq","ZoomBlurTransfer");var i={name:"ZoomBlurTransfer",params:[{name:"time",type:cc.renderer.renderEngine.renderer.PARAM_FLOAT,defaultValue:0}],time:10,update:function(t,e){this.time<14&&(this.time=this.time+.05),e.setParamValue("time",this.time)},defines:[],vert:"\n    uniform mat4 viewProj;\n    attribute vec3 a_position;\n    attribute vec2 a_uv0;\n    varying vec2 uv0;\n    void main () {\n        vec4 pos = viewProj * vec4(a_position, 1);\n        gl_Position = pos;\n        uv0 = a_uv0;\n    }",frag:"\n    uniform sampler2D texture;\n    uniform vec4 color;\n    varying vec2 uv0;\n    uniform float time;\n\n    const float strength = 0.3;\n    const float PI = 3.141592653589793;\n\n    float Linear_ease(in float begin, in float change, in float duration, in float time) {\n        return change * time / duration + begin;\n    }\n\n    float Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n        if (time == 0.0)\n            return begin;\n        else if (time == duration)\n            return begin + change;\n        time = time / (duration / 2.0);\n        if (time < 1.0)\n             return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n        return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n    }\n\n    float Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n        return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n    }\n\n    float random(in vec3 scale, in float seed) {\n        return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n    }\n\n    vec4 crossFade(in vec2 uv, in float dissolve) {\n        vec4 colore = vec4(0.0,0.0,0.0,0.0);\n        return mix(texture2D(texture, uv), colore, dissolve);\n    }\n\n    void main()\n    {\n        float progress = sin(time*0.5) * 0.5 + 0.5;\n        vec2 center = vec2(Linear_ease(0.5, 0.0, 1.0, progress),0.5);\n        float dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n    \n        float strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n    \n        vec4 colorx = vec4(0.0);\n        float total = 0.0;\n        vec2 toCenter = center - uv0;\n\n        float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0)*0.5;\n    \n        for (float t = 0.0; t <= 20.0; t++) {\n            float percent = (t + offset) / 20.0;\n            float weight = 1.0 * (percent - percent * percent);\n            colorx += crossFade(uv0 + toCenter * percent * strength, dissolve) * weight;\n            total += weight;\n        }\n        gl_FragColor = colorx / total;\n    }"};t("CustomMaterial").addShader(i),cc._RF.pop()},{CustomMaterial:"CustomMaterial"}],underscore:[function(t,e,n){"use strict";cc._RF.push(e,"2c3bb7DKxxFY62YbuvdDkVq","underscore");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){var t=n,o=t._,s=Array.prototype,r=Object.prototype,a=Function.prototype,c=s.push,l=s.slice,u=r.toString,h=r.hasOwnProperty,d=Array.isArray,p=Object.keys,g=a.bind,f=Object.create,m=function(){},v=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};e.exports=v,v.VERSION="1.8.3";var _=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,s){return t.call(e,n,i,o,s)}}return function(){return t.apply(e,arguments)}},C=function(t,e,n){return null==t?v.identity:v.isFunction(t)?_(t,e,n):v.isObject(t)?v.matcher(t):v.property(t)};v.iteratee=function(t,e){return C(t,e,1/0)};var b=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var s=arguments[o],r=t(s),a=r.length,c=0;c<a;c++){var l=r[c];e&&void 0!==n[l]||(n[l]=s[l])}return n}},S=function(t){if(!v.isObject(t))return{};if(f)return f(t);m.prototype=t;var e=new m;return m.prototype=null,e},P=function(t){return function(e){return null==e?void 0:e[t]}},y=Math.pow(2,53)-1,A=P("length"),x=function(t){var e=A(t);return"number"==typeof e&&e>=0&&e<=y};function T(t){return function(e,n,i,o){n=_(n,o,4);var s=!x(e)&&v.keys(e),r=(s||e).length,a=t>0?0:r-1;return arguments.length<3&&(i=e[s?s[a]:a],a+=t),function(e,n,i,o,s,r){for(;s>=0&&s<r;s+=t){var a=o?o[s]:s;i=n(i,e[a],a,e)}return i}(e,n,i,s,a,r)}}v.each=v.forEach=function(t,e,n){var i,o;if(e=_(e,n),x(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var s=v.keys(t);for(i=0,o=s.length;i<o;i++)e(t[s[i]],s[i],t)}return t},v.map=v.collect=function(t,e,n){e=C(e,n);for(var i=!x(t)&&v.keys(t),o=(i||t).length,s=Array(o),r=0;r<o;r++){var a=i?i[r]:r;s[r]=e(t[a],a,t)}return s},v.reduce=v.foldl=v.inject=T(1),v.reduceRight=v.foldr=T(-1),v.find=v.detect=function(t,e,n){var i;if(void 0!==(i=x(t)?v.findIndex(t,e,n):v.findKey(t,e,n))&&-1!==i)return t[i]},v.filter=v.select=function(t,e,n){var i=[];return e=C(e,n),v.each(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i},v.reject=function(t,e,n){return v.filter(t,v.negate(C(e)),n)},v.every=v.all=function(t,e,n){e=C(e,n);for(var i=!x(t)&&v.keys(t),o=(i||t).length,s=0;s<o;s++){var r=i?i[s]:s;if(!e(t[r],r,t))return!1}return!0},v.some=v.any=function(t,e,n){e=C(e,n);for(var i=!x(t)&&v.keys(t),o=(i||t).length,s=0;s<o;s++){var r=i?i[s]:s;if(e(t[r],r,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,i){return x(t)||(t=v.values(t)),("number"!=typeof n||i)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=function(t,e){var n=l.call(arguments,2),i=v.isFunction(e);return v.map(t,function(t){var o=i?e:t[e];return null==o?o:o.apply(t,n)})},v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var i,o,s=-1/0,r=-1/0;if(null==e&&null!=t)for(var a=0,c=(t=x(t)?t:v.values(t)).length;a<c;a++)(i=t[a])>s&&(s=i);else e=C(e,n),v.each(t,function(t,n,i){((o=e(t,n,i))>r||o===-1/0&&s===-1/0)&&(s=t,r=o)});return s},v.min=function(t,e,n){var i,o,s=1/0,r=1/0;if(null==e&&null!=t)for(var a=0,c=(t=x(t)?t:v.values(t)).length;a<c;a++)(i=t[a])<s&&(s=i);else e=C(e,n),v.each(t,function(t,n,i){((o=e(t,n,i))<r||o===1/0&&s===1/0)&&(s=t,r=o)});return s},v.shuffle=function(t){for(var e,n=x(t)?t:v.values(t),i=n.length,o=Array(i),s=0;s<i;s++)(e=v.random(0,s))!==s&&(o[s]=o[e]),o[e]=n[s];return o},v.sample=function(t,e,n){return null==e||n?(x(t)||(t=v.values(t)),t[v.random(t.length-1)]):v.shuffle(t).slice(0,Math.max(0,e))},v.sortBy=function(t,e,n){return e=C(e,n),v.pluck(v.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var B=function(t){return function(e,n,i){var o={};return n=C(n,i),v.each(e,function(i,s){var r=n(i,s,e);t(o,i,r)}),o}};v.groupBy=B(function(t,e,n){v.has(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=B(function(t,e,n){t[n]=e}),v.countBy=B(function(t,e,n){v.has(t,n)?t[n]++:t[n]=1}),v.toArray=function(t){return t?v.isArray(t)?l.call(t):x(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:x(t)?t.length:v.keys(t).length},v.partition=function(t,e,n){e=C(e,n);var i=[],o=[];return v.each(t,function(t,n,s){(e(t,n,s)?i:o).push(t)}),[i,o]},v.first=v.head=v.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,v.identity)};var D=function t(e,n,i,o){for(var s=[],r=0,a=o||0,c=A(e);a<c;a++){var l=e[a];if(x(l)&&(v.isArray(l)||v.isArguments(l))){n||(l=t(l,n,i));var u=0,h=l.length;for(s.length+=h;u<h;)s[r++]=l[u++]}else i||(s[r++]=l)}return s};function N(t){return function(e,n,i){n=C(n,i);for(var o=A(e),s=t>0?0:o-1;s>=0&&s<o;s+=t)if(n(e[s],s,e))return s;return-1}}function R(t,e,n){return function(i,o,s){var r=0,a=A(i);if("number"==typeof s)t>0?r=s>=0?s:Math.max(s+a,r):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return i[s=n(i,o)]===o?s:-1;if(o!=o)return(s=e(l.call(i,r,a),v.isNaN))>=0?s+r:-1;for(s=t>0?r:a-1;s>=0&&s<a;s+=t)if(i[s]===o)return s;return-1}}v.flatten=function(t,e){return D(t,e,!1)},v.without=function(t){return v.difference(t,l.call(arguments,1))},v.uniq=v.unique=function(t,e,n,i){v.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=C(n,i));for(var o=[],s=[],r=0,a=A(t);r<a;r++){var c=t[r],l=n?n(c,r,t):c;e?(r&&s===l||o.push(c),s=l):n?v.contains(s,l)||(s.push(l),o.push(c)):v.contains(o,c)||o.push(c)}return o},v.union=function(){return v.uniq(D(arguments,!0,!0))},v.intersection=function(t){for(var e=[],n=arguments.length,i=0,o=A(t);i<o;i++){var s=t[i];if(!v.contains(e,s)){for(var r=1;r<n&&v.contains(arguments[r],s);r++);r===n&&e.push(s)}}return e},v.difference=function(t){var e=D(arguments,!0,!0,1);return v.filter(t,function(t){return!v.contains(e,t)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(t){for(var e=t&&v.max(t,A).length||0,n=Array(e),i=0;i<e;i++)n[i]=v.pluck(t,i);return n},v.object=function(t,e){for(var n={},i=0,o=A(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},v.findIndex=N(1),v.findLastIndex=N(-1),v.sortedIndex=function(t,e,n,i){for(var o=(n=C(n,i,1))(e),s=0,r=A(t);s<r;){var a=Math.floor((s+r)/2);n(t[a])<o?s=a+1:r=a}return s},v.indexOf=R(1,v.findIndex,v.sortedIndex),v.lastIndexOf=R(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),s=0;s<i;s++,t+=n)o[s]=t;return o};var I=function(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var s=S(t.prototype),r=t.apply(s,o);return v.isObject(r)?r:s};v.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,l.call(arguments,1));if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2);return function i(){return I(t,i,e,this,n.concat(l.call(arguments)))}},v.partial=function(t){var e=l.call(arguments,1);return function n(){for(var i=0,o=e.length,s=Array(o),r=0;r<o;r++)s[r]=e[r]===v?arguments[i++]:e[r];for(;i<arguments.length;)s.push(arguments[i++]);return I(t,n,this,this,s)}},v.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=v.bind(t[n],t);return t},v.memoize=function(t,e){var n=function n(i){var o=n.cache,s=""+(e?e.apply(this,arguments):i);return v.has(o,s)||(o[s]=t.apply(this,arguments)),o[s]};return n.cache={},n},v.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var i,o,s,r=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:v.now(),r=null,s=t.apply(i,o),r||(i=o=null)};return function(){var l=v.now();a||!1!==n.leading||(a=l);var u=e-(l-a);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),a=l,s=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,u)),s}},v.debounce=function(t,e,n){var i,o,s,r,a,c=function c(){var l=v.now()-r;l<e&&l>=0?i=setTimeout(c,e-l):(i=null,n||(a=t.apply(s,o),i||(s=o=null)))};return function(){s=this,o=arguments,r=v.now();var l=n&&!i;return i||(i=setTimeout(c,e)),l&&(a=t.apply(s,o),s=o=null),a}},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},v.once=v.partial(v.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function G(t,e){var n=L.length,i=t.constructor,o=v.isFunction(i)&&i.prototype||r,s="constructor";for(v.has(t,s)&&!v.contains(e,s)&&e.push(s);n--;)(s=L[n])in t&&t[s]!==o[s]&&!v.contains(e,s)&&e.push(s)}v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)v.has(t,n)&&e.push(n);return F&&G(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return F&&G(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i},v.mapObject=function(t,e,n){e=C(e,n);for(var i,o=v.keys(t),s=o.length,r={},a=0;a<s;a++)r[i=o[a]]=e(t[i],i,t);return r},v.pairs=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i},v.invert=function(t){for(var e={},n=v.keys(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()},v.extend=b(v.allKeys),v.extendOwn=v.assign=b(v.keys),v.findKey=function(t,e,n){e=C(e,n);for(var i,o=v.keys(t),s=0,r=o.length;s<r;s++)if(e(t[i=o[s]],i,t))return i},v.pick=function(t,e,n){var i,o,s={},r=t;if(null==r)return s;v.isFunction(e)?(o=v.allKeys(r),i=_(e,n)):(o=D(arguments,!1,!1,1),i=function(t,e,n){return e in n},r=Object(r));for(var a=0,c=o.length;a<c;a++){var l=o[a],u=r[l];i(u,l,r)&&(s[l]=u)}return s},v.omit=function(t,e,n){if(v.isFunction(e))e=v.negate(e);else{var i=v.map(D(arguments,!1,!1,1),String);e=function(t,e){return!v.contains(i,e)}}return v.pick(t,e,n)},v.defaults=b(v.allKeys,!0),v.create=function(t,e){var n=S(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),i=n.length;if(null==t)return!i;for(var o=Object(t),s=0;s<i;s++){var r=n[s];if(e[r]!==o[r]||!(r in o))return!1}return!0};v.isEqual=function(t,e){return function t(e,n,o,s){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof v&&(e=e._wrapped),n instanceof v&&(n=n._wrapped);var r=u.call(e);if(r!==u.call(n))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n}var a="[object Array]"===r;if(!a){if("object"!=(void 0===e?"undefined":i(e))||"object"!=(void 0===n?"undefined":i(n)))return!1;var c=e.constructor,l=n.constructor;if(c!==l&&!(v.isFunction(c)&&c instanceof c&&v.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}o=o||[],s=s||[];for(var h=o.length;h--;)if(o[h]===e)return s[h]===n;if(o.push(e),s.push(n),a){if((h=e.length)!==n.length)return!1;for(;h--;)if(!t(e[h],n[h],o,s))return!1}else{var d,p=v.keys(e);if(h=p.length,v.keys(n).length!==h)return!1;for(;h--;)if(d=p[h],!v.has(n,d)||!t(e[d],n[d],o,s))return!1}return o.pop(),s.pop(),!0}(t,e)},v.isEmpty=function(t){return null==t||(x(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=d||function(t){return"[object Array]"===u.call(t)},v.isObject=function(t){var e=void 0===t?"undefined":i(t);return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){v["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return v.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":i(Int8Array))&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&t!==+t},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===u.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return null!=t&&h.call(t,e)},v.noConflict=function(){return t._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=P,v.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var i=Array(Math.max(0,t));e=_(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=v.invert(H),w=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};v.escape=w(H),v.unescape=w(M),v.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),v.isFunction(i)?i.call(t):i};var E=0;v.uniqueId=function(t){var e=++E+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,k={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+k[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var i=RegExp([(e.escape||V).source,(e.interpolate||V).source,(e.evaluate||V).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,i,r,a){return s+=t.slice(o,a).replace(O,U),o=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var r=new Function(e.variable||"obj","_",s)}catch(t){throw t.source=s,t}var a=function(t){return r.call(this,t,v)},c=e.variable||"obj";return a.source="function("+c+"){\n"+s+"}",a},v.chain=function(t){var e=v(t);return e._chain=!0,e};var W=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),W(this,n.apply(v,t))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}}),v.each(["concat","join","slice"],function(t){var e=s[t];v.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}).call(void 0),cc._RF.pop()},{}]},{},["ComAuto","ComAutoBoxCollider","ComAutoPosXIphoneX","ComAutoScaleIphoneX","ComButtonTouchMaster","ComMoveMaster","ComNodePool","ComNotify","ComScheduler","ComTailAfter","ComTouchMaster","Configs","Constants","GlobalGameData","HttpRouters","JsonMgr","HttpHandler","PlaneGameHandler","UserHandler","ActionHelper","AudioHelper","AudioMgr_Plane","ButtonHelper","CCLoaderHelper","DataHelper","GameHelper","HttpHelper","NPHelper","NotifyHelper","ObjHelper","PBHelper","PlatformHelper","StringHelper","TexHelper","TimeHelper","WXAudioHelper","GameMsgLogic_Plane","GameScene_Plane","LoadingScene","Plane_Ctl","Plane_Logic","Plane_UI","HttpServer","UserServer","CryptUtil","MD5","XXTea","underscore","BaseDlg","DlgSetting","PbLoading","PbToast","PbTopInfo","PbTouchMask","PbBlueBall","PbBuff","PbBuffGroupCtl","PbBuffHint","PbBuffHintListCtl","PbBullet","PbBulletDieGroupCtl","PbBulletGroupCtl","PbCheckpoint","PbFireDieGroupCtl","PbFireSupportBullet","PbFireSupportCtl","PbFlamthrower","PbGoldGroupCtl","PbLasser","PbLightning","PbPlane","PbTailAfterBullet","PbTouchPlane","PbTreatmentGroupCtl","PbUAV","PbUpgradeActionGroupCtl","PbVirus","PbVirusActionAndSkills","PbVirusGroupCtl","PbVirusSkillsBOBM","PbVirusSkillsCOLLISION","PbVirusSkillsCURE","PbVirusSkillsCURE_SELF","PbVirusSkillsFillOut","PbVirusSkillsGIVE_BIRTH_TO_1","PbVirusSkillsGIVE_BIRTH_TO_2","PbVirusSkillsSpeedUp","PbVirusSkillsSplit","PbVirusSkillsTAIL_AFTER","PbVirus_INVINCIBLE","PbVirus_SPEED_CUT_OTHER","PbWingmanGroupCtl","PbWingman_BLUE_BALL","PbWingman_FLAMTHROWER","PbWingman_LASSER","PbWingman_LIGHTNING","PbWingman_UAV","SubMove_Plane","ShaderHelper","CustomMaterial","ShaderHook","Dissolve","DynamicBlurTransfer","Fluxay","FluxaySuper","GaussBlurs","Glowing","MaskShader","Mosaic","Outline","OverlayShader","RadialBlur","RainShader","Transfer","UnfoldTransfer","Water","WaveShader","WindowTransfer","ZoomBlurTransfer"]);